<style> code { white-space: pre-wrap; display: block; background-color: #eee; }.executed { background-color: #afa; }.reverted { background-color: #ffa; }.unexecuted { background-color: #faa; }.neutral { background-color: #eee; }</style><b>/home/hexshire/opUSDC/node_modules/@openzeppelin/contracts/access/Ownable.sol</b>
<code>
   1 |     | <span class='unexecuted'>// SPDX-License-Identifier: MIT</span>
   2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.0) (access/Ownable.sol)</span>
   3 |     | <span class='neutral'></span>
   4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
   5 |     | <span class='neutral'></span>
   6 |     | <span class='neutral'>import {Context} from &quot;../utils/Context.sol&quot;;</span>
   7 |     | <span class='neutral'></span>
   8 |     | <span class='neutral'>/**</span>
   9 |     | <span class='neutral'> * @dev Contract module which provides a basic access control mechanism, where</span>
  10 |     | <span class='neutral'> * there is an account (an owner) that can be granted exclusive access to</span>
  11 |     | <span class='neutral'> * specific functions.</span>
  12 |     | <span class='neutral'> *</span>
  13 |     | <span class='neutral'> * The initial owner is set to the address provided by the deployer. This can</span>
  14 |     | <span class='neutral'> * later be changed with {transferOwnership}.</span>
  15 |     | <span class='neutral'> *</span>
  16 |     | <span class='neutral'> * This module is used through inheritance. It will make available the modifier</span>
  17 |     | <span class='neutral'> * `onlyOwner`, which can be applied to your functions to restrict their use to</span>
  18 |     | <span class='neutral'> * the owner.</span>
  19 |     | <span class='neutral'> */</span>
  20 |     | <span class='neutral'>abstract contract Ownable is Context {</span>
  21 |     | <span class='neutral'>    address private _owner;</span>
  22 |     | <span class='neutral'></span>
  23 |     | <span class='neutral'>    /**</span>
  24 |     | <span class='neutral'>     * @dev The caller account is not authorized to perform an operation.</span>
  25 |     | <span class='neutral'>     */</span>
  26 |     | <span class='neutral'>    error OwnableUnauthorizedAccount(address account);</span>
  27 |     | <span class='neutral'></span>
  28 |     | <span class='neutral'>    /**</span>
  29 |     | <span class='neutral'>     * @dev The owner is not a valid owner account. (eg. `address(0)`)</span>
  30 |     | <span class='neutral'>     */</span>
  31 |     | <span class='neutral'>    error OwnableInvalidOwner(address owner);</span>
  32 |     | <span class='neutral'></span>
  33 |     | <span class='neutral'>    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);</span>
  34 |     | <span class='neutral'></span>
  35 |     | <span class='neutral'>    /**</span>
  36 |     | <span class='neutral'>     * @dev Initializes the contract setting the address provided by the deployer as the initial owner.</span>
  37 |     | <span class='neutral'>     */</span>
  38 |     | <span class='neutral'>    constructor(address initialOwner) {</span>
  39 |     | <span class='unexecuted'>        if (initialOwner == address(0)) {</span>
  40 |     | <span class='unexecuted'>            revert OwnableInvalidOwner(address(0));</span>
  41 |     | <span class='neutral'>        }</span>
  42 |     | <span class='unexecuted'>        _transferOwnership(initialOwner);</span>
  43 |     | <span class='neutral'>    }</span>
  44 |     | <span class='neutral'></span>
  45 |     | <span class='neutral'>    /**</span>
  46 |     | <span class='neutral'>     * @dev Throws if called by any account other than the owner.</span>
  47 |     | <span class='neutral'>     */</span>
  48 |     | <span class='neutral'>    modifier onlyOwner() {</span>
  49 |     | <span class='unexecuted'>        _checkOwner();</span>
  50 |     | <span class='neutral'>        _;</span>
  51 |     | <span class='neutral'>    }</span>
  52 |     | <span class='neutral'></span>
  53 |     | <span class='neutral'>    /**</span>
  54 |     | <span class='neutral'>     * @dev Returns the address of the current owner.</span>
  55 |     | <span class='neutral'>     */</span>
  56 |     | <span class='unexecuted'>    function owner() public view virtual returns (address) {</span>
  57 |     | <span class='unexecuted'>        return _owner;</span>
  58 |     | <span class='neutral'>    }</span>
  59 |     | <span class='neutral'></span>
  60 |     | <span class='neutral'>    /**</span>
  61 |     | <span class='neutral'>     * @dev Throws if the sender is not the owner.</span>
  62 |     | <span class='neutral'>     */</span>
  63 |     | <span class='unexecuted'>    function _checkOwner() internal view virtual {</span>
  64 |     | <span class='unexecuted'>        if (owner() != _msgSender()) {</span>
  65 |     | <span class='unexecuted'>            revert OwnableUnauthorizedAccount(_msgSender());</span>
  66 |     | <span class='neutral'>        }</span>
  67 |     | <span class='neutral'>    }</span>
  68 |     | <span class='neutral'></span>
  69 |     | <span class='neutral'>    /**</span>
  70 |     | <span class='neutral'>     * @dev Leaves the contract without owner. It will not be possible to call</span>
  71 |     | <span class='neutral'>     * `onlyOwner` functions. Can only be called by the current owner.</span>
  72 |     | <span class='neutral'>     *</span>
  73 |     | <span class='neutral'>     * NOTE: Renouncing ownership will leave the contract without an owner,</span>
  74 |     | <span class='neutral'>     * thereby disabling any functionality that is only available to the owner.</span>
  75 |     | <span class='neutral'>     */</span>
  76 |     | <span class='unexecuted'>    function renounceOwnership() public virtual onlyOwner {</span>
  77 |     | <span class='unexecuted'>        _transferOwnership(address(0));</span>
  78 |     | <span class='neutral'>    }</span>
  79 |     | <span class='neutral'></span>
  80 |     | <span class='neutral'>    /**</span>
  81 |     | <span class='neutral'>     * @dev Transfers ownership of the contract to a new account (`newOwner`).</span>
  82 |     | <span class='neutral'>     * Can only be called by the current owner.</span>
  83 |     | <span class='neutral'>     */</span>
  84 |     | <span class='unexecuted'>    function transferOwnership(address newOwner) public virtual onlyOwner {</span>
  85 |     | <span class='unexecuted'>        if (newOwner == address(0)) {</span>
  86 |     | <span class='unexecuted'>            revert OwnableInvalidOwner(address(0));</span>
  87 |     | <span class='neutral'>        }</span>
  88 |     | <span class='unexecuted'>        _transferOwnership(newOwner);</span>
  89 |     | <span class='neutral'>    }</span>
  90 |     | <span class='neutral'></span>
  91 |     | <span class='neutral'>    /**</span>
  92 |     | <span class='neutral'>     * @dev Transfers ownership of the contract to a new account (`newOwner`).</span>
  93 |     | <span class='neutral'>     * Internal function without access restriction.</span>
  94 |     | <span class='neutral'>     */</span>
  95 |     | <span class='unexecuted'>    function _transferOwnership(address newOwner) internal virtual {</span>
  96 |     | <span class='unexecuted'>        address oldOwner = _owner;</span>
  97 |     | <span class='unexecuted'>        _owner = newOwner;</span>
  98 |     | <span class='unexecuted'>        emit OwnershipTransferred(oldOwner, newOwner);</span>
  99 |     | <span class='neutral'>    }</span>
 100 |     | <span class='neutral'>}</span>
 101 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/node_modules/@openzeppelin/contracts/interfaces/IERC1271.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.0) (interfaces/IERC1271.sol)</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
  5 |     | <span class='neutral'></span>
  6 |     | <span class='neutral'>/**</span>
  7 |     | <span class='neutral'> * @dev Interface of the ERC1271 standard signature validation method for</span>
  8 |     | <span class='neutral'> * contracts as defined in https://eips.ethereum.org/EIPS/eip-1271[ERC-1271].</span>
  9 |     | <span class='neutral'> */</span>
 10 |     | <span class='neutral'>interface IERC1271 {</span>
 11 |     | <span class='neutral'>    /**</span>
 12 |     | <span class='neutral'>     * @dev Should return whether the signature provided is valid for the provided data</span>
 13 |     | <span class='neutral'>     * @param hash      Hash of the data to be signed</span>
 14 |     | <span class='neutral'>     * @param signature Signature byte array associated with _data</span>
 15 |     | <span class='neutral'>     */</span>
 16 |     | <span class='neutral'>    function isValidSignature(bytes32 hash, bytes memory signature) external view returns (bytes4 magicValue);</span>
 17 |     | <span class='neutral'>}</span>
 18 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/node_modules/@openzeppelin/contracts/token/ERC20/IERC20.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.0) (token/ERC20/IERC20.sol)</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
  5 |     | <span class='neutral'></span>
  6 |     | <span class='neutral'>/**</span>
  7 |     | <span class='neutral'> * @dev Interface of the ERC20 standard as defined in the EIP.</span>
  8 |     | <span class='neutral'> */</span>
  9 |     | <span class='neutral'>interface IERC20 {</span>
 10 |     | <span class='neutral'>    /**</span>
 11 |     | <span class='neutral'>     * @dev Emitted when `value` tokens are moved from one account (`from`) to</span>
 12 |     | <span class='neutral'>     * another (`to`).</span>
 13 |     | <span class='neutral'>     *</span>
 14 |     | <span class='neutral'>     * Note that `value` may be zero.</span>
 15 |     | <span class='neutral'>     */</span>
 16 |     | <span class='neutral'>    event Transfer(address indexed from, address indexed to, uint256 value);</span>
 17 |     | <span class='neutral'></span>
 18 |     | <span class='neutral'>    /**</span>
 19 |     | <span class='neutral'>     * @dev Emitted when the allowance of a `spender` for an `owner` is set by</span>
 20 |     | <span class='neutral'>     * a call to {approve}. `value` is the new allowance.</span>
 21 |     | <span class='neutral'>     */</span>
 22 |     | <span class='neutral'>    event Approval(address indexed owner, address indexed spender, uint256 value);</span>
 23 |     | <span class='neutral'></span>
 24 |     | <span class='neutral'>    /**</span>
 25 |     | <span class='neutral'>     * @dev Returns the value of tokens in existence.</span>
 26 |     | <span class='neutral'>     */</span>
 27 |     | <span class='neutral'>    function totalSupply() external view returns (uint256);</span>
 28 |     | <span class='neutral'></span>
 29 |     | <span class='neutral'>    /**</span>
 30 |     | <span class='neutral'>     * @dev Returns the value of tokens owned by `account`.</span>
 31 |     | <span class='neutral'>     */</span>
 32 |     | <span class='neutral'>    function balanceOf(address account) external view returns (uint256);</span>
 33 |     | <span class='neutral'></span>
 34 |     | <span class='neutral'>    /**</span>
 35 |     | <span class='neutral'>     * @dev Moves a `value` amount of tokens from the caller&#39;s account to `to`.</span>
 36 |     | <span class='neutral'>     *</span>
 37 |     | <span class='neutral'>     * Returns a boolean value indicating whether the operation succeeded.</span>
 38 |     | <span class='neutral'>     *</span>
 39 |     | <span class='neutral'>     * Emits a {Transfer} event.</span>
 40 |     | <span class='neutral'>     */</span>
 41 |     | <span class='neutral'>    function transfer(address to, uint256 value) external returns (bool);</span>
 42 |     | <span class='neutral'></span>
 43 |     | <span class='neutral'>    /**</span>
 44 |     | <span class='neutral'>     * @dev Returns the remaining number of tokens that `spender` will be</span>
 45 |     | <span class='neutral'>     * allowed to spend on behalf of `owner` through {transferFrom}. This is</span>
 46 |     | <span class='neutral'>     * zero by default.</span>
 47 |     | <span class='neutral'>     *</span>
 48 |     | <span class='neutral'>     * This value changes when {approve} or {transferFrom} are called.</span>
 49 |     | <span class='neutral'>     */</span>
 50 |     | <span class='neutral'>    function allowance(address owner, address spender) external view returns (uint256);</span>
 51 |     | <span class='neutral'></span>
 52 |     | <span class='neutral'>    /**</span>
 53 |     | <span class='neutral'>     * @dev Sets a `value` amount of tokens as the allowance of `spender` over the</span>
 54 |     | <span class='neutral'>     * caller&#39;s tokens.</span>
 55 |     | <span class='neutral'>     *</span>
 56 |     | <span class='neutral'>     * Returns a boolean value indicating whether the operation succeeded.</span>
 57 |     | <span class='neutral'>     *</span>
 58 |     | <span class='neutral'>     * IMPORTANT: Beware that changing an allowance with this method brings the risk</span>
 59 |     | <span class='neutral'>     * that someone may use both the old and the new allowance by unfortunate</span>
 60 |     | <span class='neutral'>     * transaction ordering. One possible solution to mitigate this race</span>
 61 |     | <span class='neutral'>     * condition is to first reduce the spender&#39;s allowance to 0 and set the</span>
 62 |     | <span class='neutral'>     * desired value afterwards:</span>
 63 |     | <span class='neutral'>     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729</span>
 64 |     | <span class='neutral'>     *</span>
 65 |     | <span class='neutral'>     * Emits an {Approval} event.</span>
 66 |     | <span class='neutral'>     */</span>
 67 |     | <span class='neutral'>    function approve(address spender, uint256 value) external returns (bool);</span>
 68 |     | <span class='neutral'></span>
 69 |     | <span class='neutral'>    /**</span>
 70 |     | <span class='neutral'>     * @dev Moves a `value` amount of tokens from `from` to `to` using the</span>
 71 |     | <span class='neutral'>     * allowance mechanism. `value` is then deducted from the caller&#39;s</span>
 72 |     | <span class='neutral'>     * allowance.</span>
 73 |     | <span class='neutral'>     *</span>
 74 |     | <span class='neutral'>     * Returns a boolean value indicating whether the operation succeeded.</span>
 75 |     | <span class='neutral'>     *</span>
 76 |     | <span class='neutral'>     * Emits a {Transfer} event.</span>
 77 |     | <span class='neutral'>     */</span>
 78 |     | <span class='neutral'>    function transferFrom(address from, address to, uint256 value) external returns (bool);</span>
 79 |     | <span class='neutral'>}</span>
 80 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/node_modules/@openzeppelin/contracts/token/ERC20/extensions/IERC20Permit.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.0) (token/ERC20/extensions/IERC20Permit.sol)</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
  5 |     | <span class='neutral'></span>
  6 |     | <span class='neutral'>/**</span>
  7 |     | <span class='neutral'> * @dev Interface of the ERC20 Permit extension allowing approvals to be made via signatures, as defined in</span>
  8 |     | <span class='neutral'> * https://eips.ethereum.org/EIPS/eip-2612[EIP-2612].</span>
  9 |     | <span class='neutral'> *</span>
 10 |     | <span class='neutral'> * Adds the {permit} method, which can be used to change an account&#39;s ERC20 allowance (see {IERC20-allowance}) by</span>
 11 |     | <span class='neutral'> * presenting a message signed by the account. By not relying on {IERC20-approve}, the token holder account doesn&#39;t</span>
 12 |     | <span class='neutral'> * need to send a transaction, and thus is not required to hold Ether at all.</span>
 13 |     | <span class='neutral'> *</span>
 14 |     | <span class='neutral'> * ==== Security Considerations</span>
 15 |     | <span class='neutral'> *</span>
 16 |     | <span class='neutral'> * There are two important considerations concerning the use of `permit`. The first is that a valid permit signature</span>
 17 |     | <span class='neutral'> * expresses an allowance, and it should not be assumed to convey additional meaning. In particular, it should not be</span>
 18 |     | <span class='neutral'> * considered as an intention to spend the allowance in any specific way. The second is that because permits have</span>
 19 |     | <span class='neutral'> * built-in replay protection and can be submitted by anyone, they can be frontrun. A protocol that uses permits should</span>
 20 |     | <span class='neutral'> * take this into consideration and allow a `permit` call to fail. Combining these two aspects, a pattern that may be</span>
 21 |     | <span class='neutral'> * generally recommended is:</span>
 22 |     | <span class='neutral'> *</span>
 23 |     | <span class='neutral'> * ```solidity</span>
 24 |     | <span class='neutral'> * function doThingWithPermit(..., uint256 value, uint256 deadline, uint8 v, bytes32 r, bytes32 s) public {</span>
 25 |     | <span class='neutral'> *     try token.permit(msg.sender, address(this), value, deadline, v, r, s) {} catch {}</span>
 26 |     | <span class='neutral'> *     doThing(..., value);</span>
 27 |     | <span class='neutral'> * }</span>
 28 |     | <span class='neutral'> *</span>
 29 |     | <span class='neutral'> * function doThing(..., uint256 value) public {</span>
 30 |     | <span class='neutral'> *     token.safeTransferFrom(msg.sender, address(this), value);</span>
 31 |     | <span class='neutral'> *     ...</span>
 32 |     | <span class='neutral'> * }</span>
 33 |     | <span class='neutral'> * ```</span>
 34 |     | <span class='neutral'> *</span>
 35 |     | <span class='neutral'> * Observe that: 1) `msg.sender` is used as the owner, leaving no ambiguity as to the signer intent, and 2) the use of</span>
 36 |     | <span class='neutral'> * `try/catch` allows the permit to fail and makes the code tolerant to frontrunning. (See also</span>
 37 |     | <span class='neutral'> * {SafeERC20-safeTransferFrom}).</span>
 38 |     | <span class='neutral'> *</span>
 39 |     | <span class='neutral'> * Additionally, note that smart contract wallets (such as Argent or Safe) are not able to produce permit signatures, so</span>
 40 |     | <span class='neutral'> * contracts should have entry points that don&#39;t rely on permit.</span>
 41 |     | <span class='neutral'> */</span>
 42 |     | <span class='neutral'>interface IERC20Permit {</span>
 43 |     | <span class='neutral'>    /**</span>
 44 |     | <span class='neutral'>     * @dev Sets `value` as the allowance of `spender` over ``owner``&#39;s tokens,</span>
 45 |     | <span class='neutral'>     * given ``owner``&#39;s signed approval.</span>
 46 |     | <span class='neutral'>     *</span>
 47 |     | <span class='neutral'>     * IMPORTANT: The same issues {IERC20-approve} has related to transaction</span>
 48 |     | <span class='neutral'>     * ordering also apply here.</span>
 49 |     | <span class='neutral'>     *</span>
 50 |     | <span class='neutral'>     * Emits an {Approval} event.</span>
 51 |     | <span class='neutral'>     *</span>
 52 |     | <span class='neutral'>     * Requirements:</span>
 53 |     | <span class='neutral'>     *</span>
 54 |     | <span class='neutral'>     * - `spender` cannot be the zero address.</span>
 55 |     | <span class='neutral'>     * - `deadline` must be a timestamp in the future.</span>
 56 |     | <span class='neutral'>     * - `v`, `r` and `s` must be a valid `secp256k1` signature from `owner`</span>
 57 |     | <span class='neutral'>     * over the EIP712-formatted function arguments.</span>
 58 |     | <span class='neutral'>     * - the signature must use ``owner``&#39;s current nonce (see {nonces}).</span>
 59 |     | <span class='neutral'>     *</span>
 60 |     | <span class='neutral'>     * For more information on the signature format, see the</span>
 61 |     | <span class='neutral'>     * https://eips.ethereum.org/EIPS/eip-2612#specification[relevant EIP</span>
 62 |     | <span class='neutral'>     * section].</span>
 63 |     | <span class='neutral'>     *</span>
 64 |     | <span class='neutral'>     * CAUTION: See Security Considerations above.</span>
 65 |     | <span class='neutral'>     */</span>
 66 |     | <span class='neutral'>    function permit(</span>
 67 |     | <span class='neutral'>        address owner,</span>
 68 |     | <span class='neutral'>        address spender,</span>
 69 |     | <span class='neutral'>        uint256 value,</span>
 70 |     | <span class='neutral'>        uint256 deadline,</span>
 71 |     | <span class='neutral'>        uint8 v,</span>
 72 |     | <span class='neutral'>        bytes32 r,</span>
 73 |     | <span class='neutral'>        bytes32 s</span>
 74 |     | <span class='neutral'>    ) external;</span>
 75 |     | <span class='neutral'></span>
 76 |     | <span class='neutral'>    /**</span>
 77 |     | <span class='neutral'>     * @dev Returns the current nonce for `owner`. This value must be</span>
 78 |     | <span class='neutral'>     * included whenever a signature is generated for {permit}.</span>
 79 |     | <span class='neutral'>     *</span>
 80 |     | <span class='neutral'>     * Every successful call to {permit} increases ``owner``&#39;s nonce by one. This</span>
 81 |     | <span class='neutral'>     * prevents a signature from being used multiple times.</span>
 82 |     | <span class='neutral'>     */</span>
 83 |     | <span class='neutral'>    function nonces(address owner) external view returns (uint256);</span>
 84 |     | <span class='neutral'></span>
 85 |     | <span class='neutral'>    /**</span>
 86 |     | <span class='neutral'>     * @dev Returns the domain separator used in the encoding of the signature for {permit}, as defined by {EIP712}.</span>
 87 |     | <span class='neutral'>     */</span>
 88 |     | <span class='neutral'>    // solhint-disable-next-line func-name-mixedcase</span>
 89 |     | <span class='neutral'>    function DOMAIN_SEPARATOR() external view returns (bytes32);</span>
 90 |     | <span class='neutral'>}</span>
 91 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/node_modules/@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol</b>
<code>
   1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
   2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.0) (token/ERC20/utils/SafeERC20.sol)</span>
   3 |     | <span class='neutral'></span>
   4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
   5 |     | <span class='neutral'></span>
   6 |     | <span class='neutral'>import {IERC20} from &quot;../IERC20.sol&quot;;</span>
   7 |     | <span class='neutral'>import {IERC20Permit} from &quot;../extensions/IERC20Permit.sol&quot;;</span>
   8 |     | <span class='neutral'>import {Address} from &quot;../../../utils/Address.sol&quot;;</span>
   9 |     | <span class='neutral'></span>
  10 |     | <span class='neutral'>/**</span>
  11 |     | <span class='neutral'> * @title SafeERC20</span>
  12 |     | <span class='neutral'> * @dev Wrappers around ERC20 operations that throw on failure (when the token</span>
  13 |     | <span class='neutral'> * contract returns false). Tokens that return no value (and instead revert or</span>
  14 |     | <span class='neutral'> * throw on failure) are also supported, non-reverting calls are assumed to be</span>
  15 |     | <span class='neutral'> * successful.</span>
  16 |     | <span class='neutral'> * To use this library you can add a `using SafeERC20 for IERC20;` statement to your contract,</span>
  17 |     | <span class='neutral'> * which allows you to call the safe operations as `token.safeTransfer(...)`, etc.</span>
  18 |     | <span class='neutral'> */</span>
  19 |     | <span class='unexecuted'>library SafeERC20 {</span>
  20 |     | <span class='neutral'>    using Address for address;</span>
  21 |     | <span class='neutral'></span>
  22 |     | <span class='neutral'>    /**</span>
  23 |     | <span class='neutral'>     * @dev An operation with an ERC20 token failed.</span>
  24 |     | <span class='neutral'>     */</span>
  25 |     | <span class='neutral'>    error SafeERC20FailedOperation(address token);</span>
  26 |     | <span class='neutral'></span>
  27 |     | <span class='neutral'>    /**</span>
  28 |     | <span class='neutral'>     * @dev Indicates a failed `decreaseAllowance` request.</span>
  29 |     | <span class='neutral'>     */</span>
  30 |     | <span class='neutral'>    error SafeERC20FailedDecreaseAllowance(address spender, uint256 currentAllowance, uint256 requestedDecrease);</span>
  31 |     | <span class='neutral'></span>
  32 |     | <span class='neutral'>    /**</span>
  33 |     | <span class='neutral'>     * @dev Transfer `value` amount of `token` from the calling contract to `to`. If `token` returns no value,</span>
  34 |     | <span class='neutral'>     * non-reverting calls are assumed to be successful.</span>
  35 |     | <span class='neutral'>     */</span>
  36 |     | <span class='unexecuted'>    function safeTransfer(IERC20 token, address to, uint256 value) internal {</span>
  37 |     | <span class='unexecuted'>        _callOptionalReturn(token, abi.encodeCall(token.transfer, (to, value)));</span>
  38 |     | <span class='neutral'>    }</span>
  39 |     | <span class='neutral'></span>
  40 |     | <span class='neutral'>    /**</span>
  41 |     | <span class='neutral'>     * @dev Transfer `value` amount of `token` from `from` to `to`, spending the approval given by `from` to the</span>
  42 |     | <span class='neutral'>     * calling contract. If `token` returns no value, non-reverting calls are assumed to be successful.</span>
  43 |     | <span class='neutral'>     */</span>
  44 |     | <span class='unexecuted'>    function safeTransferFrom(IERC20 token, address from, address to, uint256 value) internal {</span>
  45 |     | <span class='unexecuted'>        _callOptionalReturn(token, abi.encodeCall(token.transferFrom, (from, to, value)));</span>
  46 |     | <span class='neutral'>    }</span>
  47 |     | <span class='neutral'></span>
  48 |     | <span class='neutral'>    /**</span>
  49 |     | <span class='neutral'>     * @dev Increase the calling contract&#39;s allowance toward `spender` by `value`. If `token` returns no value,</span>
  50 |     | <span class='neutral'>     * non-reverting calls are assumed to be successful.</span>
  51 |     | <span class='neutral'>     */</span>
  52 |     | <span class='neutral'>    function safeIncreaseAllowance(IERC20 token, address spender, uint256 value) internal {</span>
  53 |     | <span class='neutral'>        uint256 oldAllowance = token.allowance(address(this), spender);</span>
  54 |     | <span class='neutral'>        forceApprove(token, spender, oldAllowance + value);</span>
  55 |     | <span class='neutral'>    }</span>
  56 |     | <span class='neutral'></span>
  57 |     | <span class='neutral'>    /**</span>
  58 |     | <span class='neutral'>     * @dev Decrease the calling contract&#39;s allowance toward `spender` by `requestedDecrease`. If `token` returns no</span>
  59 |     | <span class='neutral'>     * value, non-reverting calls are assumed to be successful.</span>
  60 |     | <span class='neutral'>     */</span>
  61 |     | <span class='neutral'>    function safeDecreaseAllowance(IERC20 token, address spender, uint256 requestedDecrease) internal {</span>
  62 |     | <span class='neutral'>        unchecked {</span>
  63 |     | <span class='neutral'>            uint256 currentAllowance = token.allowance(address(this), spender);</span>
  64 |     | <span class='neutral'>            if (currentAllowance &lt; requestedDecrease) {</span>
  65 |     | <span class='neutral'>                revert SafeERC20FailedDecreaseAllowance(spender, currentAllowance, requestedDecrease);</span>
  66 |     | <span class='neutral'>            }</span>
  67 |     | <span class='neutral'>            forceApprove(token, spender, currentAllowance - requestedDecrease);</span>
  68 |     | <span class='neutral'>        }</span>
  69 |     | <span class='neutral'>    }</span>
  70 |     | <span class='neutral'></span>
  71 |     | <span class='neutral'>    /**</span>
  72 |     | <span class='neutral'>     * @dev Set the calling contract&#39;s allowance toward `spender` to `value`. If `token` returns no value,</span>
  73 |     | <span class='neutral'>     * non-reverting calls are assumed to be successful. Meant to be used with tokens that require the approval</span>
  74 |     | <span class='neutral'>     * to be set to zero before setting it to a non-zero value, such as USDT.</span>
  75 |     | <span class='neutral'>     */</span>
  76 |     | <span class='neutral'>    function forceApprove(IERC20 token, address spender, uint256 value) internal {</span>
  77 |     | <span class='neutral'>        bytes memory approvalCall = abi.encodeCall(token.approve, (spender, value));</span>
  78 |     | <span class='neutral'></span>
  79 |     | <span class='neutral'>        if (!_callOptionalReturnBool(token, approvalCall)) {</span>
  80 |     | <span class='neutral'>            _callOptionalReturn(token, abi.encodeCall(token.approve, (spender, 0)));</span>
  81 |     | <span class='neutral'>            _callOptionalReturn(token, approvalCall);</span>
  82 |     | <span class='neutral'>        }</span>
  83 |     | <span class='neutral'>    }</span>
  84 |     | <span class='neutral'></span>
  85 |     | <span class='neutral'>    /**</span>
  86 |     | <span class='neutral'>     * @dev Imitates a Solidity high-level call (i.e. a regular function call to a contract), relaxing the requirement</span>
  87 |     | <span class='neutral'>     * on the return value: the return value is optional (but if data is returned, it must not be false).</span>
  88 |     | <span class='neutral'>     * @param token The token targeted by the call.</span>
  89 |     | <span class='neutral'>     * @param data The call data (encoded using abi.encode or one of its variants).</span>
  90 |     | <span class='neutral'>     */</span>
  91 |     | <span class='unexecuted'>    function _callOptionalReturn(IERC20 token, bytes memory data) private {</span>
  92 |     | <span class='neutral'>        // We need to perform a low level call here, to bypass Solidity&#39;s return data size checking mechanism, since</span>
  93 |     | <span class='neutral'>        // we&#39;re implementing it ourselves. We use {Address-functionCall} to perform this call, which verifies that</span>
  94 |     | <span class='neutral'>        // the target address contains contract code and also asserts for success in the low-level call.</span>
  95 |     | <span class='neutral'></span>
  96 |     | <span class='unexecuted'>        bytes memory returndata = address(token).functionCall(data);</span>
  97 |     | <span class='unexecuted'>        if (returndata.length != 0 &amp;&amp; !abi.decode(returndata, (bool))) {</span>
  98 |     | <span class='unexecuted'>            revert SafeERC20FailedOperation(address(token));</span>
  99 |     | <span class='neutral'>        }</span>
 100 |     | <span class='neutral'>    }</span>
 101 |     | <span class='neutral'></span>
 102 |     | <span class='neutral'>    /**</span>
 103 |     | <span class='neutral'>     * @dev Imitates a Solidity high-level call (i.e. a regular function call to a contract), relaxing the requirement</span>
 104 |     | <span class='neutral'>     * on the return value: the return value is optional (but if data is returned, it must not be false).</span>
 105 |     | <span class='neutral'>     * @param token The token targeted by the call.</span>
 106 |     | <span class='neutral'>     * @param data The call data (encoded using abi.encode or one of its variants).</span>
 107 |     | <span class='neutral'>     *</span>
 108 |     | <span class='neutral'>     * This is a variant of {_callOptionalReturn} that silents catches all reverts and returns a bool instead.</span>
 109 |     | <span class='neutral'>     */</span>
 110 |     | <span class='neutral'>    function _callOptionalReturnBool(IERC20 token, bytes memory data) private returns (bool) {</span>
 111 |     | <span class='neutral'>        // We need to perform a low level call here, to bypass Solidity&#39;s return data size checking mechanism, since</span>
 112 |     | <span class='neutral'>        // we&#39;re implementing it ourselves. We cannot use {Address-functionCall} here since this should return false</span>
 113 |     | <span class='neutral'>        // and not revert is the subcall reverts.</span>
 114 |     | <span class='neutral'></span>
 115 |     | <span class='neutral'>        (bool success, bytes memory returndata) = address(token).call(data);</span>
 116 |     | <span class='neutral'>        return success &amp;&amp; (returndata.length == 0 || abi.decode(returndata, (bool))) &amp;&amp; address(token).code.length &gt; 0;</span>
 117 |     | <span class='neutral'>    }</span>
 118 |     | <span class='neutral'>}</span>
 119 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/node_modules/@openzeppelin/contracts/utils/Address.sol</b>
<code>
   1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
   2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.0) (utils/Address.sol)</span>
   3 |     | <span class='neutral'></span>
   4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
   5 |     | <span class='neutral'></span>
   6 |     | <span class='neutral'>/**</span>
   7 |     | <span class='neutral'> * @dev Collection of functions related to the address type</span>
   8 |     | <span class='neutral'> */</span>
   9 |     | <span class='unexecuted'>library Address {</span>
  10 |     | <span class='neutral'>    /**</span>
  11 |     | <span class='neutral'>     * @dev The ETH balance of the account is not enough to perform the operation.</span>
  12 |     | <span class='neutral'>     */</span>
  13 |     | <span class='neutral'>    error AddressInsufficientBalance(address account);</span>
  14 |     | <span class='neutral'></span>
  15 |     | <span class='neutral'>    /**</span>
  16 |     | <span class='neutral'>     * @dev There&#39;s no code at `target` (it is not a contract).</span>
  17 |     | <span class='neutral'>     */</span>
  18 |     | <span class='neutral'>    error AddressEmptyCode(address target);</span>
  19 |     | <span class='neutral'></span>
  20 |     | <span class='neutral'>    /**</span>
  21 |     | <span class='neutral'>     * @dev A call to an address target failed. The target may have reverted.</span>
  22 |     | <span class='neutral'>     */</span>
  23 |     | <span class='neutral'>    error FailedInnerCall();</span>
  24 |     | <span class='neutral'></span>
  25 |     | <span class='neutral'>    /**</span>
  26 |     | <span class='neutral'>     * @dev Replacement for Solidity&#39;s `transfer`: sends `amount` wei to</span>
  27 |     | <span class='neutral'>     * `recipient`, forwarding all available gas and reverting on errors.</span>
  28 |     | <span class='neutral'>     *</span>
  29 |     | <span class='neutral'>     * https://eips.ethereum.org/EIPS/eip-1884[EIP1884] increases the gas cost</span>
  30 |     | <span class='neutral'>     * of certain opcodes, possibly making contracts go over the 2300 gas limit</span>
  31 |     | <span class='neutral'>     * imposed by `transfer`, making them unable to receive funds via</span>
  32 |     | <span class='neutral'>     * `transfer`. {sendValue} removes this limitation.</span>
  33 |     | <span class='neutral'>     *</span>
  34 |     | <span class='neutral'>     * https://consensys.net/diligence/blog/2019/09/stop-using-soliditys-transfer-now/[Learn more].</span>
  35 |     | <span class='neutral'>     *</span>
  36 |     | <span class='neutral'>     * IMPORTANT: because control is transferred to `recipient`, care must be</span>
  37 |     | <span class='neutral'>     * taken to not create reentrancy vulnerabilities. Consider using</span>
  38 |     | <span class='neutral'>     * {ReentrancyGuard} or the</span>
  39 |     | <span class='neutral'>     * https://solidity.readthedocs.io/en/v0.8.20/security-considerations.html#use-the-checks-effects-interactions-pattern[checks-effects-interactions pattern].</span>
  40 |     | <span class='neutral'>     */</span>
  41 |     | <span class='neutral'>    function sendValue(address payable recipient, uint256 amount) internal {</span>
  42 |     | <span class='neutral'>        if (address(this).balance &lt; amount) {</span>
  43 |     | <span class='neutral'>            revert AddressInsufficientBalance(address(this));</span>
  44 |     | <span class='neutral'>        }</span>
  45 |     | <span class='neutral'></span>
  46 |     | <span class='neutral'>        (bool success, ) = recipient.call{value: amount}(&quot;&quot;);</span>
  47 |     | <span class='neutral'>        if (!success) {</span>
  48 |     | <span class='neutral'>            revert FailedInnerCall();</span>
  49 |     | <span class='neutral'>        }</span>
  50 |     | <span class='neutral'>    }</span>
  51 |     | <span class='neutral'></span>
  52 |     | <span class='neutral'>    /**</span>
  53 |     | <span class='neutral'>     * @dev Performs a Solidity function call using a low level `call`. A</span>
  54 |     | <span class='neutral'>     * plain `call` is an unsafe replacement for a function call: use this</span>
  55 |     | <span class='neutral'>     * function instead.</span>
  56 |     | <span class='neutral'>     *</span>
  57 |     | <span class='neutral'>     * If `target` reverts with a revert reason or custom error, it is bubbled</span>
  58 |     | <span class='neutral'>     * up by this function (like regular Solidity function calls). However, if</span>
  59 |     | <span class='neutral'>     * the call reverted with no returned reason, this function reverts with a</span>
  60 |     | <span class='neutral'>     * {FailedInnerCall} error.</span>
  61 |     | <span class='neutral'>     *</span>
  62 |     | <span class='neutral'>     * Returns the raw returned data. To convert to the expected return value,</span>
  63 |     | <span class='neutral'>     * use https://solidity.readthedocs.io/en/latest/units-and-global-variables.html?highlight=abi.decode#abi-encoding-and-decoding-functions[`abi.decode`].</span>
  64 |     | <span class='neutral'>     *</span>
  65 |     | <span class='neutral'>     * Requirements:</span>
  66 |     | <span class='neutral'>     *</span>
  67 |     | <span class='neutral'>     * - `target` must be a contract.</span>
  68 |     | <span class='neutral'>     * - calling `target` with `data` must not revert.</span>
  69 |     | <span class='neutral'>     */</span>
  70 |     | <span class='unexecuted'>    function functionCall(address target, bytes memory data) internal returns (bytes memory) {</span>
  71 |     | <span class='unexecuted'>        return functionCallWithValue(target, data, 0);</span>
  72 |     | <span class='neutral'>    }</span>
  73 |     | <span class='neutral'></span>
  74 |     | <span class='neutral'>    /**</span>
  75 |     | <span class='neutral'>     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],</span>
  76 |     | <span class='neutral'>     * but also transferring `value` wei to `target`.</span>
  77 |     | <span class='neutral'>     *</span>
  78 |     | <span class='neutral'>     * Requirements:</span>
  79 |     | <span class='neutral'>     *</span>
  80 |     | <span class='neutral'>     * - the calling contract must have an ETH balance of at least `value`.</span>
  81 |     | <span class='neutral'>     * - the called Solidity function must be `payable`.</span>
  82 |     | <span class='neutral'>     */</span>
  83 |     | <span class='unexecuted'>    function functionCallWithValue(address target, bytes memory data, uint256 value) internal returns (bytes memory) {</span>
  84 |     | <span class='unexecuted'>        if (address(this).balance &lt; value) {</span>
  85 |     | <span class='unexecuted'>            revert AddressInsufficientBalance(address(this));</span>
  86 |     | <span class='neutral'>        }</span>
  87 |     | <span class='unexecuted'>        (bool success, bytes memory returndata) = target.call{value: value}(data);</span>
  88 |     | <span class='unexecuted'>        return verifyCallResultFromTarget(target, success, returndata);</span>
  89 |     | <span class='neutral'>    }</span>
  90 |     | <span class='neutral'></span>
  91 |     | <span class='neutral'>    /**</span>
  92 |     | <span class='neutral'>     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],</span>
  93 |     | <span class='neutral'>     * but performing a static call.</span>
  94 |     | <span class='neutral'>     */</span>
  95 |     | <span class='neutral'>    function functionStaticCall(address target, bytes memory data) internal view returns (bytes memory) {</span>
  96 |     | <span class='neutral'>        (bool success, bytes memory returndata) = target.staticcall(data);</span>
  97 |     | <span class='neutral'>        return verifyCallResultFromTarget(target, success, returndata);</span>
  98 |     | <span class='neutral'>    }</span>
  99 |     | <span class='neutral'></span>
 100 |     | <span class='neutral'>    /**</span>
 101 |     | <span class='neutral'>     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],</span>
 102 |     | <span class='neutral'>     * but performing a delegate call.</span>
 103 |     | <span class='neutral'>     */</span>
 104 |     | <span class='neutral'>    function functionDelegateCall(address target, bytes memory data) internal returns (bytes memory) {</span>
 105 |     | <span class='neutral'>        (bool success, bytes memory returndata) = target.delegatecall(data);</span>
 106 |     | <span class='neutral'>        return verifyCallResultFromTarget(target, success, returndata);</span>
 107 |     | <span class='neutral'>    }</span>
 108 |     | <span class='neutral'></span>
 109 |     | <span class='neutral'>    /**</span>
 110 |     | <span class='neutral'>     * @dev Tool to verify that a low level call to smart-contract was successful, and reverts if the target</span>
 111 |     | <span class='neutral'>     * was not a contract or bubbling up the revert reason (falling back to {FailedInnerCall}) in case of an</span>
 112 |     | <span class='neutral'>     * unsuccessful call.</span>
 113 |     | <span class='neutral'>     */</span>
 114 |     | <span class='unexecuted'>    function verifyCallResultFromTarget(</span>
 115 |     | <span class='neutral'>        address target,</span>
 116 |     | <span class='neutral'>        bool success,</span>
 117 |     | <span class='neutral'>        bytes memory returndata</span>
 118 |     | <span class='unexecuted'>    ) internal view returns (bytes memory) {</span>
 119 |     | <span class='unexecuted'>        if (!success) {</span>
 120 |     | <span class='unexecuted'>            _revert(returndata);</span>
 121 |     | <span class='neutral'>        } else {</span>
 122 |     | <span class='neutral'>            // only check if target is a contract if the call was successful and the return data is empty</span>
 123 |     | <span class='neutral'>            // otherwise we already know that it was a contract</span>
 124 |     | <span class='unexecuted'>            if (returndata.length == 0 &amp;&amp; target.code.length == 0) {</span>
 125 |     | <span class='unexecuted'>                revert AddressEmptyCode(target);</span>
 126 |     | <span class='neutral'>            }</span>
 127 |     | <span class='unexecuted'>            return returndata;</span>
 128 |     | <span class='neutral'>        }</span>
 129 |     | <span class='neutral'>    }</span>
 130 |     | <span class='neutral'></span>
 131 |     | <span class='neutral'>    /**</span>
 132 |     | <span class='neutral'>     * @dev Tool to verify that a low level call was successful, and reverts if it wasn&#39;t, either by bubbling the</span>
 133 |     | <span class='neutral'>     * revert reason or with a default {FailedInnerCall} error.</span>
 134 |     | <span class='neutral'>     */</span>
 135 |     | <span class='neutral'>    function verifyCallResult(bool success, bytes memory returndata) internal pure returns (bytes memory) {</span>
 136 |     | <span class='neutral'>        if (!success) {</span>
 137 |     | <span class='neutral'>            _revert(returndata);</span>
 138 |     | <span class='neutral'>        } else {</span>
 139 |     | <span class='neutral'>            return returndata;</span>
 140 |     | <span class='neutral'>        }</span>
 141 |     | <span class='neutral'>    }</span>
 142 |     | <span class='neutral'></span>
 143 |     | <span class='neutral'>    /**</span>
 144 |     | <span class='neutral'>     * @dev Reverts with returndata if present. Otherwise reverts with {FailedInnerCall}.</span>
 145 |     | <span class='neutral'>     */</span>
 146 |     | <span class='unexecuted'>    function _revert(bytes memory returndata) private pure {</span>
 147 |     | <span class='neutral'>        // Look for revert reason and bubble it up if present</span>
 148 |     | <span class='unexecuted'>        if (returndata.length &gt; 0) {</span>
 149 |     | <span class='neutral'>            // The easiest way to bubble the revert reason is using memory via assembly</span>
 150 |     | <span class='neutral'>            /// @solidity memory-safe-assembly</span>
 151 |     | <span class='neutral'>            assembly {</span>
 152 |     | <span class='unexecuted'>                let returndata_size := mload(returndata)</span>
 153 |     | <span class='unexecuted'>                revert(add(32, returndata), returndata_size)</span>
 154 |     | <span class='neutral'>            }</span>
 155 |     | <span class='neutral'>        } else {</span>
 156 |     | <span class='unexecuted'>            revert FailedInnerCall();</span>
 157 |     | <span class='neutral'>        }</span>
 158 |     | <span class='neutral'>    }</span>
 159 |     | <span class='neutral'>}</span>
 160 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/node_modules/@openzeppelin/contracts/utils/Context.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.1) (utils/Context.sol)</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
  5 |     | <span class='neutral'></span>
  6 |     | <span class='neutral'>/**</span>
  7 |     | <span class='neutral'> * @dev Provides information about the current execution context, including the</span>
  8 |     | <span class='neutral'> * sender of the transaction and its data. While these are generally available</span>
  9 |     | <span class='neutral'> * via msg.sender and msg.data, they should not be accessed in such a direct</span>
 10 |     | <span class='neutral'> * manner, since when dealing with meta-transactions the account sending and</span>
 11 |     | <span class='neutral'> * paying for execution may not be the actual sender (as far as an application</span>
 12 |     | <span class='neutral'> * is concerned).</span>
 13 |     | <span class='neutral'> *</span>
 14 |     | <span class='neutral'> * This contract is only required for intermediate, library-like contracts.</span>
 15 |     | <span class='neutral'> */</span>
 16 |     | <span class='neutral'>abstract contract Context {</span>
 17 |     | <span class='neutral'>    function _msgSender() internal view virtual returns (address) {</span>
 18 |     | <span class='unexecuted'>        return msg.sender;</span>
 19 |     | <span class='neutral'>    }</span>
 20 |     | <span class='neutral'></span>
 21 |     | <span class='neutral'>    function _msgData() internal view virtual returns (bytes calldata) {</span>
 22 |     | <span class='neutral'>        return msg.data;</span>
 23 |     | <span class='neutral'>    }</span>
 24 |     | <span class='neutral'></span>
 25 |     | <span class='neutral'>    function _contextSuffixLength() internal view virtual returns (uint256) {</span>
 26 |     | <span class='neutral'>        return 0;</span>
 27 |     | <span class='neutral'>    }</span>
 28 |     | <span class='neutral'>}</span>
 29 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/node_modules/@openzeppelin/contracts/utils/Strings.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.0) (utils/Strings.sol)</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
  5 |     | <span class='neutral'></span>
  6 |     | <span class='neutral'>import {Math} from &quot;./math/Math.sol&quot;;</span>
  7 |     | <span class='neutral'>import {SignedMath} from &quot;./math/SignedMath.sol&quot;;</span>
  8 |     | <span class='neutral'></span>
  9 |     | <span class='neutral'>/**</span>
 10 |     | <span class='neutral'> * @dev String operations.</span>
 11 |     | <span class='neutral'> */</span>
 12 |     | <span class='unexecuted'>library Strings {</span>
 13 |     | <span class='neutral'>    bytes16 private constant HEX_DIGITS = &quot;0123456789abcdef&quot;;</span>
 14 |     | <span class='neutral'>    uint8 private constant ADDRESS_LENGTH = 20;</span>
 15 |     | <span class='neutral'></span>
 16 |     | <span class='neutral'>    /**</span>
 17 |     | <span class='neutral'>     * @dev The `value` string doesn&#39;t fit in the specified `length`.</span>
 18 |     | <span class='neutral'>     */</span>
 19 |     | <span class='neutral'>    error StringsInsufficientHexLength(uint256 value, uint256 length);</span>
 20 |     | <span class='neutral'></span>
 21 |     | <span class='neutral'>    /**</span>
 22 |     | <span class='neutral'>     * @dev Converts a `uint256` to its ASCII `string` decimal representation.</span>
 23 |     | <span class='neutral'>     */</span>
 24 |     | <span class='neutral'>    function toString(uint256 value) internal pure returns (string memory) {</span>
 25 |     | <span class='neutral'>        unchecked {</span>
 26 |     | <span class='neutral'>            uint256 length = Math.log10(value) + 1;</span>
 27 |     | <span class='neutral'>            string memory buffer = new string(length);</span>
 28 |     | <span class='neutral'>            uint256 ptr;</span>
 29 |     | <span class='neutral'>            /// @solidity memory-safe-assembly</span>
 30 |     | <span class='neutral'>            assembly {</span>
 31 |     | <span class='neutral'>                ptr := add(buffer, add(32, length))</span>
 32 |     | <span class='neutral'>            }</span>
 33 |     | <span class='neutral'>            while (true) {</span>
 34 |     | <span class='neutral'>                ptr--;</span>
 35 |     | <span class='neutral'>                /// @solidity memory-safe-assembly</span>
 36 |     | <span class='neutral'>                assembly {</span>
 37 |     | <span class='neutral'>                    mstore8(ptr, byte(mod(value, 10), HEX_DIGITS))</span>
 38 |     | <span class='neutral'>                }</span>
 39 |     | <span class='neutral'>                value /= 10;</span>
 40 |     | <span class='neutral'>                if (value == 0) break;</span>
 41 |     | <span class='neutral'>            }</span>
 42 |     | <span class='neutral'>            return buffer;</span>
 43 |     | <span class='neutral'>        }</span>
 44 |     | <span class='neutral'>    }</span>
 45 |     | <span class='neutral'></span>
 46 |     | <span class='neutral'>    /**</span>
 47 |     | <span class='neutral'>     * @dev Converts a `int256` to its ASCII `string` decimal representation.</span>
 48 |     | <span class='neutral'>     */</span>
 49 |     | <span class='neutral'>    function toStringSigned(int256 value) internal pure returns (string memory) {</span>
 50 |     | <span class='neutral'>        return string.concat(value &lt; 0 ? &quot;-&quot; : &quot;&quot;, toString(SignedMath.abs(value)));</span>
 51 |     | <span class='neutral'>    }</span>
 52 |     | <span class='neutral'></span>
 53 |     | <span class='neutral'>    /**</span>
 54 |     | <span class='neutral'>     * @dev Converts a `uint256` to its ASCII `string` hexadecimal representation.</span>
 55 |     | <span class='neutral'>     */</span>
 56 |     | <span class='neutral'>    function toHexString(uint256 value) internal pure returns (string memory) {</span>
 57 |     | <span class='neutral'>        unchecked {</span>
 58 |     | <span class='neutral'>            return toHexString(value, Math.log256(value) + 1);</span>
 59 |     | <span class='neutral'>        }</span>
 60 |     | <span class='neutral'>    }</span>
 61 |     | <span class='neutral'></span>
 62 |     | <span class='neutral'>    /**</span>
 63 |     | <span class='neutral'>     * @dev Converts a `uint256` to its ASCII `string` hexadecimal representation with fixed length.</span>
 64 |     | <span class='neutral'>     */</span>
 65 |     | <span class='neutral'>    function toHexString(uint256 value, uint256 length) internal pure returns (string memory) {</span>
 66 |     | <span class='neutral'>        uint256 localValue = value;</span>
 67 |     | <span class='neutral'>        bytes memory buffer = new bytes(2 * length + 2);</span>
 68 |     | <span class='neutral'>        buffer[0] = &quot;0&quot;;</span>
 69 |     | <span class='neutral'>        buffer[1] = &quot;x&quot;;</span>
 70 |     | <span class='neutral'>        for (uint256 i = 2 * length + 1; i &gt; 1; --i) {</span>
 71 |     | <span class='neutral'>            buffer[i] = HEX_DIGITS[localValue &amp; 0xf];</span>
 72 |     | <span class='neutral'>            localValue &gt;&gt;= 4;</span>
 73 |     | <span class='neutral'>        }</span>
 74 |     | <span class='neutral'>        if (localValue != 0) {</span>
 75 |     | <span class='neutral'>            revert StringsInsufficientHexLength(value, length);</span>
 76 |     | <span class='neutral'>        }</span>
 77 |     | <span class='neutral'>        return string(buffer);</span>
 78 |     | <span class='neutral'>    }</span>
 79 |     | <span class='neutral'></span>
 80 |     | <span class='neutral'>    /**</span>
 81 |     | <span class='neutral'>     * @dev Converts an `address` with fixed length of 20 bytes to its not checksummed ASCII `string` hexadecimal</span>
 82 |     | <span class='neutral'>     * representation.</span>
 83 |     | <span class='neutral'>     */</span>
 84 |     | <span class='neutral'>    function toHexString(address addr) internal pure returns (string memory) {</span>
 85 |     | <span class='neutral'>        return toHexString(uint256(uint160(addr)), ADDRESS_LENGTH);</span>
 86 |     | <span class='neutral'>    }</span>
 87 |     | <span class='neutral'></span>
 88 |     | <span class='neutral'>    /**</span>
 89 |     | <span class='neutral'>     * @dev Returns true if the two strings are equal.</span>
 90 |     | <span class='neutral'>     */</span>
 91 |     | <span class='neutral'>    function equal(string memory a, string memory b) internal pure returns (bool) {</span>
 92 |     | <span class='neutral'>        return bytes(a).length == bytes(b).length &amp;&amp; keccak256(bytes(a)) == keccak256(bytes(b));</span>
 93 |     | <span class='neutral'>    }</span>
 94 |     | <span class='neutral'>}</span>
 95 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/node_modules/@openzeppelin/contracts/utils/cryptography/ECDSA.sol</b>
<code>
   1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
   2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.0) (utils/cryptography/ECDSA.sol)</span>
   3 |     | <span class='neutral'></span>
   4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
   5 |     | <span class='neutral'></span>
   6 |     | <span class='neutral'>/**</span>
   7 |     | <span class='neutral'> * @dev Elliptic Curve Digital Signature Algorithm (ECDSA) operations.</span>
   8 |     | <span class='neutral'> *</span>
   9 |     | <span class='neutral'> * These functions can be used to verify that a message was signed by the holder</span>
  10 |     | <span class='neutral'> * of the private keys of a given address.</span>
  11 |     | <span class='neutral'> */</span>
  12 |     | <span class='unexecuted'>library ECDSA {</span>
  13 |     | <span class='neutral'>    enum RecoverError {</span>
  14 |     | <span class='neutral'>        NoError,</span>
  15 |     | <span class='neutral'>        InvalidSignature,</span>
  16 |     | <span class='neutral'>        InvalidSignatureLength,</span>
  17 |     | <span class='neutral'>        InvalidSignatureS</span>
  18 |     | <span class='neutral'>    }</span>
  19 |     | <span class='neutral'></span>
  20 |     | <span class='neutral'>    /**</span>
  21 |     | <span class='neutral'>     * @dev The signature derives the `address(0)`.</span>
  22 |     | <span class='neutral'>     */</span>
  23 |     | <span class='neutral'>    error ECDSAInvalidSignature();</span>
  24 |     | <span class='neutral'></span>
  25 |     | <span class='neutral'>    /**</span>
  26 |     | <span class='neutral'>     * @dev The signature has an invalid length.</span>
  27 |     | <span class='neutral'>     */</span>
  28 |     | <span class='neutral'>    error ECDSAInvalidSignatureLength(uint256 length);</span>
  29 |     | <span class='neutral'></span>
  30 |     | <span class='neutral'>    /**</span>
  31 |     | <span class='neutral'>     * @dev The signature has an S value that is in the upper half order.</span>
  32 |     | <span class='neutral'>     */</span>
  33 |     | <span class='neutral'>    error ECDSAInvalidSignatureS(bytes32 s);</span>
  34 |     | <span class='neutral'></span>
  35 |     | <span class='neutral'>    /**</span>
  36 |     | <span class='neutral'>     * @dev Returns the address that signed a hashed message (`hash`) with `signature` or an error. This will not</span>
  37 |     | <span class='neutral'>     * return address(0) without also returning an error description. Errors are documented using an enum (error type)</span>
  38 |     | <span class='neutral'>     * and a bytes32 providing additional information about the error.</span>
  39 |     | <span class='neutral'>     *</span>
  40 |     | <span class='neutral'>     * If no error is returned, then the address can be used for verification purposes.</span>
  41 |     | <span class='neutral'>     *</span>
  42 |     | <span class='neutral'>     * The `ecrecover` EVM precompile allows for malleable (non-unique) signatures:</span>
  43 |     | <span class='neutral'>     * this function rejects them by requiring the `s` value to be in the lower</span>
  44 |     | <span class='neutral'>     * half order, and the `v` value to be either 27 or 28.</span>
  45 |     | <span class='neutral'>     *</span>
  46 |     | <span class='neutral'>     * IMPORTANT: `hash` _must_ be the result of a hash operation for the</span>
  47 |     | <span class='neutral'>     * verification to be secure: it is possible to craft signatures that</span>
  48 |     | <span class='neutral'>     * recover to arbitrary addresses for non-hashed data. A safe way to ensure</span>
  49 |     | <span class='neutral'>     * this is by receiving a hash of the original message (which may otherwise</span>
  50 |     | <span class='neutral'>     * be too long), and then calling {MessageHashUtils-toEthSignedMessageHash} on it.</span>
  51 |     | <span class='neutral'>     *</span>
  52 |     | <span class='neutral'>     * Documentation for signature generation:</span>
  53 |     | <span class='neutral'>     * - with https://web3js.readthedocs.io/en/v1.3.4/web3-eth-accounts.html#sign[Web3.js]</span>
  54 |     | <span class='neutral'>     * - with https://docs.ethers.io/v5/api/signer/#Signer-signMessage[ethers]</span>
  55 |     | <span class='neutral'>     */</span>
  56 |     | <span class='unexecuted'>    function tryRecover(bytes32 hash, bytes memory signature) internal pure returns (address, RecoverError, bytes32) {</span>
  57 |     | <span class='unexecuted'>        if (signature.length == 65) {</span>
  58 |     | <span class='unexecuted'>            bytes32 r;</span>
  59 |     | <span class='neutral'>            bytes32 s;</span>
  60 |     | <span class='neutral'>            uint8 v;</span>
  61 |     | <span class='neutral'>            // ecrecover takes the signature parameters, and the only way to get them</span>
  62 |     | <span class='neutral'>            // currently is to use assembly.</span>
  63 |     | <span class='neutral'>            /// @solidity memory-safe-assembly</span>
  64 |     | <span class='neutral'>            assembly {</span>
  65 |     | <span class='unexecuted'>                r := mload(add(signature, 0x20))</span>
  66 |     | <span class='unexecuted'>                s := mload(add(signature, 0x40))</span>
  67 |     | <span class='unexecuted'>                v := byte(0, mload(add(signature, 0x60)))</span>
  68 |     | <span class='neutral'>            }</span>
  69 |     | <span class='unexecuted'>            return tryRecover(hash, v, r, s);</span>
  70 |     | <span class='neutral'>        } else {</span>
  71 |     | <span class='unexecuted'>            return (address(0), RecoverError.InvalidSignatureLength, bytes32(signature.length));</span>
  72 |     | <span class='neutral'>        }</span>
  73 |     | <span class='neutral'>    }</span>
  74 |     | <span class='neutral'></span>
  75 |     | <span class='neutral'>    /**</span>
  76 |     | <span class='neutral'>     * @dev Returns the address that signed a hashed message (`hash`) with</span>
  77 |     | <span class='neutral'>     * `signature`. This address can then be used for verification purposes.</span>
  78 |     | <span class='neutral'>     *</span>
  79 |     | <span class='neutral'>     * The `ecrecover` EVM precompile allows for malleable (non-unique) signatures:</span>
  80 |     | <span class='neutral'>     * this function rejects them by requiring the `s` value to be in the lower</span>
  81 |     | <span class='neutral'>     * half order, and the `v` value to be either 27 or 28.</span>
  82 |     | <span class='neutral'>     *</span>
  83 |     | <span class='neutral'>     * IMPORTANT: `hash` _must_ be the result of a hash operation for the</span>
  84 |     | <span class='neutral'>     * verification to be secure: it is possible to craft signatures that</span>
  85 |     | <span class='neutral'>     * recover to arbitrary addresses for non-hashed data. A safe way to ensure</span>
  86 |     | <span class='neutral'>     * this is by receiving a hash of the original message (which may otherwise</span>
  87 |     | <span class='neutral'>     * be too long), and then calling {MessageHashUtils-toEthSignedMessageHash} on it.</span>
  88 |     | <span class='neutral'>     */</span>
  89 |     | <span class='neutral'>    function recover(bytes32 hash, bytes memory signature) internal pure returns (address) {</span>
  90 |     | <span class='neutral'>        (address recovered, RecoverError error, bytes32 errorArg) = tryRecover(hash, signature);</span>
  91 |     | <span class='neutral'>        _throwError(error, errorArg);</span>
  92 |     | <span class='neutral'>        return recovered;</span>
  93 |     | <span class='neutral'>    }</span>
  94 |     | <span class='neutral'></span>
  95 |     | <span class='neutral'>    /**</span>
  96 |     | <span class='neutral'>     * @dev Overload of {ECDSA-tryRecover} that receives the `r` and `vs` short-signature fields separately.</span>
  97 |     | <span class='neutral'>     *</span>
  98 |     | <span class='neutral'>     * See https://eips.ethereum.org/EIPS/eip-2098[EIP-2098 short signatures]</span>
  99 |     | <span class='neutral'>     */</span>
 100 |     | <span class='neutral'>    function tryRecover(bytes32 hash, bytes32 r, bytes32 vs) internal pure returns (address, RecoverError, bytes32) {</span>
 101 |     | <span class='neutral'>        unchecked {</span>
 102 |     | <span class='neutral'>            bytes32 s = vs &amp; bytes32(0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff);</span>
 103 |     | <span class='neutral'>            // We do not check for an overflow here since the shift operation results in 0 or 1.</span>
 104 |     | <span class='neutral'>            uint8 v = uint8((uint256(vs) &gt;&gt; 255) + 27);</span>
 105 |     | <span class='neutral'>            return tryRecover(hash, v, r, s);</span>
 106 |     | <span class='neutral'>        }</span>
 107 |     | <span class='neutral'>    }</span>
 108 |     | <span class='neutral'></span>
 109 |     | <span class='neutral'>    /**</span>
 110 |     | <span class='neutral'>     * @dev Overload of {ECDSA-recover} that receives the `r and `vs` short-signature fields separately.</span>
 111 |     | <span class='neutral'>     */</span>
 112 |     | <span class='neutral'>    function recover(bytes32 hash, bytes32 r, bytes32 vs) internal pure returns (address) {</span>
 113 |     | <span class='neutral'>        (address recovered, RecoverError error, bytes32 errorArg) = tryRecover(hash, r, vs);</span>
 114 |     | <span class='neutral'>        _throwError(error, errorArg);</span>
 115 |     | <span class='neutral'>        return recovered;</span>
 116 |     | <span class='neutral'>    }</span>
 117 |     | <span class='neutral'></span>
 118 |     | <span class='neutral'>    /**</span>
 119 |     | <span class='neutral'>     * @dev Overload of {ECDSA-tryRecover} that receives the `v`,</span>
 120 |     | <span class='neutral'>     * `r` and `s` signature fields separately.</span>
 121 |     | <span class='neutral'>     */</span>
 122 |     | <span class='unexecuted'>    function tryRecover(</span>
 123 |     | <span class='neutral'>        bytes32 hash,</span>
 124 |     | <span class='neutral'>        uint8 v,</span>
 125 |     | <span class='neutral'>        bytes32 r,</span>
 126 |     | <span class='neutral'>        bytes32 s</span>
 127 |     | <span class='unexecuted'>    ) internal pure returns (address, RecoverError, bytes32) {</span>
 128 |     | <span class='neutral'>        // EIP-2 still allows signature malleability for ecrecover(). Remove this possibility and make the signature</span>
 129 |     | <span class='neutral'>        // unique. Appendix F in the Ethereum Yellow paper (https://ethereum.github.io/yellowpaper/paper.pdf), defines</span>
 130 |     | <span class='neutral'>        // the valid range for s in (301): 0 &lt; s &lt; secp256k1n  2 + 1, and for v in (302): v  {27, 28}. Most</span>
 131 |     | <span class='neutral'>        // signatures from current libraries generate a unique signature with an s-value in the lower half order.</span>
 132 |     | <span class='neutral'>        //</span>
 133 |     | <span class='neutral'>        // If your library generates malleable signatures, such as s-values in the upper range, calculate a new s-value</span>
 134 |     | <span class='neutral'>        // with 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141 - s1 and flip v from 27 to 28 or</span>
 135 |     | <span class='neutral'>        // vice versa. If your library also generates signatures with 0/1 for v instead 27/28, add 27 to v to accept</span>
 136 |     | <span class='neutral'>        // these malleable signatures as well.</span>
 137 |     | <span class='unexecuted'>        if (uint256(s) &gt; 0x7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0) {</span>
 138 |     | <span class='unexecuted'>            return (address(0), RecoverError.InvalidSignatureS, s);</span>
 139 |     | <span class='neutral'>        }</span>
 140 |     | <span class='neutral'></span>
 141 |     | <span class='neutral'>        // If the signature is valid (and not malleable), return the signer address</span>
 142 |     | <span class='unexecuted'>        address signer = ecrecover(hash, v, r, s);</span>
 143 |     | <span class='unexecuted'>        if (signer == address(0)) {</span>
 144 |     | <span class='unexecuted'>            return (address(0), RecoverError.InvalidSignature, bytes32(0));</span>
 145 |     | <span class='neutral'>        }</span>
 146 |     | <span class='neutral'></span>
 147 |     | <span class='unexecuted'>        return (signer, RecoverError.NoError, bytes32(0));</span>
 148 |     | <span class='neutral'>    }</span>
 149 |     | <span class='neutral'></span>
 150 |     | <span class='neutral'>    /**</span>
 151 |     | <span class='neutral'>     * @dev Overload of {ECDSA-recover} that receives the `v`,</span>
 152 |     | <span class='neutral'>     * `r` and `s` signature fields separately.</span>
 153 |     | <span class='neutral'>     */</span>
 154 |     | <span class='neutral'>    function recover(bytes32 hash, uint8 v, bytes32 r, bytes32 s) internal pure returns (address) {</span>
 155 |     | <span class='neutral'>        (address recovered, RecoverError error, bytes32 errorArg) = tryRecover(hash, v, r, s);</span>
 156 |     | <span class='neutral'>        _throwError(error, errorArg);</span>
 157 |     | <span class='neutral'>        return recovered;</span>
 158 |     | <span class='neutral'>    }</span>
 159 |     | <span class='neutral'></span>
 160 |     | <span class='neutral'>    /**</span>
 161 |     | <span class='neutral'>     * @dev Optionally reverts with the corresponding custom error according to the `error` argument provided.</span>
 162 |     | <span class='neutral'>     */</span>
 163 |     | <span class='neutral'>    function _throwError(RecoverError error, bytes32 errorArg) private pure {</span>
 164 |     | <span class='neutral'>        if (error == RecoverError.NoError) {</span>
 165 |     | <span class='neutral'>            return; // no error: do nothing</span>
 166 |     | <span class='neutral'>        } else if (error == RecoverError.InvalidSignature) {</span>
 167 |     | <span class='neutral'>            revert ECDSAInvalidSignature();</span>
 168 |     | <span class='neutral'>        } else if (error == RecoverError.InvalidSignatureLength) {</span>
 169 |     | <span class='neutral'>            revert ECDSAInvalidSignatureLength(uint256(errorArg));</span>
 170 |     | <span class='neutral'>        } else if (error == RecoverError.InvalidSignatureS) {</span>
 171 |     | <span class='neutral'>            revert ECDSAInvalidSignatureS(errorArg);</span>
 172 |     | <span class='neutral'>        }</span>
 173 |     | <span class='neutral'>    }</span>
 174 |     | <span class='neutral'>}</span>
 175 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/node_modules/@openzeppelin/contracts/utils/cryptography/MessageHashUtils.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.0) (utils/cryptography/MessageHashUtils.sol)</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
  5 |     | <span class='neutral'></span>
  6 |     | <span class='neutral'>import {Strings} from &quot;../Strings.sol&quot;;</span>
  7 |     | <span class='neutral'></span>
  8 |     | <span class='neutral'>/**</span>
  9 |     | <span class='neutral'> * @dev Signature message hash utilities for producing digests to be consumed by {ECDSA} recovery or signing.</span>
 10 |     | <span class='neutral'> *</span>
 11 |     | <span class='neutral'> * The library provides methods for generating a hash of a message that conforms to the</span>
 12 |     | <span class='neutral'> * https://eips.ethereum.org/EIPS/eip-191[EIP 191] and https://eips.ethereum.org/EIPS/eip-712[EIP 712]</span>
 13 |     | <span class='neutral'> * specifications.</span>
 14 |     | <span class='neutral'> */</span>
 15 |     | <span class='unexecuted'>library MessageHashUtils {</span>
 16 |     | <span class='neutral'>    /**</span>
 17 |     | <span class='neutral'>     * @dev Returns the keccak256 digest of an EIP-191 signed data with version</span>
 18 |     | <span class='neutral'>     * `0x45` (`personal_sign` messages).</span>
 19 |     | <span class='neutral'>     *</span>
 20 |     | <span class='neutral'>     * The digest is calculated by prefixing a bytes32 `messageHash` with</span>
 21 |     | <span class='neutral'>     * `&quot;\x19Ethereum Signed Message:\n32&quot;` and hashing the result. It corresponds with the</span>
 22 |     | <span class='neutral'>     * hash signed when using the https://eth.wiki/json-rpc/API#eth_sign[`eth_sign`] JSON-RPC method.</span>
 23 |     | <span class='neutral'>     *</span>
 24 |     | <span class='neutral'>     * NOTE: The `messageHash` parameter is intended to be the result of hashing a raw message with</span>
 25 |     | <span class='neutral'>     * keccak256, although any bytes32 value can be safely used because the final digest will</span>
 26 |     | <span class='neutral'>     * be re-hashed.</span>
 27 |     | <span class='neutral'>     *</span>
 28 |     | <span class='neutral'>     * See {ECDSA-recover}.</span>
 29 |     | <span class='neutral'>     */</span>
 30 |     | <span class='unexecuted'>    function toEthSignedMessageHash(bytes32 messageHash) internal pure returns (bytes32 digest) {</span>
 31 |     | <span class='neutral'>        /// @solidity memory-safe-assembly</span>
 32 |     | <span class='neutral'>        assembly {</span>
 33 |     | <span class='unexecuted'>            mstore(0x00, &quot;\x19Ethereum Signed Message:\n32&quot;) // 32 is the bytes-length of messageHash</span>
 34 |     | <span class='unexecuted'>            mstore(0x1c, messageHash) // 0x1c (28) is the length of the prefix</span>
 35 |     | <span class='unexecuted'>            digest := keccak256(0x00, 0x3c) // 0x3c is the length of the prefix (0x1c) + messageHash (0x20)</span>
 36 |     | <span class='neutral'>        }</span>
 37 |     | <span class='neutral'>    }</span>
 38 |     | <span class='neutral'></span>
 39 |     | <span class='neutral'>    /**</span>
 40 |     | <span class='neutral'>     * @dev Returns the keccak256 digest of an EIP-191 signed data with version</span>
 41 |     | <span class='neutral'>     * `0x45` (`personal_sign` messages).</span>
 42 |     | <span class='neutral'>     *</span>
 43 |     | <span class='neutral'>     * The digest is calculated by prefixing an arbitrary `message` with</span>
 44 |     | <span class='neutral'>     * `&quot;\x19Ethereum Signed Message:\n&quot; + len(message)` and hashing the result. It corresponds with the</span>
 45 |     | <span class='neutral'>     * hash signed when using the https://eth.wiki/json-rpc/API#eth_sign[`eth_sign`] JSON-RPC method.</span>
 46 |     | <span class='neutral'>     *</span>
 47 |     | <span class='neutral'>     * See {ECDSA-recover}.</span>
 48 |     | <span class='neutral'>     */</span>
 49 |     | <span class='neutral'>    function toEthSignedMessageHash(bytes memory message) internal pure returns (bytes32) {</span>
 50 |     | <span class='neutral'>        return</span>
 51 |     | <span class='neutral'>            keccak256(bytes.concat(&quot;\x19Ethereum Signed Message:\n&quot;, bytes(Strings.toString(message.length)), message));</span>
 52 |     | <span class='neutral'>    }</span>
 53 |     | <span class='neutral'></span>
 54 |     | <span class='neutral'>    /**</span>
 55 |     | <span class='neutral'>     * @dev Returns the keccak256 digest of an EIP-191 signed data with version</span>
 56 |     | <span class='neutral'>     * `0x00` (data with intended validator).</span>
 57 |     | <span class='neutral'>     *</span>
 58 |     | <span class='neutral'>     * The digest is calculated by prefixing an arbitrary `data` with `&quot;\x19\x00&quot;` and the intended</span>
 59 |     | <span class='neutral'>     * `validator` address. Then hashing the result.</span>
 60 |     | <span class='neutral'>     *</span>
 61 |     | <span class='neutral'>     * See {ECDSA-recover}.</span>
 62 |     | <span class='neutral'>     */</span>
 63 |     | <span class='neutral'>    function toDataWithIntendedValidatorHash(address validator, bytes memory data) internal pure returns (bytes32) {</span>
 64 |     | <span class='neutral'>        return keccak256(abi.encodePacked(hex&quot;19_00&quot;, validator, data));</span>
 65 |     | <span class='neutral'>    }</span>
 66 |     | <span class='neutral'></span>
 67 |     | <span class='neutral'>    /**</span>
 68 |     | <span class='neutral'>     * @dev Returns the keccak256 digest of an EIP-712 typed data (EIP-191 version `0x01`).</span>
 69 |     | <span class='neutral'>     *</span>
 70 |     | <span class='neutral'>     * The digest is calculated from a `domainSeparator` and a `structHash`, by prefixing them with</span>
 71 |     | <span class='neutral'>     * `\x19\x01` and hashing the result. It corresponds to the hash signed by the</span>
 72 |     | <span class='neutral'>     * https://eips.ethereum.org/EIPS/eip-712[`eth_signTypedData`] JSON-RPC method as part of EIP-712.</span>
 73 |     | <span class='neutral'>     *</span>
 74 |     | <span class='neutral'>     * See {ECDSA-recover}.</span>
 75 |     | <span class='neutral'>     */</span>
 76 |     | <span class='neutral'>    function toTypedDataHash(bytes32 domainSeparator, bytes32 structHash) internal pure returns (bytes32 digest) {</span>
 77 |     | <span class='neutral'>        /// @solidity memory-safe-assembly</span>
 78 |     | <span class='neutral'>        assembly {</span>
 79 |     | <span class='neutral'>            let ptr := mload(0x40)</span>
 80 |     | <span class='neutral'>            mstore(ptr, hex&quot;19_01&quot;)</span>
 81 |     | <span class='neutral'>            mstore(add(ptr, 0x02), domainSeparator)</span>
 82 |     | <span class='neutral'>            mstore(add(ptr, 0x22), structHash)</span>
 83 |     | <span class='neutral'>            digest := keccak256(ptr, 0x42)</span>
 84 |     | <span class='neutral'>        }</span>
 85 |     | <span class='neutral'>    }</span>
 86 |     | <span class='neutral'>}</span>
 87 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/node_modules/@openzeppelin/contracts/utils/cryptography/SignatureChecker.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.0) (utils/cryptography/SignatureChecker.sol)</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
  5 |     | <span class='neutral'></span>
  6 |     | <span class='neutral'>import {ECDSA} from &quot;./ECDSA.sol&quot;;</span>
  7 |     | <span class='neutral'>import {IERC1271} from &quot;../../interfaces/IERC1271.sol&quot;;</span>
  8 |     | <span class='neutral'></span>
  9 |     | <span class='neutral'>/**</span>
 10 |     | <span class='neutral'> * @dev Signature verification helper that can be used instead of `ECDSA.recover` to seamlessly support both ECDSA</span>
 11 |     | <span class='neutral'> * signatures from externally owned accounts (EOAs) as well as ERC1271 signatures from smart contract wallets like</span>
 12 |     | <span class='neutral'> * Argent and Safe Wallet (previously Gnosis Safe).</span>
 13 |     | <span class='neutral'> */</span>
 14 |     | <span class='unexecuted'>library SignatureChecker {</span>
 15 |     | <span class='neutral'>    /**</span>
 16 |     | <span class='neutral'>     * @dev Checks if a signature is valid for a given signer and data hash. If the signer is a smart contract, the</span>
 17 |     | <span class='neutral'>     * signature is validated against that smart contract using ERC1271, otherwise it&#39;s validated using `ECDSA.recover`.</span>
 18 |     | <span class='neutral'>     *</span>
 19 |     | <span class='neutral'>     * NOTE: Unlike ECDSA signatures, contract signatures are revocable, and the outcome of this function can thus</span>
 20 |     | <span class='neutral'>     * change through time. It could return true at block N and false at block N+1 (or the opposite).</span>
 21 |     | <span class='neutral'>     */</span>
 22 |     | <span class='unexecuted'>    function isValidSignatureNow(address signer, bytes32 hash, bytes memory signature) internal view returns (bool) {</span>
 23 |     | <span class='unexecuted'>        (address recovered, ECDSA.RecoverError error, ) = ECDSA.tryRecover(hash, signature);</span>
 24 |     | <span class='unexecuted'>        return</span>
 25 |     | <span class='unexecuted'>            (error == ECDSA.RecoverError.NoError &amp;&amp; recovered == signer) ||</span>
 26 |     | <span class='unexecuted'>            isValidERC1271SignatureNow(signer, hash, signature);</span>
 27 |     | <span class='neutral'>    }</span>
 28 |     | <span class='neutral'></span>
 29 |     | <span class='neutral'>    /**</span>
 30 |     | <span class='neutral'>     * @dev Checks if a signature is valid for a given signer and data hash. The signature is validated</span>
 31 |     | <span class='neutral'>     * against the signer smart contract using ERC1271.</span>
 32 |     | <span class='neutral'>     *</span>
 33 |     | <span class='neutral'>     * NOTE: Unlike ECDSA signatures, contract signatures are revocable, and the outcome of this function can thus</span>
 34 |     | <span class='neutral'>     * change through time. It could return true at block N and false at block N+1 (or the opposite).</span>
 35 |     | <span class='neutral'>     */</span>
 36 |     | <span class='unexecuted'>    function isValidERC1271SignatureNow(</span>
 37 |     | <span class='neutral'>        address signer,</span>
 38 |     | <span class='neutral'>        bytes32 hash,</span>
 39 |     | <span class='neutral'>        bytes memory signature</span>
 40 |     | <span class='unexecuted'>    ) internal view returns (bool) {</span>
 41 |     | <span class='unexecuted'>        (bool success, bytes memory result) = signer.staticcall(</span>
 42 |     | <span class='unexecuted'>            abi.encodeCall(IERC1271.isValidSignature, (hash, signature))</span>
 43 |     | <span class='neutral'>        );</span>
 44 |     | <span class='unexecuted'>        return (success &amp;&amp;</span>
 45 |     | <span class='unexecuted'>            result.length &gt;= 32 &amp;&amp;</span>
 46 |     | <span class='unexecuted'>            abi.decode(result, (bytes32)) == bytes32(IERC1271.isValidSignature.selector));</span>
 47 |     | <span class='neutral'>    }</span>
 48 |     | <span class='neutral'>}</span>
 49 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/node_modules/@openzeppelin/contracts/utils/math/Math.sol</b>
<code>
   1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
   2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.0) (utils/math/Math.sol)</span>
   3 |     | <span class='neutral'></span>
   4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
   5 |     | <span class='neutral'></span>
   6 |     | <span class='neutral'>/**</span>
   7 |     | <span class='neutral'> * @dev Standard math utilities missing in the Solidity language.</span>
   8 |     | <span class='neutral'> */</span>
   9 |     | <span class='unexecuted'>library Math {</span>
  10 |     | <span class='neutral'>    /**</span>
  11 |     | <span class='neutral'>     * @dev Muldiv operation overflow.</span>
  12 |     | <span class='neutral'>     */</span>
  13 |     | <span class='neutral'>    error MathOverflowedMulDiv();</span>
  14 |     | <span class='neutral'></span>
  15 |     | <span class='neutral'>    enum Rounding {</span>
  16 |     | <span class='neutral'>        Floor, // Toward negative infinity</span>
  17 |     | <span class='neutral'>        Ceil, // Toward positive infinity</span>
  18 |     | <span class='neutral'>        Trunc, // Toward zero</span>
  19 |     | <span class='neutral'>        Expand // Away from zero</span>
  20 |     | <span class='neutral'>    }</span>
  21 |     | <span class='neutral'></span>
  22 |     | <span class='neutral'>    /**</span>
  23 |     | <span class='neutral'>     * @dev Returns the addition of two unsigned integers, with an overflow flag.</span>
  24 |     | <span class='neutral'>     */</span>
  25 |     | <span class='neutral'>    function tryAdd(uint256 a, uint256 b) internal pure returns (bool, uint256) {</span>
  26 |     | <span class='neutral'>        unchecked {</span>
  27 |     | <span class='neutral'>            uint256 c = a + b;</span>
  28 |     | <span class='neutral'>            if (c &lt; a) return (false, 0);</span>
  29 |     | <span class='neutral'>            return (true, c);</span>
  30 |     | <span class='neutral'>        }</span>
  31 |     | <span class='neutral'>    }</span>
  32 |     | <span class='neutral'></span>
  33 |     | <span class='neutral'>    /**</span>
  34 |     | <span class='neutral'>     * @dev Returns the subtraction of two unsigned integers, with an overflow flag.</span>
  35 |     | <span class='neutral'>     */</span>
  36 |     | <span class='neutral'>    function trySub(uint256 a, uint256 b) internal pure returns (bool, uint256) {</span>
  37 |     | <span class='neutral'>        unchecked {</span>
  38 |     | <span class='neutral'>            if (b &gt; a) return (false, 0);</span>
  39 |     | <span class='neutral'>            return (true, a - b);</span>
  40 |     | <span class='neutral'>        }</span>
  41 |     | <span class='neutral'>    }</span>
  42 |     | <span class='neutral'></span>
  43 |     | <span class='neutral'>    /**</span>
  44 |     | <span class='neutral'>     * @dev Returns the multiplication of two unsigned integers, with an overflow flag.</span>
  45 |     | <span class='neutral'>     */</span>
  46 |     | <span class='neutral'>    function tryMul(uint256 a, uint256 b) internal pure returns (bool, uint256) {</span>
  47 |     | <span class='neutral'>        unchecked {</span>
  48 |     | <span class='neutral'>            // Gas optimization: this is cheaper than requiring &#39;a&#39; not being zero, but the</span>
  49 |     | <span class='neutral'>            // benefit is lost if &#39;b&#39; is also tested.</span>
  50 |     | <span class='neutral'>            // See: https://github.com/OpenZeppelin/openzeppelin-contracts/pull/522</span>
  51 |     | <span class='neutral'>            if (a == 0) return (true, 0);</span>
  52 |     | <span class='neutral'>            uint256 c = a * b;</span>
  53 |     | <span class='neutral'>            if (c / a != b) return (false, 0);</span>
  54 |     | <span class='neutral'>            return (true, c);</span>
  55 |     | <span class='neutral'>        }</span>
  56 |     | <span class='neutral'>    }</span>
  57 |     | <span class='neutral'></span>
  58 |     | <span class='neutral'>    /**</span>
  59 |     | <span class='neutral'>     * @dev Returns the division of two unsigned integers, with a division by zero flag.</span>
  60 |     | <span class='neutral'>     */</span>
  61 |     | <span class='neutral'>    function tryDiv(uint256 a, uint256 b) internal pure returns (bool, uint256) {</span>
  62 |     | <span class='neutral'>        unchecked {</span>
  63 |     | <span class='neutral'>            if (b == 0) return (false, 0);</span>
  64 |     | <span class='neutral'>            return (true, a / b);</span>
  65 |     | <span class='neutral'>        }</span>
  66 |     | <span class='neutral'>    }</span>
  67 |     | <span class='neutral'></span>
  68 |     | <span class='neutral'>    /**</span>
  69 |     | <span class='neutral'>     * @dev Returns the remainder of dividing two unsigned integers, with a division by zero flag.</span>
  70 |     | <span class='neutral'>     */</span>
  71 |     | <span class='neutral'>    function tryMod(uint256 a, uint256 b) internal pure returns (bool, uint256) {</span>
  72 |     | <span class='neutral'>        unchecked {</span>
  73 |     | <span class='neutral'>            if (b == 0) return (false, 0);</span>
  74 |     | <span class='neutral'>            return (true, a % b);</span>
  75 |     | <span class='neutral'>        }</span>
  76 |     | <span class='neutral'>    }</span>
  77 |     | <span class='neutral'></span>
  78 |     | <span class='neutral'>    /**</span>
  79 |     | <span class='neutral'>     * @dev Returns the largest of two numbers.</span>
  80 |     | <span class='neutral'>     */</span>
  81 |     | <span class='neutral'>    function max(uint256 a, uint256 b) internal pure returns (uint256) {</span>
  82 |     | <span class='neutral'>        return a &gt; b ? a : b;</span>
  83 |     | <span class='neutral'>    }</span>
  84 |     | <span class='neutral'></span>
  85 |     | <span class='neutral'>    /**</span>
  86 |     | <span class='neutral'>     * @dev Returns the smallest of two numbers.</span>
  87 |     | <span class='neutral'>     */</span>
  88 |     | <span class='neutral'>    function min(uint256 a, uint256 b) internal pure returns (uint256) {</span>
  89 |     | <span class='neutral'>        return a &lt; b ? a : b;</span>
  90 |     | <span class='neutral'>    }</span>
  91 |     | <span class='neutral'></span>
  92 |     | <span class='neutral'>    /**</span>
  93 |     | <span class='neutral'>     * @dev Returns the average of two numbers. The result is rounded towards</span>
  94 |     | <span class='neutral'>     * zero.</span>
  95 |     | <span class='neutral'>     */</span>
  96 |     | <span class='neutral'>    function average(uint256 a, uint256 b) internal pure returns (uint256) {</span>
  97 |     | <span class='neutral'>        // (a + b) / 2 can overflow.</span>
  98 |     | <span class='neutral'>        return (a &amp; b) + (a ^ b) / 2;</span>
  99 |     | <span class='neutral'>    }</span>
 100 |     | <span class='neutral'></span>
 101 |     | <span class='neutral'>    /**</span>
 102 |     | <span class='neutral'>     * @dev Returns the ceiling of the division of two numbers.</span>
 103 |     | <span class='neutral'>     *</span>
 104 |     | <span class='neutral'>     * This differs from standard division with `/` in that it rounds towards infinity instead</span>
 105 |     | <span class='neutral'>     * of rounding towards zero.</span>
 106 |     | <span class='neutral'>     */</span>
 107 |     | <span class='neutral'>    function ceilDiv(uint256 a, uint256 b) internal pure returns (uint256) {</span>
 108 |     | <span class='neutral'>        if (b == 0) {</span>
 109 |     | <span class='neutral'>            // Guarantee the same behavior as in a regular Solidity division.</span>
 110 |     | <span class='neutral'>            return a / b;</span>
 111 |     | <span class='neutral'>        }</span>
 112 |     | <span class='neutral'></span>
 113 |     | <span class='neutral'>        // (a + b - 1) / b can overflow on addition, so we distribute.</span>
 114 |     | <span class='neutral'>        return a == 0 ? 0 : (a - 1) / b + 1;</span>
 115 |     | <span class='neutral'>    }</span>
 116 |     | <span class='neutral'></span>
 117 |     | <span class='neutral'>    /**</span>
 118 |     | <span class='neutral'>     * @notice Calculates floor(x * y / denominator) with full precision. Throws if result overflows a uint256 or</span>
 119 |     | <span class='neutral'>     * denominator == 0.</span>
 120 |     | <span class='neutral'>     * @dev Original credit to Remco Bloemen under MIT license (https://xn--2-umb.com/21/muldiv) with further edits by</span>
 121 |     | <span class='neutral'>     * Uniswap Labs also under MIT license.</span>
 122 |     | <span class='neutral'>     */</span>
 123 |     | <span class='neutral'>    function mulDiv(uint256 x, uint256 y, uint256 denominator) internal pure returns (uint256 result) {</span>
 124 |     | <span class='neutral'>        unchecked {</span>
 125 |     | <span class='neutral'>            // 512-bit multiply [prod1 prod0] = x * y. Compute the product mod 2^256 and mod 2^256 - 1, then use</span>
 126 |     | <span class='neutral'>            // use the Chinese Remainder Theorem to reconstruct the 512 bit result. The result is stored in two 256</span>
 127 |     | <span class='neutral'>            // variables such that product = prod1 * 2^256 + prod0.</span>
 128 |     | <span class='neutral'>            uint256 prod0 = x * y; // Least significant 256 bits of the product</span>
 129 |     | <span class='neutral'>            uint256 prod1; // Most significant 256 bits of the product</span>
 130 |     | <span class='neutral'>            assembly {</span>
 131 |     | <span class='neutral'>                let mm := mulmod(x, y, not(0))</span>
 132 |     | <span class='neutral'>                prod1 := sub(sub(mm, prod0), lt(mm, prod0))</span>
 133 |     | <span class='neutral'>            }</span>
 134 |     | <span class='neutral'></span>
 135 |     | <span class='neutral'>            // Handle non-overflow cases, 256 by 256 division.</span>
 136 |     | <span class='neutral'>            if (prod1 == 0) {</span>
 137 |     | <span class='neutral'>                // Solidity will revert if denominator == 0, unlike the div opcode on its own.</span>
 138 |     | <span class='neutral'>                // The surrounding unchecked block does not change this fact.</span>
 139 |     | <span class='neutral'>                // See https://docs.soliditylang.org/en/latest/control-structures.html#checked-or-unchecked-arithmetic.</span>
 140 |     | <span class='neutral'>                return prod0 / denominator;</span>
 141 |     | <span class='neutral'>            }</span>
 142 |     | <span class='neutral'></span>
 143 |     | <span class='neutral'>            // Make sure the result is less than 2^256. Also prevents denominator == 0.</span>
 144 |     | <span class='neutral'>            if (denominator &lt;= prod1) {</span>
 145 |     | <span class='neutral'>                revert MathOverflowedMulDiv();</span>
 146 |     | <span class='neutral'>            }</span>
 147 |     | <span class='neutral'></span>
 148 |     | <span class='neutral'>            ///////////////////////////////////////////////</span>
 149 |     | <span class='neutral'>            // 512 by 256 division.</span>
 150 |     | <span class='neutral'>            ///////////////////////////////////////////////</span>
 151 |     | <span class='neutral'></span>
 152 |     | <span class='neutral'>            // Make division exact by subtracting the remainder from [prod1 prod0].</span>
 153 |     | <span class='neutral'>            uint256 remainder;</span>
 154 |     | <span class='neutral'>            assembly {</span>
 155 |     | <span class='neutral'>                // Compute remainder using mulmod.</span>
 156 |     | <span class='neutral'>                remainder := mulmod(x, y, denominator)</span>
 157 |     | <span class='neutral'></span>
 158 |     | <span class='neutral'>                // Subtract 256 bit number from 512 bit number.</span>
 159 |     | <span class='neutral'>                prod1 := sub(prod1, gt(remainder, prod0))</span>
 160 |     | <span class='neutral'>                prod0 := sub(prod0, remainder)</span>
 161 |     | <span class='neutral'>            }</span>
 162 |     | <span class='neutral'></span>
 163 |     | <span class='neutral'>            // Factor powers of two out of denominator and compute largest power of two divisor of denominator.</span>
 164 |     | <span class='neutral'>            // Always &gt;= 1. See https://cs.stackexchange.com/q/138556/92363.</span>
 165 |     | <span class='neutral'></span>
 166 |     | <span class='neutral'>            uint256 twos = denominator &amp; (0 - denominator);</span>
 167 |     | <span class='neutral'>            assembly {</span>
 168 |     | <span class='neutral'>                // Divide denominator by twos.</span>
 169 |     | <span class='neutral'>                denominator := div(denominator, twos)</span>
 170 |     | <span class='neutral'></span>
 171 |     | <span class='neutral'>                // Divide [prod1 prod0] by twos.</span>
 172 |     | <span class='neutral'>                prod0 := div(prod0, twos)</span>
 173 |     | <span class='neutral'></span>
 174 |     | <span class='neutral'>                // Flip twos such that it is 2^256 / twos. If twos is zero, then it becomes one.</span>
 175 |     | <span class='neutral'>                twos := add(div(sub(0, twos), twos), 1)</span>
 176 |     | <span class='neutral'>            }</span>
 177 |     | <span class='neutral'></span>
 178 |     | <span class='neutral'>            // Shift in bits from prod1 into prod0.</span>
 179 |     | <span class='neutral'>            prod0 |= prod1 * twos;</span>
 180 |     | <span class='neutral'></span>
 181 |     | <span class='neutral'>            // Invert denominator mod 2^256. Now that denominator is an odd number, it has an inverse modulo 2^256 such</span>
 182 |     | <span class='neutral'>            // that denominator * inv = 1 mod 2^256. Compute the inverse by starting with a seed that is correct for</span>
 183 |     | <span class='neutral'>            // four bits. That is, denominator * inv = 1 mod 2^4.</span>
 184 |     | <span class='neutral'>            uint256 inverse = (3 * denominator) ^ 2;</span>
 185 |     | <span class='neutral'></span>
 186 |     | <span class='neutral'>            // Use the Newton-Raphson iteration to improve the precision. Thanks to Hensel&#39;s lifting lemma, this also</span>
 187 |     | <span class='neutral'>            // works in modular arithmetic, doubling the correct bits in each step.</span>
 188 |     | <span class='neutral'>            inverse *= 2 - denominator * inverse; // inverse mod 2^8</span>
 189 |     | <span class='neutral'>            inverse *= 2 - denominator * inverse; // inverse mod 2^16</span>
 190 |     | <span class='neutral'>            inverse *= 2 - denominator * inverse; // inverse mod 2^32</span>
 191 |     | <span class='neutral'>            inverse *= 2 - denominator * inverse; // inverse mod 2^64</span>
 192 |     | <span class='neutral'>            inverse *= 2 - denominator * inverse; // inverse mod 2^128</span>
 193 |     | <span class='neutral'>            inverse *= 2 - denominator * inverse; // inverse mod 2^256</span>
 194 |     | <span class='neutral'></span>
 195 |     | <span class='neutral'>            // Because the division is now exact we can divide by multiplying with the modular inverse of denominator.</span>
 196 |     | <span class='neutral'>            // This will give us the correct result modulo 2^256. Since the preconditions guarantee that the outcome is</span>
 197 |     | <span class='neutral'>            // less than 2^256, this is the final result. We don&#39;t need to compute the high bits of the result and prod1</span>
 198 |     | <span class='neutral'>            // is no longer required.</span>
 199 |     | <span class='neutral'>            result = prod0 * inverse;</span>
 200 |     | <span class='neutral'>            return result;</span>
 201 |     | <span class='neutral'>        }</span>
 202 |     | <span class='neutral'>    }</span>
 203 |     | <span class='neutral'></span>
 204 |     | <span class='neutral'>    /**</span>
 205 |     | <span class='neutral'>     * @notice Calculates x * y / denominator with full precision, following the selected rounding direction.</span>
 206 |     | <span class='neutral'>     */</span>
 207 |     | <span class='neutral'>    function mulDiv(uint256 x, uint256 y, uint256 denominator, Rounding rounding) internal pure returns (uint256) {</span>
 208 |     | <span class='neutral'>        uint256 result = mulDiv(x, y, denominator);</span>
 209 |     | <span class='neutral'>        if (unsignedRoundsUp(rounding) &amp;&amp; mulmod(x, y, denominator) &gt; 0) {</span>
 210 |     | <span class='neutral'>            result += 1;</span>
 211 |     | <span class='neutral'>        }</span>
 212 |     | <span class='neutral'>        return result;</span>
 213 |     | <span class='neutral'>    }</span>
 214 |     | <span class='neutral'></span>
 215 |     | <span class='neutral'>    /**</span>
 216 |     | <span class='neutral'>     * @dev Returns the square root of a number. If the number is not a perfect square, the value is rounded</span>
 217 |     | <span class='neutral'>     * towards zero.</span>
 218 |     | <span class='neutral'>     *</span>
 219 |     | <span class='neutral'>     * Inspired by Henry S. Warren, Jr.&#39;s &quot;Hacker&#39;s Delight&quot; (Chapter 11).</span>
 220 |     | <span class='neutral'>     */</span>
 221 |     | <span class='neutral'>    function sqrt(uint256 a) internal pure returns (uint256) {</span>
 222 |     | <span class='neutral'>        if (a == 0) {</span>
 223 |     | <span class='neutral'>            return 0;</span>
 224 |     | <span class='neutral'>        }</span>
 225 |     | <span class='neutral'></span>
 226 |     | <span class='neutral'>        // For our first guess, we get the biggest power of 2 which is smaller than the square root of the target.</span>
 227 |     | <span class='neutral'>        //</span>
 228 |     | <span class='neutral'>        // We know that the &quot;msb&quot; (most significant bit) of our target number `a` is a power of 2 such that we have</span>
 229 |     | <span class='neutral'>        // `msb(a) &lt;= a &lt; 2*msb(a)`. This value can be written `msb(a)=2**k` with `k=log2(a)`.</span>
 230 |     | <span class='neutral'>        //</span>
 231 |     | <span class='neutral'>        // This can be rewritten `2**log2(a) &lt;= a &lt; 2**(log2(a) + 1)`</span>
 232 |     | <span class='neutral'>        //  `sqrt(2**k) &lt;= sqrt(a) &lt; sqrt(2**(k+1))`</span>
 233 |     | <span class='neutral'>        //  `2**(k/2) &lt;= sqrt(a) &lt; 2**((k+1)/2) &lt;= 2**(k/2 + 1)`</span>
 234 |     | <span class='neutral'>        //</span>
 235 |     | <span class='neutral'>        // Consequently, `2**(log2(a) / 2)` is a good first approximation of `sqrt(a)` with at least 1 correct bit.</span>
 236 |     | <span class='neutral'>        uint256 result = 1 &lt;&lt; (log2(a) &gt;&gt; 1);</span>
 237 |     | <span class='neutral'></span>
 238 |     | <span class='neutral'>        // At this point `result` is an estimation with one bit of precision. We know the true value is a uint128,</span>
 239 |     | <span class='neutral'>        // since it is the square root of a uint256. Newton&#39;s method converges quadratically (precision doubles at</span>
 240 |     | <span class='neutral'>        // every iteration). We thus need at most 7 iteration to turn our partial result with one bit of precision</span>
 241 |     | <span class='neutral'>        // into the expected uint128 result.</span>
 242 |     | <span class='neutral'>        unchecked {</span>
 243 |     | <span class='neutral'>            result = (result + a / result) &gt;&gt; 1;</span>
 244 |     | <span class='neutral'>            result = (result + a / result) &gt;&gt; 1;</span>
 245 |     | <span class='neutral'>            result = (result + a / result) &gt;&gt; 1;</span>
 246 |     | <span class='neutral'>            result = (result + a / result) &gt;&gt; 1;</span>
 247 |     | <span class='neutral'>            result = (result + a / result) &gt;&gt; 1;</span>
 248 |     | <span class='neutral'>            result = (result + a / result) &gt;&gt; 1;</span>
 249 |     | <span class='neutral'>            result = (result + a / result) &gt;&gt; 1;</span>
 250 |     | <span class='neutral'>            return min(result, a / result);</span>
 251 |     | <span class='neutral'>        }</span>
 252 |     | <span class='neutral'>    }</span>
 253 |     | <span class='neutral'></span>
 254 |     | <span class='neutral'>    /**</span>
 255 |     | <span class='neutral'>     * @notice Calculates sqrt(a), following the selected rounding direction.</span>
 256 |     | <span class='neutral'>     */</span>
 257 |     | <span class='neutral'>    function sqrt(uint256 a, Rounding rounding) internal pure returns (uint256) {</span>
 258 |     | <span class='neutral'>        unchecked {</span>
 259 |     | <span class='neutral'>            uint256 result = sqrt(a);</span>
 260 |     | <span class='neutral'>            return result + (unsignedRoundsUp(rounding) &amp;&amp; result * result &lt; a ? 1 : 0);</span>
 261 |     | <span class='neutral'>        }</span>
 262 |     | <span class='neutral'>    }</span>
 263 |     | <span class='neutral'></span>
 264 |     | <span class='neutral'>    /**</span>
 265 |     | <span class='neutral'>     * @dev Return the log in base 2 of a positive value rounded towards zero.</span>
 266 |     | <span class='neutral'>     * Returns 0 if given 0.</span>
 267 |     | <span class='neutral'>     */</span>
 268 |     | <span class='neutral'>    function log2(uint256 value) internal pure returns (uint256) {</span>
 269 |     | <span class='neutral'>        uint256 result = 0;</span>
 270 |     | <span class='neutral'>        unchecked {</span>
 271 |     | <span class='neutral'>            if (value &gt;&gt; 128 &gt; 0) {</span>
 272 |     | <span class='neutral'>                value &gt;&gt;= 128;</span>
 273 |     | <span class='neutral'>                result += 128;</span>
 274 |     | <span class='neutral'>            }</span>
 275 |     | <span class='neutral'>            if (value &gt;&gt; 64 &gt; 0) {</span>
 276 |     | <span class='neutral'>                value &gt;&gt;= 64;</span>
 277 |     | <span class='neutral'>                result += 64;</span>
 278 |     | <span class='neutral'>            }</span>
 279 |     | <span class='neutral'>            if (value &gt;&gt; 32 &gt; 0) {</span>
 280 |     | <span class='neutral'>                value &gt;&gt;= 32;</span>
 281 |     | <span class='neutral'>                result += 32;</span>
 282 |     | <span class='neutral'>            }</span>
 283 |     | <span class='neutral'>            if (value &gt;&gt; 16 &gt; 0) {</span>
 284 |     | <span class='neutral'>                value &gt;&gt;= 16;</span>
 285 |     | <span class='neutral'>                result += 16;</span>
 286 |     | <span class='neutral'>            }</span>
 287 |     | <span class='neutral'>            if (value &gt;&gt; 8 &gt; 0) {</span>
 288 |     | <span class='neutral'>                value &gt;&gt;= 8;</span>
 289 |     | <span class='neutral'>                result += 8;</span>
 290 |     | <span class='neutral'>            }</span>
 291 |     | <span class='neutral'>            if (value &gt;&gt; 4 &gt; 0) {</span>
 292 |     | <span class='neutral'>                value &gt;&gt;= 4;</span>
 293 |     | <span class='neutral'>                result += 4;</span>
 294 |     | <span class='neutral'>            }</span>
 295 |     | <span class='neutral'>            if (value &gt;&gt; 2 &gt; 0) {</span>
 296 |     | <span class='neutral'>                value &gt;&gt;= 2;</span>
 297 |     | <span class='neutral'>                result += 2;</span>
 298 |     | <span class='neutral'>            }</span>
 299 |     | <span class='neutral'>            if (value &gt;&gt; 1 &gt; 0) {</span>
 300 |     | <span class='neutral'>                result += 1;</span>
 301 |     | <span class='neutral'>            }</span>
 302 |     | <span class='neutral'>        }</span>
 303 |     | <span class='neutral'>        return result;</span>
 304 |     | <span class='neutral'>    }</span>
 305 |     | <span class='neutral'></span>
 306 |     | <span class='neutral'>    /**</span>
 307 |     | <span class='neutral'>     * @dev Return the log in base 2, following the selected rounding direction, of a positive value.</span>
 308 |     | <span class='neutral'>     * Returns 0 if given 0.</span>
 309 |     | <span class='neutral'>     */</span>
 310 |     | <span class='neutral'>    function log2(uint256 value, Rounding rounding) internal pure returns (uint256) {</span>
 311 |     | <span class='neutral'>        unchecked {</span>
 312 |     | <span class='neutral'>            uint256 result = log2(value);</span>
 313 |     | <span class='neutral'>            return result + (unsignedRoundsUp(rounding) &amp;&amp; 1 &lt;&lt; result &lt; value ? 1 : 0);</span>
 314 |     | <span class='neutral'>        }</span>
 315 |     | <span class='neutral'>    }</span>
 316 |     | <span class='neutral'></span>
 317 |     | <span class='neutral'>    /**</span>
 318 |     | <span class='neutral'>     * @dev Return the log in base 10 of a positive value rounded towards zero.</span>
 319 |     | <span class='neutral'>     * Returns 0 if given 0.</span>
 320 |     | <span class='neutral'>     */</span>
 321 |     | <span class='neutral'>    function log10(uint256 value) internal pure returns (uint256) {</span>
 322 |     | <span class='neutral'>        uint256 result = 0;</span>
 323 |     | <span class='neutral'>        unchecked {</span>
 324 |     | <span class='neutral'>            if (value &gt;= 10 ** 64) {</span>
 325 |     | <span class='neutral'>                value /= 10 ** 64;</span>
 326 |     | <span class='neutral'>                result += 64;</span>
 327 |     | <span class='neutral'>            }</span>
 328 |     | <span class='neutral'>            if (value &gt;= 10 ** 32) {</span>
 329 |     | <span class='neutral'>                value /= 10 ** 32;</span>
 330 |     | <span class='neutral'>                result += 32;</span>
 331 |     | <span class='neutral'>            }</span>
 332 |     | <span class='neutral'>            if (value &gt;= 10 ** 16) {</span>
 333 |     | <span class='neutral'>                value /= 10 ** 16;</span>
 334 |     | <span class='neutral'>                result += 16;</span>
 335 |     | <span class='neutral'>            }</span>
 336 |     | <span class='neutral'>            if (value &gt;= 10 ** 8) {</span>
 337 |     | <span class='neutral'>                value /= 10 ** 8;</span>
 338 |     | <span class='neutral'>                result += 8;</span>
 339 |     | <span class='neutral'>            }</span>
 340 |     | <span class='neutral'>            if (value &gt;= 10 ** 4) {</span>
 341 |     | <span class='neutral'>                value /= 10 ** 4;</span>
 342 |     | <span class='neutral'>                result += 4;</span>
 343 |     | <span class='neutral'>            }</span>
 344 |     | <span class='neutral'>            if (value &gt;= 10 ** 2) {</span>
 345 |     | <span class='neutral'>                value /= 10 ** 2;</span>
 346 |     | <span class='neutral'>                result += 2;</span>
 347 |     | <span class='neutral'>            }</span>
 348 |     | <span class='neutral'>            if (value &gt;= 10 ** 1) {</span>
 349 |     | <span class='neutral'>                result += 1;</span>
 350 |     | <span class='neutral'>            }</span>
 351 |     | <span class='neutral'>        }</span>
 352 |     | <span class='neutral'>        return result;</span>
 353 |     | <span class='neutral'>    }</span>
 354 |     | <span class='neutral'></span>
 355 |     | <span class='neutral'>    /**</span>
 356 |     | <span class='neutral'>     * @dev Return the log in base 10, following the selected rounding direction, of a positive value.</span>
 357 |     | <span class='neutral'>     * Returns 0 if given 0.</span>
 358 |     | <span class='neutral'>     */</span>
 359 |     | <span class='neutral'>    function log10(uint256 value, Rounding rounding) internal pure returns (uint256) {</span>
 360 |     | <span class='neutral'>        unchecked {</span>
 361 |     | <span class='neutral'>            uint256 result = log10(value);</span>
 362 |     | <span class='neutral'>            return result + (unsignedRoundsUp(rounding) &amp;&amp; 10 ** result &lt; value ? 1 : 0);</span>
 363 |     | <span class='neutral'>        }</span>
 364 |     | <span class='neutral'>    }</span>
 365 |     | <span class='neutral'></span>
 366 |     | <span class='neutral'>    /**</span>
 367 |     | <span class='neutral'>     * @dev Return the log in base 256 of a positive value rounded towards zero.</span>
 368 |     | <span class='neutral'>     * Returns 0 if given 0.</span>
 369 |     | <span class='neutral'>     *</span>
 370 |     | <span class='neutral'>     * Adding one to the result gives the number of pairs of hex symbols needed to represent `value` as a hex string.</span>
 371 |     | <span class='neutral'>     */</span>
 372 |     | <span class='neutral'>    function log256(uint256 value) internal pure returns (uint256) {</span>
 373 |     | <span class='neutral'>        uint256 result = 0;</span>
 374 |     | <span class='neutral'>        unchecked {</span>
 375 |     | <span class='neutral'>            if (value &gt;&gt; 128 &gt; 0) {</span>
 376 |     | <span class='neutral'>                value &gt;&gt;= 128;</span>
 377 |     | <span class='neutral'>                result += 16;</span>
 378 |     | <span class='neutral'>            }</span>
 379 |     | <span class='neutral'>            if (value &gt;&gt; 64 &gt; 0) {</span>
 380 |     | <span class='neutral'>                value &gt;&gt;= 64;</span>
 381 |     | <span class='neutral'>                result += 8;</span>
 382 |     | <span class='neutral'>            }</span>
 383 |     | <span class='neutral'>            if (value &gt;&gt; 32 &gt; 0) {</span>
 384 |     | <span class='neutral'>                value &gt;&gt;= 32;</span>
 385 |     | <span class='neutral'>                result += 4;</span>
 386 |     | <span class='neutral'>            }</span>
 387 |     | <span class='neutral'>            if (value &gt;&gt; 16 &gt; 0) {</span>
 388 |     | <span class='neutral'>                value &gt;&gt;= 16;</span>
 389 |     | <span class='neutral'>                result += 2;</span>
 390 |     | <span class='neutral'>            }</span>
 391 |     | <span class='neutral'>            if (value &gt;&gt; 8 &gt; 0) {</span>
 392 |     | <span class='neutral'>                result += 1;</span>
 393 |     | <span class='neutral'>            }</span>
 394 |     | <span class='neutral'>        }</span>
 395 |     | <span class='neutral'>        return result;</span>
 396 |     | <span class='neutral'>    }</span>
 397 |     | <span class='neutral'></span>
 398 |     | <span class='neutral'>    /**</span>
 399 |     | <span class='neutral'>     * @dev Return the log in base 256, following the selected rounding direction, of a positive value.</span>
 400 |     | <span class='neutral'>     * Returns 0 if given 0.</span>
 401 |     | <span class='neutral'>     */</span>
 402 |     | <span class='neutral'>    function log256(uint256 value, Rounding rounding) internal pure returns (uint256) {</span>
 403 |     | <span class='neutral'>        unchecked {</span>
 404 |     | <span class='neutral'>            uint256 result = log256(value);</span>
 405 |     | <span class='neutral'>            return result + (unsignedRoundsUp(rounding) &amp;&amp; 1 &lt;&lt; (result &lt;&lt; 3) &lt; value ? 1 : 0);</span>
 406 |     | <span class='neutral'>        }</span>
 407 |     | <span class='neutral'>    }</span>
 408 |     | <span class='neutral'></span>
 409 |     | <span class='neutral'>    /**</span>
 410 |     | <span class='neutral'>     * @dev Returns whether a provided rounding mode is considered rounding up for unsigned integers.</span>
 411 |     | <span class='neutral'>     */</span>
 412 |     | <span class='neutral'>    function unsignedRoundsUp(Rounding rounding) internal pure returns (bool) {</span>
 413 |     | <span class='neutral'>        return uint8(rounding) % 2 == 1;</span>
 414 |     | <span class='neutral'>    }</span>
 415 |     | <span class='neutral'>}</span>
 416 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/node_modules/@openzeppelin/contracts/utils/math/SignedMath.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.0) (utils/math/SignedMath.sol)</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
  5 |     | <span class='neutral'></span>
  6 |     | <span class='neutral'>/**</span>
  7 |     | <span class='neutral'> * @dev Standard signed math utilities missing in the Solidity language.</span>
  8 |     | <span class='neutral'> */</span>
  9 |     | <span class='unexecuted'>library SignedMath {</span>
 10 |     | <span class='neutral'>    /**</span>
 11 |     | <span class='neutral'>     * @dev Returns the largest of two signed numbers.</span>
 12 |     | <span class='neutral'>     */</span>
 13 |     | <span class='neutral'>    function max(int256 a, int256 b) internal pure returns (int256) {</span>
 14 |     | <span class='neutral'>        return a &gt; b ? a : b;</span>
 15 |     | <span class='neutral'>    }</span>
 16 |     | <span class='neutral'></span>
 17 |     | <span class='neutral'>    /**</span>
 18 |     | <span class='neutral'>     * @dev Returns the smallest of two signed numbers.</span>
 19 |     | <span class='neutral'>     */</span>
 20 |     | <span class='neutral'>    function min(int256 a, int256 b) internal pure returns (int256) {</span>
 21 |     | <span class='neutral'>        return a &lt; b ? a : b;</span>
 22 |     | <span class='neutral'>    }</span>
 23 |     | <span class='neutral'></span>
 24 |     | <span class='neutral'>    /**</span>
 25 |     | <span class='neutral'>     * @dev Returns the average of two signed numbers without overflow.</span>
 26 |     | <span class='neutral'>     * The result is rounded towards zero.</span>
 27 |     | <span class='neutral'>     */</span>
 28 |     | <span class='neutral'>    function average(int256 a, int256 b) internal pure returns (int256) {</span>
 29 |     | <span class='neutral'>        // Formula from the book &quot;Hacker&#39;s Delight&quot;</span>
 30 |     | <span class='neutral'>        int256 x = (a &amp; b) + ((a ^ b) &gt;&gt; 1);</span>
 31 |     | <span class='neutral'>        return x + (int256(uint256(x) &gt;&gt; 255) &amp; (a ^ b));</span>
 32 |     | <span class='neutral'>    }</span>
 33 |     | <span class='neutral'></span>
 34 |     | <span class='neutral'>    /**</span>
 35 |     | <span class='neutral'>     * @dev Returns the absolute unsigned value of a signed value.</span>
 36 |     | <span class='neutral'>     */</span>
 37 |     | <span class='neutral'>    function abs(int256 n) internal pure returns (uint256) {</span>
 38 |     | <span class='neutral'>        unchecked {</span>
 39 |     | <span class='neutral'>            // must be unchecked in order to support `n = type(int256).min`</span>
 40 |     | <span class='neutral'>            return uint256(n &gt;= 0 ? n : -n);</span>
 41 |     | <span class='neutral'>        }</span>
 42 |     | <span class='neutral'>    }</span>
 43 |     | <span class='neutral'>}</span>
 44 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/node_modules/forge-std/src/interfaces/IERC20.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>pragma solidity &gt;=0.6.2;</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>/// @dev Interface of the ERC20 standard as defined in the EIP.</span>
  5 |     | <span class='neutral'>/// @dev This includes the optional name, symbol, and decimals metadata.</span>
  6 |     | <span class='neutral'>interface IERC20 {</span>
  7 |     | <span class='neutral'>    /// @dev Emitted when `value` tokens are moved from one account (`from`) to another (`to`).</span>
  8 |     | <span class='neutral'>    event Transfer(address indexed from, address indexed to, uint256 value);</span>
  9 |     | <span class='neutral'></span>
 10 |     | <span class='neutral'>    /// @dev Emitted when the allowance of a `spender` for an `owner` is set, where `value`</span>
 11 |     | <span class='neutral'>    /// is the new allowance.</span>
 12 |     | <span class='neutral'>    event Approval(address indexed owner, address indexed spender, uint256 value);</span>
 13 |     | <span class='neutral'></span>
 14 |     | <span class='neutral'>    /// @notice Returns the amount of tokens in existence.</span>
 15 |     | <span class='neutral'>    function totalSupply() external view returns (uint256);</span>
 16 |     | <span class='neutral'></span>
 17 |     | <span class='neutral'>    /// @notice Returns the amount of tokens owned by `account`.</span>
 18 |     | <span class='neutral'>    function balanceOf(address account) external view returns (uint256);</span>
 19 |     | <span class='neutral'></span>
 20 |     | <span class='neutral'>    /// @notice Moves `amount` tokens from the caller&#39;s account to `to`.</span>
 21 |     | <span class='neutral'>    function transfer(address to, uint256 amount) external returns (bool);</span>
 22 |     | <span class='neutral'></span>
 23 |     | <span class='neutral'>    /// @notice Returns the remaining number of tokens that `spender` is allowed</span>
 24 |     | <span class='neutral'>    /// to spend on behalf of `owner`</span>
 25 |     | <span class='neutral'>    function allowance(address owner, address spender) external view returns (uint256);</span>
 26 |     | <span class='neutral'></span>
 27 |     | <span class='neutral'>    /// @notice Sets `amount` as the allowance of `spender` over the caller&#39;s tokens.</span>
 28 |     | <span class='neutral'>    /// @dev Be aware of front-running risks: https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729</span>
 29 |     | <span class='neutral'>    function approve(address spender, uint256 amount) external returns (bool);</span>
 30 |     | <span class='neutral'></span>
 31 |     | <span class='neutral'>    /// @notice Moves `amount` tokens from `from` to `to` using the allowance mechanism.</span>
 32 |     | <span class='neutral'>    /// `amount` is then deducted from the caller&#39;s allowance.</span>
 33 |     | <span class='neutral'>    function transferFrom(address from, address to, uint256 amount) external returns (bool);</span>
 34 |     | <span class='neutral'></span>
 35 |     | <span class='neutral'>    /// @notice Returns the name of the token.</span>
 36 |     | <span class='neutral'>    function name() external view returns (string memory);</span>
 37 |     | <span class='neutral'></span>
 38 |     | <span class='neutral'>    /// @notice Returns the symbol of the token.</span>
 39 |     | <span class='neutral'>    function symbol() external view returns (string memory);</span>
 40 |     | <span class='neutral'></span>
 41 |     | <span class='neutral'>    /// @notice Returns the decimals places of the token.</span>
 42 |     | <span class='neutral'>    function decimals() external view returns (uint8);</span>
 43 |     | <span class='neutral'>}</span>
 44 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/node_modules/forge-std/src/mocks/MockERC20.sol</b>
<code>
   1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
   2 |     | <span class='neutral'>pragma solidity &gt;=0.6.2 &lt;0.9.0;</span>
   3 |     | <span class='neutral'></span>
   4 |     | <span class='neutral'>import {IERC20} from &quot;../interfaces/IERC20.sol&quot;;</span>
   5 |     | <span class='neutral'></span>
   6 |     | <span class='neutral'>/// @notice This is a mock contract of the ERC20 standard for testing purposes only, it SHOULD NOT be used in production.</span>
   7 |     | <span class='neutral'>/// @dev Forked from: https://github.com/transmissions11/solmate/blob/0384dbaaa4fcb5715738a9254a7c0a4cb62cf458/src/tokens/ERC20.sol</span>
   8 |     | <span class='unexecuted'>contract MockERC20 is IERC20 {</span>
   9 |     | <span class='neutral'>    /*//////////////////////////////////////////////////////////////</span>
  10 |     | <span class='neutral'>                            METADATA STORAGE</span>
  11 |     | <span class='neutral'>    //////////////////////////////////////////////////////////////*/</span>
  12 |     | <span class='neutral'></span>
  13 |     | <span class='neutral'>    string internal _name;</span>
  14 |     | <span class='neutral'></span>
  15 |     | <span class='neutral'>    string internal _symbol;</span>
  16 |     | <span class='neutral'></span>
  17 |     | <span class='neutral'>    uint8 internal _decimals;</span>
  18 |     | <span class='neutral'></span>
  19 |     | <span class='unexecuted'>    function name() external view override returns (string memory) {</span>
  20 |     | <span class='unexecuted'>        return _name;</span>
  21 |     | <span class='neutral'>    }</span>
  22 |     | <span class='neutral'></span>
  23 |     | <span class='unexecuted'>    function symbol() external view override returns (string memory) {</span>
  24 |     | <span class='unexecuted'>        return _symbol;</span>
  25 |     | <span class='neutral'>    }</span>
  26 |     | <span class='neutral'></span>
  27 |     | <span class='unexecuted'>    function decimals() external view override returns (uint8) {</span>
  28 |     | <span class='unexecuted'>        return _decimals;</span>
  29 |     | <span class='neutral'>    }</span>
  30 |     | <span class='neutral'></span>
  31 |     | <span class='neutral'>    /*//////////////////////////////////////////////////////////////</span>
  32 |     | <span class='neutral'>                              ERC20 STORAGE</span>
  33 |     | <span class='neutral'>    //////////////////////////////////////////////////////////////*/</span>
  34 |     | <span class='neutral'></span>
  35 |     | <span class='neutral'>    uint256 internal _totalSupply;</span>
  36 |     | <span class='neutral'></span>
  37 |     | <span class='neutral'>    mapping(address =&gt; uint256) internal _balanceOf;</span>
  38 |     | <span class='neutral'></span>
  39 |     | <span class='neutral'>    mapping(address =&gt; mapping(address =&gt; uint256)) internal _allowance;</span>
  40 |     | <span class='neutral'></span>
  41 |     | <span class='unexecuted'>    function totalSupply() external view override returns (uint256) {</span>
  42 |     | <span class='unexecuted'>        return _totalSupply;</span>
  43 |     | <span class='neutral'>    }</span>
  44 |     | <span class='neutral'></span>
  45 |     | <span class='unexecuted'>    function balanceOf(address owner) external view override returns (uint256) {</span>
  46 |     | <span class='unexecuted'>        return _balanceOf[owner];</span>
  47 |     | <span class='neutral'>    }</span>
  48 |     | <span class='neutral'></span>
  49 |     | <span class='unexecuted'>    function allowance(address owner, address spender) external view override returns (uint256) {</span>
  50 |     | <span class='unexecuted'>        return _allowance[owner][spender];</span>
  51 |     | <span class='neutral'>    }</span>
  52 |     | <span class='neutral'></span>
  53 |     | <span class='neutral'>    /*//////////////////////////////////////////////////////////////</span>
  54 |     | <span class='neutral'>                            EIP-2612 STORAGE</span>
  55 |     | <span class='neutral'>    //////////////////////////////////////////////////////////////*/</span>
  56 |     | <span class='neutral'></span>
  57 |     | <span class='neutral'>    uint256 internal INITIAL_CHAIN_ID;</span>
  58 |     | <span class='neutral'></span>
  59 |     | <span class='neutral'>    bytes32 internal INITIAL_DOMAIN_SEPARATOR;</span>
  60 |     | <span class='neutral'></span>
  61 |     | <span class='unexecuted'>    mapping(address =&gt; uint256) public nonces;</span>
  62 |     | <span class='neutral'></span>
  63 |     | <span class='neutral'>    /*//////////////////////////////////////////////////////////////</span>
  64 |     | <span class='neutral'>                               INITIALIZE</span>
  65 |     | <span class='neutral'>    //////////////////////////////////////////////////////////////*/</span>
  66 |     | <span class='neutral'></span>
  67 |     | <span class='neutral'>    /// @dev A bool to track whether the contract has been initialized.</span>
  68 |     | <span class='neutral'>    bool private initialized;</span>
  69 |     | <span class='neutral'></span>
  70 |     | <span class='neutral'>    /// @dev To hide constructor warnings across solc versions due to different constructor visibility requirements and</span>
  71 |     | <span class='neutral'>    /// syntaxes, we add an initialization function that can be called only once.</span>
  72 |     | <span class='unexecuted'>    function initialize(string memory name_, string memory symbol_, uint8 decimals_) public {</span>
  73 |     | <span class='unexecuted'>        require(!initialized, &quot;ALREADY_INITIALIZED&quot;);</span>
  74 |     | <span class='neutral'></span>
  75 |     | <span class='unexecuted'>        _name = name_;</span>
  76 |     | <span class='unexecuted'>        _symbol = symbol_;</span>
  77 |     | <span class='unexecuted'>        _decimals = decimals_;</span>
  78 |     | <span class='neutral'></span>
  79 |     | <span class='unexecuted'>        INITIAL_CHAIN_ID = _pureChainId();</span>
  80 |     | <span class='unexecuted'>        INITIAL_DOMAIN_SEPARATOR = computeDomainSeparator();</span>
  81 |     | <span class='neutral'></span>
  82 |     | <span class='unexecuted'>        initialized = true;</span>
  83 |     | <span class='neutral'>    }</span>
  84 |     | <span class='neutral'></span>
  85 |     | <span class='neutral'>    /*//////////////////////////////////////////////////////////////</span>
  86 |     | <span class='neutral'>                               ERC20 LOGIC</span>
  87 |     | <span class='neutral'>    //////////////////////////////////////////////////////////////*/</span>
  88 |     | <span class='neutral'></span>
  89 |     | <span class='unexecuted'>    function approve(address spender, uint256 amount) public virtual override returns (bool) {</span>
  90 |     | <span class='unexecuted'>        _allowance[msg.sender][spender] = amount;</span>
  91 |     | <span class='neutral'></span>
  92 |     | <span class='unexecuted'>        emit Approval(msg.sender, spender, amount);</span>
  93 |     | <span class='neutral'></span>
  94 |     | <span class='unexecuted'>        return true;</span>
  95 |     | <span class='neutral'>    }</span>
  96 |     | <span class='neutral'></span>
  97 |     | <span class='unexecuted'>    function transfer(address to, uint256 amount) public virtual override returns (bool) {</span>
  98 |     | <span class='unexecuted'>        _balanceOf[msg.sender] = _sub(_balanceOf[msg.sender], amount);</span>
  99 |     | <span class='unexecuted'>        _balanceOf[to] = _add(_balanceOf[to], amount);</span>
 100 |     | <span class='neutral'></span>
 101 |     | <span class='unexecuted'>        emit Transfer(msg.sender, to, amount);</span>
 102 |     | <span class='neutral'></span>
 103 |     | <span class='neutral'>        return true;</span>
 104 |     | <span class='neutral'>    }</span>
 105 |     | <span class='neutral'></span>
 106 |     | <span class='unexecuted'>    function transferFrom(address from, address to, uint256 amount) public virtual override returns (bool) {</span>
 107 |     | <span class='unexecuted'>        uint256 allowed = _allowance[from][msg.sender]; // Saves gas for limited approvals.</span>
 108 |     | <span class='neutral'></span>
 109 |     | <span class='unexecuted'>        if (allowed != ~uint256(0)) _allowance[from][msg.sender] = _sub(allowed, amount);</span>
 110 |     | <span class='neutral'></span>
 111 |     | <span class='unexecuted'>        _balanceOf[from] = _sub(_balanceOf[from], amount);</span>
 112 |     | <span class='unexecuted'>        _balanceOf[to] = _add(_balanceOf[to], amount);</span>
 113 |     | <span class='neutral'></span>
 114 |     | <span class='unexecuted'>        emit Transfer(from, to, amount);</span>
 115 |     | <span class='neutral'></span>
 116 |     | <span class='unexecuted'>        return true;</span>
 117 |     | <span class='neutral'>    }</span>
 118 |     | <span class='neutral'></span>
 119 |     | <span class='neutral'>    /*//////////////////////////////////////////////////////////////</span>
 120 |     | <span class='neutral'>                             EIP-2612 LOGIC</span>
 121 |     | <span class='neutral'>    //////////////////////////////////////////////////////////////*/</span>
 122 |     | <span class='neutral'></span>
 123 |     | <span class='unexecuted'>    function permit(address owner, address spender, uint256 value, uint256 deadline, uint8 v, bytes32 r, bytes32 s)</span>
 124 |     | <span class='neutral'>        public</span>
 125 |     | <span class='neutral'>        virtual</span>
 126 |     | <span class='unexecuted'>    {</span>
 127 |     | <span class='unexecuted'>        require(deadline &gt;= block.timestamp, &quot;PERMIT_DEADLINE_EXPIRED&quot;);</span>
 128 |     | <span class='neutral'></span>
 129 |     | <span class='unexecuted'>        address recoveredAddress = ecrecover(</span>
 130 |     | <span class='unexecuted'>            keccak256(</span>
 131 |     | <span class='unexecuted'>                abi.encodePacked(</span>
 132 |     | <span class='neutral'>                    &quot;\x19\x01&quot;,</span>
 133 |     | <span class='unexecuted'>                    DOMAIN_SEPARATOR(),</span>
 134 |     | <span class='unexecuted'>                    keccak256(</span>
 135 |     | <span class='unexecuted'>                        abi.encode(</span>
 136 |     | <span class='unexecuted'>                            keccak256(</span>
 137 |     | <span class='neutral'>                                &quot;Permit(address owner,address spender,uint256 value,uint256 nonce,uint256 deadline)&quot;</span>
 138 |     | <span class='neutral'>                            ),</span>
 139 |     | <span class='unexecuted'>                            owner,</span>
 140 |     | <span class='unexecuted'>                            spender,</span>
 141 |     | <span class='unexecuted'>                            value,</span>
 142 |     | <span class='unexecuted'>                            nonces[owner]++,</span>
 143 |     | <span class='neutral'>                            deadline</span>
 144 |     | <span class='neutral'>                        )</span>
 145 |     | <span class='neutral'>                    )</span>
 146 |     | <span class='neutral'>                )</span>
 147 |     | <span class='neutral'>            ),</span>
 148 |     | <span class='neutral'>            v,</span>
 149 |     | <span class='neutral'>            r,</span>
 150 |     | <span class='neutral'>            s</span>
 151 |     | <span class='neutral'>        );</span>
 152 |     | <span class='neutral'></span>
 153 |     | <span class='unexecuted'>        require(recoveredAddress != address(0) &amp;&amp; recoveredAddress == owner, &quot;INVALID_SIGNER&quot;);</span>
 154 |     | <span class='neutral'></span>
 155 |     | <span class='unexecuted'>        _allowance[recoveredAddress][spender] = value;</span>
 156 |     | <span class='neutral'></span>
 157 |     | <span class='unexecuted'>        emit Approval(owner, spender, value);</span>
 158 |     | <span class='neutral'>    }</span>
 159 |     | <span class='neutral'></span>
 160 |     | <span class='unexecuted'>    function DOMAIN_SEPARATOR() public view virtual returns (bytes32) {</span>
 161 |     | <span class='unexecuted'>        return _pureChainId() == INITIAL_CHAIN_ID ? INITIAL_DOMAIN_SEPARATOR : computeDomainSeparator();</span>
 162 |     | <span class='neutral'>    }</span>
 163 |     | <span class='neutral'></span>
 164 |     | <span class='unexecuted'>    function computeDomainSeparator() internal view virtual returns (bytes32) {</span>
 165 |     | <span class='unexecuted'>        return keccak256(</span>
 166 |     | <span class='unexecuted'>            abi.encode(</span>
 167 |     | <span class='unexecuted'>                keccak256(&quot;EIP712Domain(string name,string version,uint256 chainId,address verifyingContract)&quot;),</span>
 168 |     | <span class='unexecuted'>                keccak256(bytes(_name)),</span>
 169 |     | <span class='unexecuted'>                keccak256(&quot;1&quot;),</span>
 170 |     | <span class='unexecuted'>                _pureChainId(),</span>
 171 |     | <span class='unexecuted'>                address(this)</span>
 172 |     | <span class='neutral'>            )</span>
 173 |     | <span class='neutral'>        );</span>
 174 |     | <span class='neutral'>    }</span>
 175 |     | <span class='neutral'></span>
 176 |     | <span class='neutral'>    /*//////////////////////////////////////////////////////////////</span>
 177 |     | <span class='neutral'>                        INTERNAL MINT/BURN LOGIC</span>
 178 |     | <span class='neutral'>    //////////////////////////////////////////////////////////////*/</span>
 179 |     | <span class='neutral'></span>
 180 |     | <span class='unexecuted'>    function _mint(address to, uint256 amount) internal virtual {</span>
 181 |     | <span class='unexecuted'>        _totalSupply = _add(_totalSupply, amount);</span>
 182 |     | <span class='unexecuted'>        _balanceOf[to] = _add(_balanceOf[to], amount);</span>
 183 |     | <span class='neutral'></span>
 184 |     | <span class='unexecuted'>        emit Transfer(address(0), to, amount);</span>
 185 |     | <span class='neutral'>    }</span>
 186 |     | <span class='neutral'></span>
 187 |     | <span class='unexecuted'>    function _burn(address from, uint256 amount) internal virtual {</span>
 188 |     | <span class='unexecuted'>        _balanceOf[from] = _sub(_balanceOf[from], amount);</span>
 189 |     | <span class='unexecuted'>        _totalSupply = _sub(_totalSupply, amount);</span>
 190 |     | <span class='neutral'></span>
 191 |     | <span class='unexecuted'>        emit Transfer(from, address(0), amount);</span>
 192 |     | <span class='neutral'>    }</span>
 193 |     | <span class='neutral'></span>
 194 |     | <span class='neutral'>    /*//////////////////////////////////////////////////////////////</span>
 195 |     | <span class='neutral'>                        INTERNAL SAFE MATH LOGIC</span>
 196 |     | <span class='neutral'>    //////////////////////////////////////////////////////////////*/</span>
 197 |     | <span class='neutral'></span>
 198 |     | <span class='unexecuted'>    function _add(uint256 a, uint256 b) internal pure returns (uint256) {</span>
 199 |     | <span class='unexecuted'>        uint256 c = a + b;</span>
 200 |     | <span class='unexecuted'>        require(c &gt;= a, &quot;ERC20: addition overflow&quot;);</span>
 201 |     | <span class='neutral'>        return c;</span>
 202 |     | <span class='neutral'>    }</span>
 203 |     | <span class='neutral'></span>
 204 |     | <span class='unexecuted'>    function _sub(uint256 a, uint256 b) internal pure returns (uint256) {</span>
 205 |     | <span class='unexecuted'>        require(a &gt;= b, &quot;ERC20: subtraction underflow&quot;);</span>
 206 |     | <span class='unexecuted'>        return a - b;</span>
 207 |     | <span class='neutral'>    }</span>
 208 |     | <span class='neutral'></span>
 209 |     | <span class='neutral'>    /*//////////////////////////////////////////////////////////////</span>
 210 |     | <span class='neutral'>                                HELPERS</span>
 211 |     | <span class='neutral'>    //////////////////////////////////////////////////////////////*/</span>
 212 |     | <span class='neutral'></span>
 213 |     | <span class='neutral'>    // We use this complex approach of `_viewChainId` and `_pureChainId` to ensure there are no</span>
 214 |     | <span class='neutral'>    // compiler warnings when accessing chain ID in any solidity version supported by forge-std. We</span>
 215 |     | <span class='neutral'>    // can&#39;t simply access the chain ID in a normal view or pure function because the solc View Pure</span>
 216 |     | <span class='neutral'>    // Checker changed `chainid` from pure to view in 0.8.0.</span>
 217 |     | <span class='unexecuted'>    function _viewChainId() private view returns (uint256 chainId) {</span>
 218 |     | <span class='neutral'>        // Assembly required since `block.chainid` was introduced in 0.8.0.</span>
 219 |     | <span class='neutral'>        assembly {</span>
 220 |     | <span class='unexecuted'>            chainId := chainid()</span>
 221 |     | <span class='neutral'>        }</span>
 222 |     | <span class='neutral'></span>
 223 |     | <span class='neutral'>        address(this); // Silence warnings in older Solc versions.</span>
 224 |     | <span class='neutral'>    }</span>
 225 |     | <span class='neutral'></span>
 226 |     | <span class='unexecuted'>    function _pureChainId() private pure returns (uint256 chainId) {</span>
 227 |     | <span class='unexecuted'>        function() internal view returns (uint256) fnIn = _viewChainId;</span>
 228 |     | <span class='neutral'>        function() internal pure returns (uint256) pureChainId;</span>
 229 |     | <span class='neutral'>        assembly {</span>
 230 |     | <span class='neutral'>            pureChainId := fnIn</span>
 231 |     | <span class='neutral'>        }</span>
 232 |     | <span class='unexecuted'>        chainId = pureChainId();</span>
 233 |     | <span class='neutral'>    }</span>
 234 |     | <span class='neutral'>}</span>
 235 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/node_modules/halmos-cheatcodes/src/SVM.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: AGPL-3.0</span>
  2 |     | <span class='neutral'>pragma solidity &gt;=0.8.0 &lt;0.9.0;</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>/// @notice Symbolic Virtual Machine</span>
  5 |     | <span class='neutral'>interface SVM {</span>
  6 |     | <span class='neutral'>    // Create a new symbolic uint value ranging over [0, 2**bitSize - 1] (inclusive)</span>
  7 |     | <span class='neutral'>    function createUint(uint256 bitSize, string memory name) external pure returns (uint256 value);</span>
  8 |     | <span class='neutral'></span>
  9 |     | <span class='neutral'>    // Create a new symbolic uint256 value</span>
 10 |     | <span class='neutral'>    function createUint256(string memory name) external pure returns (uint256 value);</span>
 11 |     | <span class='neutral'></span>
 12 |     | <span class='neutral'>    // Create a new symbolic signed int value</span>
 13 |     | <span class='neutral'>    function createInt(uint256 bitSize, string memory name) external pure returns (int256 value);</span>
 14 |     | <span class='neutral'></span>
 15 |     | <span class='neutral'>    // Create a new symbolic int256 value</span>
 16 |     | <span class='neutral'>    function createInt256(string memory name) external pure returns (int256 value);</span>
 17 |     | <span class='neutral'></span>
 18 |     | <span class='neutral'>    // Create a new symbolic byte array with the given byte size</span>
 19 |     | <span class='neutral'>    function createBytes(uint256 byteSize, string memory name) external pure returns (bytes memory value);</span>
 20 |     | <span class='neutral'></span>
 21 |     | <span class='neutral'>    // Create a new symbolic string backed by a symbolic array with the given byte size</span>
 22 |     | <span class='neutral'>    function createString(uint256 byteSize, string memory name) external pure returns (string memory value);</span>
 23 |     | <span class='neutral'></span>
 24 |     | <span class='neutral'>    // Create a new symbolic bytes32 value</span>
 25 |     | <span class='neutral'>    function createBytes32(string memory name) external pure returns (bytes32 value);</span>
 26 |     | <span class='neutral'></span>
 27 |     | <span class='neutral'>    // Create a new symbolic bytes4 value</span>
 28 |     | <span class='neutral'>    function createBytes4(string memory name) external pure returns (bytes4 value);</span>
 29 |     | <span class='neutral'></span>
 30 |     | <span class='neutral'>    // Create a new symbolic address value</span>
 31 |     | <span class='neutral'>    function createAddress(string memory name) external pure returns (address value);</span>
 32 |     | <span class='neutral'></span>
 33 |     | <span class='neutral'>    // Create a new symbolic boolean value</span>
 34 |     | <span class='neutral'>    function createBool(string memory name) external pure returns (bool value);</span>
 35 |     | <span class='neutral'>}</span>
 36 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/node_modules/halmos-cheatcodes/src/SymTest.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: AGPL-3.0</span>
  2 |     | <span class='neutral'>pragma solidity &gt;=0.8.0 &lt;0.9.0;</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>import {SVM} from &quot;./SVM.sol&quot;;</span>
  5 |     | <span class='neutral'></span>
  6 |     | <span class='neutral'>abstract contract SymTest {</span>
  7 |     | <span class='neutral'>    // SVM cheat code address: 0xf3993a62377bcd56ae39d773740a5390411e8bc9</span>
  8 |     | <span class='neutral'>    address internal constant SVM_ADDRESS = address(uint160(uint256(keccak256(&quot;svm cheat code&quot;))));</span>
  9 |     | <span class='neutral'></span>
 10 |     | <span class='neutral'>    SVM internal constant svm = SVM(SVM_ADDRESS);</span>
 11 |     | <span class='neutral'>}</span>
 12 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/script/utils/USDCImplementationCreationCode.sol</b>
<code>
 1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
 2 |     | <span class='neutral'>pragma solidity 0.8.25;</span>
 3 |     | <span class='neutral'></span>
 4 |     | <span class='neutral'>// Copy pasted from https://etherscan.io/address/0x43506849d7c04f9138d1a2050bbf3a0c054402dd#code</span>
 5 |     | <span class='neutral'>bytes constant USDC_IMPLEMENTATION_CREATION_CODE =</span>
 6 |     | <span class='neutral'>// solhint-disable-next-line max-line-length</span>
 7 |     | <span class='neutral'>  hex&#39;60806040526001805460ff60a01b191690556000600b553480156200002357600080fd5b506200002f3362000035565b62000057565b600080546001600160a01b0319166001600160a01b0392909216919091179055565b615ba880620000676000396000f3fe608060405234801561001057600080fd5b506004361061036d5760003560e01c80638456cb59116101d3578063b7b7289911610104578063e3ee160e116100a2578063ef55bec61161007c578063ef55bec614611122578063f2fde38b1461118e578063f9f92be4146111c1578063fe575a87146111f45761036d565b8063e3ee160e14611075578063e5a6b10f146110e1578063e94a0102146110e95761036d565b8063d505accf116100de578063d505accf14610f64578063d608ea6414610fc2578063d916948714611032578063dd62ed3e1461103a5761036d565b8063b7b7289914610db0578063bd10243014610e78578063cf09299514610e805761036d565b8063a0cc6a6811610171578063aa20e1e41161014b578063aa20e1e414610cd4578063aa271e1a14610d07578063ad38bf2214610d3a578063b2118a8d14610d6d5761036d565b8063a0cc6a6814610c5a578063a457c2d714610c62578063a9059cbb14610c9b5761036d565b80638da5cb5b116101ad5780638da5cb5b14610b6a57806395d89b4114610b725780639fd0506d14610b7a5780639fd5a6cf14610b825761036d565b80638456cb5914610a4b57806388b7ab6314610a535780638a6db9c314610b375761036d565b806338a63183116102ad57806354fd4d501161024b5780635c975abb116102255780635c975abb146109d557806370a08231146109dd5780637ecebe0014610a105780637f2eecc314610a435761036d565b806354fd4d501461094c578063554bab3c146109545780635a049a70146109875761036d565b806340c10f191161028757806340c10f19146107fb57806342966c6814610834578063430239b4146108515780634e44d956146109135761036d565b806338a63183146107b257806339509351146107ba5780633f4ba83a146107f35761036d565b80632fc81e091161031a578063313ce567116102f4578063313ce5671461056f5780633357162b1461058d57806335d99f35146107795780633644e515146107aa5761036d565b80632fc81e09146105015780633092afd51461053457806330adf81f146105675761036d565b80631a8952661161034b5780631a8952661461045657806323b872dd1461048b5780632ab60045146104ce5761036d565b806306fdde0314610372578063095ea7b3146103ef57806318160ddd1461043c575b600080fd5b61037a611227565b6040805160208082528351818301528351919283929083019185019080838360005b838110156103b457818101518382015260200161039c565b50505050905090810190601f1680156103e15780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6104286004803603604081101561040557600080fd5b5073ffffffffffffffffffffffffffffffffffffffff81351690602001356112d3565b604080519115158252519081900360200190f35b610444611374565b60408051918252519081900360200190f35b6104896004803603602081101561046c57600080fd5b503573ffffffffffffffffffffffffffffffffffffffff1661137a565b005b610428600480360360608110156104a157600080fd5b5073ffffffffffffffffffffffffffffffffffffffff813581169160208101359091169060400135611437565b610489600480360360208110156104e457600080fd5b503573ffffffffffffffffffffffffffffffffffffffff166116f2565b6104896004803603602081101561051757600080fd5b503573ffffffffffffffffffffffffffffffffffffffff16611853565b6104286004803603602081101561054a57600080fd5b503573ffffffffffffffffffffffffffffffffffffffff166118bb565b6104446119b4565b6105776119d8565b6040805160ff9092168252519081900360200190f35b61048960048036036101008110156105a457600080fd5b8101906020810181356401000000008111156105bf57600080fd5b8201836020820111156105d157600080fd5b803590602001918460018302840111640100000000831117156105f357600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929594936020810193503591505064010000000081111561064657600080fd5b82018360208201111561065857600080fd5b8035906020019184600183028401116401000000008311171561067a57600080fd5b91908080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525092959493602081019350359150506401000000008111156106cd57600080fd5b8201836020820111156106df57600080fd5b8035906020019184600183028401116401000000008311171561070157600080fd5b91908080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509295505050813560ff16925050602081013573ffffffffffffffffffffffffffffffffffffffff908116916040810135821691606082013581169160800135166119e1565b610781611d23565b6040805173ffffffffffffffffffffffffffffffffffffffff9092168252519081900360200190f35b610444611d3f565b610781611d4e565b610428600480360360408110156107d057600080fd5b5073ffffffffffffffffffffffffffffffffffffffff8135169060200135611d6a565b610489611e02565b6104286004803603604081101561081157600080fd5b5073ffffffffffffffffffffffffffffffffffffffff8135169060200135611ec5565b6104896004803603602081101561084a57600080fd5b5035612296565b6104896004803603604081101561086757600080fd5b81019060208101813564010000000081111561088257600080fd5b82018360208201111561089457600080fd5b803590602001918460208302840111640100000000831117156108b657600080fd5b9193909290916020810190356401000000008111156108d457600080fd5b8201836020820111156108e657600080fd5b8035906020019184600183028401116401000000008311171561090857600080fd5b509092509050612538565b6104286004803603604081101561092957600080fd5b5073ffffffffffffffffffffffffffffffffffffffff81351690602001356126ef565b61037a612882565b6104896004803603602081101561096a57600080fd5b503573ffffffffffffffffffffffffffffffffffffffff166128b9565b610489600480360360a081101561099d57600080fd5b5073ffffffffffffffffffffffffffffffffffffffff8135169060208101359060ff6040820135169060608101359060800135612a20565b610428612abe565b610444600480360360208110156109f357600080fd5b503573ffffffffffffffffffffffffffffffffffffffff16612adf565b61044460048036036020811015610a2657600080fd5b503573ffffffffffffffffffffffffffffffffffffffff16612af0565b610444612b18565b610489612b3c565b610489600480360360e0811015610a6957600080fd5b73ffffffffffffffffffffffffffffffffffffffff823581169260208101359091169160408201359160608101359160808201359160a08101359181019060e0810160c0820135640100000000811115610ac257600080fd5b820183602082011115610ad457600080fd5b80359060200191846001830284011164010000000083111715610af657600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550612c16945050505050565b61044460048036036020811015610b4d57600080fd5b503573ffffffffffffffffffffffffffffffffffffffff16612d7a565b610781612da2565b61037a612dbe565b610781612e37565b610489600480360360a0811015610b9857600080fd5b73ffffffffffffffffffffffffffffffffffffffff823581169260208101359091169160408201359160608101359181019060a081016080820135640100000000811115610be557600080fd5b820183602082011115610bf757600080fd5b80359060200191846001830284011164010000000083111715610c1957600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550612e53945050505050565b610444612eea565b61042860048036036040811015610c7857600080fd5b5073ffffffffffffffffffffffffffffffffffffffff8135169060200135612f0e565b61042860048036036040811015610cb157600080fd5b5073ffffffffffffffffffffffffffffffffffffffff8135169060200135612fa6565b61048960048036036020811015610cea57600080fd5b503573ffffffffffffffffffffffffffffffffffffffff16613109565b61042860048036036020811015610d1d57600080fd5b503573ffffffffffffffffffffffffffffffffffffffff16613270565b61048960048036036020811015610d5057600080fd5b503573ffffffffffffffffffffffffffffffffffffffff1661329b565b61048960048036036060811015610d8357600080fd5b5073ffffffffffffffffffffffffffffffffffffffff813581169160208101359091169060400135613402565b61048960048036036060811015610dc657600080fd5b73ffffffffffffffffffffffffffffffffffffffff82351691602081013591810190606081016040820135640100000000811115610e0357600080fd5b820183602082011115610e1557600080fd5b80359060200191846001830284011164010000000083111715610e3757600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550613498945050505050565b61078161352d565b610489600480360360e0811015610e9657600080fd5b73ffffffffffffffffffffffffffffffffffffffff823581169260208101359091169160408201359160608101359160808201359160a08101359181019060e0810160c0820135640100000000811115610eef57600080fd5b820183602082011115610f0157600080fd5b80359060200191846001830284011164010000000083111715610f2357600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550613549945050505050565b610489600480360360e0811015610f7a57600080fd5b5073ffffffffffffffffffffffffffffffffffffffff813581169160208101359091169060408101359060608101359060ff6080820135169060a08101359060c001356136a2565b61048960048036036020811015610fd857600080fd5b810190602081018135640100000000811115610ff357600080fd5b82018360208201111561100557600080fd5b8035906020019184600183028401116401000000008311171561102757600080fd5b509092509050613744565b61044461382d565b6104446004803603604081101561105057600080fd5b5073ffffffffffffffffffffffffffffffffffffffff81358116916020013516613851565b610489600480360361012081101561108c57600080fd5b5073ffffffffffffffffffffffffffffffffffffffff813581169160208101359091169060408101359060608101359060808101359060a08101359060ff60c0820135169060e0810135906101000135613889565b61037a6139f1565b610428600480360360408110156110ff57600080fd5b5073ffffffffffffffffffffffffffffffffffffffff8135169060200135613a6a565b610489600480360361012081101561113957600080fd5b5073ffffffffffffffffffffffffffffffffffffffff813581169160208101359091169060408101359060608101359060808101359060a08101359060ff60c0820135169060e0810135906101000135613aa2565b610489600480360360208110156111a457600080fd5b503573ffffffffffffffffffffffffffffffffffffffff16613bfd565b610489600480360360208110156111d757600080fd5b503573ffffffffffffffffffffffffffffffffffffffff16613d50565b6104286004803603602081101561120a57600080fd5b503573ffffffffffffffffffffffffffffffffffffffff16613e0d565b6004805460408051602060026001851615610100027fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0190941693909304601f810184900484028201840190925281815292918301828280156112cb5780601f106112a0576101008083540402835291602001916112cb565b820191906000526020600020905b8154815290600101906020018083116112ae57829003601f168201915b505050505081565b60015460009074010000000000000000000000000000000000000000900460ff161561136057604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601060248201527f5061757361626c653a2070617573656400000000000000000000000000000000604482015290519081900360640190fd5b61136b338484613e18565b50600192915050565b600b5490565b60025473ffffffffffffffffffffffffffffffffffffffff1633146113ea576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602c815260200180615824602c913960400191505060405180910390fd5b6113f381613f5f565b60405173ffffffffffffffffffffffffffffffffffffffff8216907f117e3210bb9aa7d9baff172026820255c6f6c30ba8999d1c2fd88e2848137c4e90600090a250565b60015460009074010000000000000000000000000000000000000000900460ff16156114c457604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601060248201527f5061757361626c653a2070617573656400000000000000000000000000000000604482015290519081900360640190fd5b336114ce81613f6a565b15611524576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526025815260200180615b046025913960400191505060405180910390fd5b8461152e81613f6a565b15611584576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526025815260200180615b046025913960400191505060405180910390fd5b8461158e81613f6a565b156115e4576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526025815260200180615b046025913960400191505060405180910390fd5b73ffffffffffffffffffffffffffffffffffffffff87166000908152600a6020908152604080832033845290915290205485111561166d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260288152602001806159146028913960400191505060405180910390fd5b611678878787613f98565b73ffffffffffffffffffffffffffffffffffffffff87166000908152600a602090815260408083203384529091529020546116b39086614163565b73ffffffffffffffffffffffffffffffffffffffff88166000908152600a60209081526040808320338452909152902055600193505050509392505050565b60005473ffffffffffffffffffffffffffffffffffffffff16331461177857604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015290519081900360640190fd5b73ffffffffffffffffffffffffffffffffffffffff81166117e4576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602a81526020018061575d602a913960400191505060405180910390fd5b600e80547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff83169081179091556040517fe475e580d85111348e40d8ca33cfdd74c30fe1655c2d8537a13abc10065ffa5a90600090a250565b60125460ff1660011461186557600080fd5b6000611870306141da565b9050801561188357611883308383613f98565b61188c30614224565b5050601280547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00166002179055565b60085460009073ffffffffffffffffffffffffffffffffffffffff16331461192e576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260298152602001806157fb6029913960400191505060405180910390fd5b73ffffffffffffffffffffffffffffffffffffffff82166000818152600c6020908152604080832080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00169055600d909152808220829055517fe94479a9f7e1952cc78f2d6baab678adc1b772d936c6583def489e524cb666929190a2506001919050565b7f6e71edae12b1b97f4d1f60370fef10105fa2faae0126114a169c64845d6126c981565b60065460ff1681565b60085474010000000000000000000000000000000000000000900460ff1615611a55576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602a81526020018061598f602a913960400191505060405180910390fd5b73ffffffffffffffffffffffffffffffffffffffff8416611ac1576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602f8152602001806158c1602f913960400191505060405180910390fd5b73ffffffffffffffffffffffffffffffffffffffff8316611b2d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260298152602001806157346029913960400191505060405180910390fd5b73ffffffffffffffffffffffffffffffffffffffff8216611b99576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602e81526020018061593c602e913960400191505060405180910390fd5b73ffffffffffffffffffffffffffffffffffffffff8116611c05576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526028815260200180615a7c6028913960400191505060405180910390fd5b8751611c189060049060208b01906154cd565b508651611c2c9060059060208a01906154cd565b508551611c409060079060208901906154cd565b50600680547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff001660ff8716179055600880547fffffffffffffffffffffffff000000000000000000000000000000000000000090811673ffffffffffffffffffffffffffffffffffffffff8781169190911790925560018054821686841617905560028054909116918416919091179055611cda8161422f565b5050600880547fffffffffffffffffffffff00ffffffffffffffffffffffffffffffffffffffff1674010000000000000000000000000000000000000000179055505050505050565b60085473ffffffffffffffffffffffffffffffffffffffff1681565b6000611d49614276565b905090565b600e5473ffffffffffffffffffffffffffffffffffffffff1690565b60015460009074010000000000000000000000000000000000000000900460ff1615611df757604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601060248201527f5061757361626c653a2070617573656400000000000000000000000000000000604482015290519081900360640190fd5b61136b33848461436b565b60015473ffffffffffffffffffffffffffffffffffffffff163314611e72576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526022815260200180615a306022913960400191505060405180910390fd5b600180547fffffffffffffffffffffff00ffffffffffffffffffffffffffffffffffffffff1690556040517f7805862f689e2f13df9f062ff482ad3ad112aca9e0847911ed832e158c525b3390600090a1565b60015460009074010000000000000000000000000000000000000000900460ff1615611f5257604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601060248201527f5061757361626c653a2070617573656400000000000000000000000000000000604482015290519081900360640190fd5b336000908152600c602052604090205460ff16611fba576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260218152602001806158a06021913960400191505060405180910390fd5b33611fc481613f6a565b1561201a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526025815260200180615b046025913960400191505060405180910390fd5b8361202481613f6a565b1561207a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526025815260200180615b046025913960400191505060405180910390fd5b73ffffffffffffffffffffffffffffffffffffffff85166120e6576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001806156c96023913960400191505060405180910390fd5b6000841161213f576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260298152602001806157ac6029913960400191505060405180910390fd5b336000908152600d6020526040902054808511156121a8576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602e815260200180615a02602e913960400191505060405180910390fd5b600b546121b590866143b5565b600b556121d4866121cf876121c9836141da565b906143b5565b614430565b6121de8186614163565b336000818152600d6020908152604091829020939093558051888152905173ffffffffffffffffffffffffffffffffffffffff8a16937fab8530f87dc9b59234c4623bf917212bb2536d647574c8e7e5da92c2ede0c9f8928290030190a360408051868152905173ffffffffffffffffffffffffffffffffffffffff8816916000917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9181900360200190a350600195945050505050565b60015474010000000000000000000000000000000000000000900460ff161561232057604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601060248201527f5061757361626c653a2070617573656400000000000000000000000000000000604482015290519081900360640190fd5b336000908152600c602052604090205460ff16612388576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260218152602001806158a06021913960400191505060405180910390fd5b3361239281613f6a565b156123e8576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526025815260200180615b046025913960400191505060405180910390fd5b60006123f3336141da565b90506000831161244e576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260298152602001806156a06029913960400191505060405180910390fd5b828110156124a7576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602681526020018061587a6026913960400191505060405180910390fd5b600b546124b49084614163565b600b556124c5336121cf8386614163565b60408051848152905133917fcc16f5dbb4873280815c1ee09dbd06736cffcc184412cf7a71a0fdb75d397ca5919081900360200190a260408051848152905160009133917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9181900360200190a3505050565b60125460ff1660021461254a57600080fd5b6125566005838361554b565b5060005b83811015612698576003600086868481811061257257fe5b6020908102929092013573ffffffffffffffffffffffffffffffffffffffff168352508101919091526040016000205460ff166125fa576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252603d8152602001806155ed603d913960400191505060405180910390fd5b61262b85858381811061260957fe5b9050602002013573ffffffffffffffffffffffffffffffffffffffff16614224565b6003600086868481811061263b57fe5b6020908102929092013573ffffffffffffffffffffffffffffffffffffffff1683525081019190915260400160002080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0016905560010161255a565b506126a230614224565b505030600090815260036020819052604090912080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff009081169091556012805490911690911790555050565b60015460009074010000000000000000000000000000000000000000900460ff161561277c57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601060248201527f5061757361626c653a2070617573656400000000000000000000000000000000604482015290519081900360640190fd5b60085473ffffffffffffffffffffffffffffffffffffffff1633146127ec576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260298152602001806157fb6029913960400191505060405180910390fd5b73ffffffffffffffffffffffffffffffffffffffff83166000818152600c6020908152604080832080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00166001179055600d825291829020859055815185815291517f46980fca912ef9bcdbd36877427b6b90e860769f604e89c0e67720cece530d209281900390910190a250600192915050565b60408051808201909152600181527f3200000000000000000000000000000000000000000000000000000000000000602082015290565b60005473ffffffffffffffffffffffffffffffffffffffff16331461293f57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015290519081900360640190fd5b73ffffffffffffffffffffffffffffffffffffffff81166129ab576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602881526020018061564d6028913960400191505060405180910390fd5b600180547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff83811691909117918290556040519116907fb80482a293ca2e013eda8683c9bd7fc8347cfdaeea5ede58cba46df502c2a60490600090a250565b60015474010000000000000000000000000000000000000000900460ff1615612aaa57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601060248201527f5061757361626c653a2070617573656400000000000000000000000000000000604482015290519081900360640190fd5b612ab78585858585614531565b5050505050565b60015474010000000000000000000000000000000000000000900460ff1681565b6000612aea826141da565b92915050565b73ffffffffffffffffffffffffffffffffffffffff1660009081526011602052604090205490565b7fd099cc98ef71107a616c4f0f941f04c322d8e254fe26b3c6668db87aae413de881565b60015473ffffffffffffffffffffffffffffffffffffffff163314612bac576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526022815260200180615a306022913960400191505060405180910390fd5b600180547fffffffffffffffffffffff00ffffffffffffffffffffffffffffffffffffffff16740100000000000000000000000000000000000000001790556040517f6985a02210a168e66602d3235cb6db0e70f92b3ba4d376a33c0f3d9434bff62590600090a1565b60015474010000000000000000000000000000000000000000900460ff1615612ca057604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601060248201527f5061757361626c653a2070617573656400000000000000000000000000000000604482015290519081900360640190fd5b86612caa81613f6a565b15612d00576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526025815260200180615b046025913960400191505060405180910390fd5b86612d0a81613f6a565b15612d60576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526025815260200180615b046025913960400191505060405180910390fd5b612d6f89898989898989614571565b505050505050505050565b73ffffffffffffffffffffffffffffffffffffffff166000908152600d602052604090205490565b60005473ffffffffffffffffffffffffffffffffffffffff1690565b6005805460408051602060026001851615610100027fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0190941693909304601f810184900484028201840190925281815292918301828280156112cb5780601f106112a0576101008083540402835291602001916112cb565b60015473ffffffffffffffffffffffffffffffffffffffff1681565b60015474010000000000000000000000000000000000000000900460ff1615612edd57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601060248201527f5061757361626c653a2070617573656400000000000000000000000000000000604482015290519081900360640190fd5b612ab78585858585614692565b7f7c7c6cdb67a18743f49ec6fa9b35f50d52ed05cbed4cc592e13b44501c1a226781565b60015460009074010000000000000000000000000000000000000000900460ff1615612f9b57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601060248201527f5061757361626c653a2070617573656400000000000000000000000000000000604482015290519081900360640190fd5b61136b338484614956565b60015460009074010000000000000000000000000000000000000000900460ff161561303357604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601060248201527f5061757361626c653a2070617573656400000000000000000000000000000000604482015290519081900360640190fd5b3361303d81613f6a565b15613093576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526025815260200180615b046025913960400191505060405180910390fd5b8361309d81613f6a565b156130f3576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526025815260200180615b046025913960400191505060405180910390fd5b6130fe338686613f98565b506001949350505050565b60005473ffffffffffffffffffffffffffffffffffffffff16331461318f57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015290519081900360640190fd5b73ffffffffffffffffffffffffffffffffffffffff81166131fb576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602f8152602001806158c1602f913960400191505060405180910390fd5b600880547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff83811691909117918290556040519116907fdb66dfa9c6b8f5226fe9aac7e51897ae8ee94ac31dc70bb6c9900b2574b707e690600090a250565b73ffffffffffffffffffffffffffffffffffffffff166000908152600c602052604090205460ff1690565b60005473ffffffffffffffffffffffffffffffffffffffff16331461332157604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015290519081900360640190fd5b73ffffffffffffffffffffffffffffffffffffffff811661338d576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526032815260200180615ad26032913960400191505060405180910390fd5b600280547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff83811691909117918290556040519116907fc67398012c111ce95ecb7429b933096c977380ee6c421175a71a4a4c6c88c06e90600090a250565b600e5473ffffffffffffffffffffffffffffffffffffffff163314613472576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260248152602001806158f06024913960400191505060405180910390fd5b61349373ffffffffffffffffffffffffffffffffffffffff841683836149b2565b505050565b60015474010000000000000000000000000000000000000000900460ff161561352257604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601060248201527f5061757361626c653a2070617573656400000000000000000000000000000000604482015290519081900360640190fd5b613493838383614a3f565b60025473ffffffffffffffffffffffffffffffffffffffff1681565b60015474010000000000000000000000000000000000000000900460ff16156135d357604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601060248201527f5061757361626c653a2070617573656400000000000000000000000000000000604482015290519081900360640190fd5b866135dd81613f6a565b15613633576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526025815260200180615b046025913960400191505060405180910390fd5b8661363d81613f6a565b15613693576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526025815260200180615b046025913960400191505060405180910390fd5b612d6f89898989898989614b49565b60015474010000000000000000000000000000000000000000900460ff161561372c57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601060248201527f5061757361626c653a2070617573656400000000000000000000000000000000604482015290519081900360640190fd5b61373b87878787878787614be7565b50505050505050565b60085474010000000000000000000000000000000000000000900460ff168015613771575060125460ff16155b61377a57600080fd5b6137866004838361554b565b506137fb82828080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152505060408051808201909152600181527f320000000000000000000000000000000000000000000000000000000000000060208201529150614c299050565b600f555050601280547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00166001179055565b7f158b0a9edf7a828aad02f63cd515c68ef2f50ba807396f6d12842833a159742981565b73ffffffffffffffffffffffffffffffffffffffff9182166000908152600a6020908152604080832093909416825291909152205490565b60015474010000000000000000000000000000000000000000900460ff161561391357604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601060248201527f5061757361626c653a2070617573656400000000000000000000000000000000604482015290519081900360640190fd5b8861391d81613f6a565b15613973576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526025815260200180615b046025913960400191505060405180910390fd5b8861397d81613f6a565b156139d3576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526025815260200180615b046025913960400191505060405180910390fd5b6139e48b8b8b8b8b8b8b8b8b614c3f565b5050505050505050505050565b6007805460408051602060026001851615610100027fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0190941693909304601f810184900484028201840190925281815292918301828280156112cb5780601f106112a0576101008083540402835291602001916112cb565b73ffffffffffffffffffffffffffffffffffffffff919091166000908152601060209081526040808320938352929052205460ff1690565b60015474010000000000000000000000000000000000000000900460ff1615613b2c57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601060248201527f5061757361626c653a2070617573656400000000000000000000000000000000604482015290519081900360640190fd5b88613b3681613f6a565b15613b8c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526025815260200180615b046025913960400191505060405180910390fd5b88613b9681613f6a565b15613bec576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526025815260200180615b046025913960400191505060405180910390fd5b6139e48b8b8b8b8b8b8b8b8b614c83565b60005473ffffffffffffffffffffffffffffffffffffffff163314613c8357604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015290519081900360640190fd5b73ffffffffffffffffffffffffffffffffffffffff8116613cef576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260268152602001806156ec6026913960400191505060405180910390fd5b6000546040805173ffffffffffffffffffffffffffffffffffffffff9283168152918316602083015280517f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09281900390910190a1613d4d8161422f565b50565b60025473ffffffffffffffffffffffffffffffffffffffff163314613dc0576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602c815260200180615824602c913960400191505060405180910390fd5b613dc981614224565b60405173ffffffffffffffffffffffffffffffffffffffff8216907fffa4e6181777692565cf28528fc88fd1516ea86b56da075235fa575af6a4b85590600090a250565b6000612aea82613f6a565b73ffffffffffffffffffffffffffffffffffffffff8316613e84576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260248152602001806159de6024913960400191505060405180910390fd5b73ffffffffffffffffffffffffffffffffffffffff8216613ef0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260228152602001806157126022913960400191505060405180910390fd5b73ffffffffffffffffffffffffffffffffffffffff8084166000818152600a6020908152604080832094871680845294825291829020859055815185815291517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259281900390910190a3505050565b613d4d816000614cc7565b73ffffffffffffffffffffffffffffffffffffffff1660009081526009602052604090205460ff1c60011490565b73ffffffffffffffffffffffffffffffffffffffff8316614004576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260258152602001806159b96025913960400191505060405180910390fd5b73ffffffffffffffffffffffffffffffffffffffff8216614070576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602381526020018061562a6023913960400191505060405180910390fd5b614079836141da565b8111156140d1576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260268152602001806157d56026913960400191505060405180910390fd5b6140e8836121cf836140e2876141da565b90614163565b6140f9826121cf836121c9866141da565b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a3505050565b6000828211156141d457604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601e60248201527f536166654d6174683a207375627472616374696f6e206f766572666c6f770000604482015290519081900360640190fd5b50900390565b73ffffffffffffffffffffffffffffffffffffffff166000908152600960205260409020547f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1690565b613d4d816001614cc7565b600080547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff92909216919091179055565b6004805460408051602060026001851615610100027fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0190941693909304601f8101849004840282018401909252818152600093611d4993919290918301828280156143235780601f106142f857610100808354040283529160200191614323565b820191906000526020600020905b81548152906001019060200180831161430657829003601f168201915b50505050506040518060400160405280600181526020017f3200000000000000000000000000000000000000000000000000000000000000815250614366614d50565b614d54565b73ffffffffffffffffffffffffffffffffffffffff8084166000908152600a602090815260408083209386168352929052205461349390849084906143b090856143b5565b613e18565b60008282018381101561442957604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b9392505050565b7f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8111156144a9576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602a815260200180615850602a913960400191505060405180910390fd5b6144b282613f6a565b15614508576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260258152602001806157876025913960400191505060405180910390fd5b73ffffffffffffffffffffffffffffffffffffffff909116600090815260096020526040902055565b612ab78585848487604051602001808481526020018381526020018260ff1660f81b81526001019350505050604051602081830303815290604052614a3f565b73ffffffffffffffffffffffffffffffffffffffff861633146145df576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602581526020018061596a6025913960400191505060405180910390fd5b6145eb87838686614dc8565b604080517fd099cc98ef71107a616c4f0f941f04c322d8e254fe26b3c6668db87aae413de860208083019190915273ffffffffffffffffffffffffffffffffffffffff808b1683850152891660608301526080820188905260a0820187905260c0820186905260e080830186905283518084039091018152610100909201909252805191012061467d90889083614e88565b6146878783615006565b61373b878787613f98565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8214806146c05750428210155b61472b57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601e60248201527f46696174546f6b656e56323a207065726d697420697320657870697265640000604482015290519081900360640190fd5b60006147d3614738614276565b73ffffffffffffffffffffffffffffffffffffffff80891660008181526011602090815260409182902080546001810190915582517f6e71edae12b1b97f4d1f60370fef10105fa2faae0126114a169c64845d6126c98184015280840194909452938b166060840152608083018a905260a083019390935260c08083018990528151808403909101815260e09092019052805191012061508b565b905073800c32eaa2a6c93cf4cb51794450ed77fbfbb172636ccea6528783856040518463ffffffff1660e01b8152600401808473ffffffffffffffffffffffffffffffffffffffff16815260200183815260200180602001828103825283818151815260200191508051906020019080838360005b83811015614860578181015183820152602001614848565b50505050905090810190601f16801561488d5780820380516001836020036101000a031916815260200191505b5094505050505060206040518083038186803b1580156148ac57600080fd5b505af41580156148c0573d6000803e3d6000fd5b505050506040513d60208110156148d657600080fd5b505161494357604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601a60248201527f454950323631323a20696e76616c6964207369676e6174757265000000000000604482015290519081900360640190fd5b61494e868686613e18565b505050505050565b61349383836143b084604051806060016040528060258152602001615b4e6025913973ffffffffffffffffffffffffffffffffffffffff808a166000908152600a60209081526040808320938c168352929052205491906150c5565b6040805173ffffffffffffffffffffffffffffffffffffffff8416602482015260448082018490528251808303909101815260649091019091526020810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167fa9059cbb00000000000000000000000000000000000000000000000000000000179052613493908490615176565b614a49838361524e565b614ac3837f158b0a9edf7a828aad02f63cd515c68ef2f50ba807396f6d12842833a159742960001b8585604051602001808481526020018373ffffffffffffffffffffffffffffffffffffffff16815260200182815260200193505050506040516020818303038152906040528051906020012083614e88565b73ffffffffffffffffffffffffffffffffffffffff8316600081815260106020908152604080832086845290915280822080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00166001179055518492917f1cdd46ff242716cdaa72d159d339a485b3438398348d68f09d7c8c0a59353d8191a3505050565b614b5587838686614dc8565b604080517f7c7c6cdb67a18743f49ec6fa9b35f50d52ed05cbed4cc592e13b44501c1a226760208083019190915273ffffffffffffffffffffffffffffffffffffffff808b1683850152891660608301526080820188905260a0820187905260c0820186905260e080830186905283518084039091018152610100909201909252805191012061467d90889083614e88565b61373b87878787868689604051602001808481526020018381526020018260ff1660f81b81526001019350505050604051602081830303815290604052614692565b600046614c37848483614d54565b949350505050565b612d6f89898989898988888b604051602001808481526020018381526020018260ff1660f81b81526001019350505050604051602081830303815290604052614b49565b612d6f89898989898988888b604051602001808481526020018381526020018260ff1660f81b81526001019350505050604051602081830303815290604052614571565b80614cda57614cd5826141da565b614d23565b73ffffffffffffffffffffffffffffffffffffffff82166000908152600960205260409020547f8000000000000000000000000000000000000000000000000000000000000000175b73ffffffffffffffffffffffffffffffffffffffff90921660009081526009602052604090209190915550565b4690565b8251602093840120825192840192909220604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f8187015280820194909452606084019190915260808301919091523060a0808401919091528151808403909101815260c09092019052805191012090565b814211614e20576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602b815260200180615675602b913960400191505060405180910390fd5b804210614e78576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526025815260200180615b296025913960400191505060405180910390fd5b614e82848461524e565b50505050565b73800c32eaa2a6c93cf4cb51794450ed77fbfbb172636ccea65284614eb4614eae614276565b8661508b565b846040518463ffffffff1660e01b8152600401808473ffffffffffffffffffffffffffffffffffffffff16815260200183815260200180602001828103825283818151815260200191508051906020019080838360005b83811015614f23578181015183820152602001614f0b565b50505050905090810190601f168015614f505780820380516001836020036101000a031916815260200191505b5094505050505060206040518083038186803b158015614f6f57600080fd5b505af4158015614f83573d6000803e3d6000fd5b505050506040513d6020811015614f9957600080fd5b505161349357604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601e60248201527f46696174546f6b656e56323a20696e76616c6964207369676e61747572650000604482015290519081900360640190fd5b73ffffffffffffffffffffffffffffffffffffffff8216600081815260106020908152604080832085845290915280822080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00166001179055518392917f98de503528ee59b575ef0c0a2576a82497bfc029a5685b209e9ec333479b10a591a35050565b6040517f19010000000000000000000000000000000000000000000000000000000000008152600281019290925260228201526042902090565b6000818484111561516e576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b8381101561513357818101518382015260200161511b565b50505050905090810190601f1680156151605780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b505050900390565b60606151d8826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c65648152508573ffffffffffffffffffffffffffffffffffffffff166152dc9092919063ffffffff16565b805190915015613493578080602001905160208110156151f757600080fd5b5051613493576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602a815260200180615a52602a913960400191505060405180910390fd5b73ffffffffffffffffffffffffffffffffffffffff8216600090815260106020908152604080832084845290915290205460ff16156152d8576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602e815260200180615aa4602e913960400191505060405180910390fd5b5050565b6060614c378484600085856152f085615447565b61535b57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e7472616374000000604482015290519081900360640190fd5b600060608673ffffffffffffffffffffffffffffffffffffffff1685876040518082805190602001908083835b602083106153c557805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe09092019160209182019101615388565b6001836020036101000a03801982511681845116808217855250505050505090500191505060006040518083038185875af1925050503d8060008114615427576040519150601f19603f3d011682016040523d82523d6000602084013e61542c565b606091505b509150915061543c82828661544d565b979650505050505050565b3b151590565b6060831561545c575081614429565b82511561546c5782518084602001fd5b6040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820181815284516024840152845185939192839260440191908501908083836000831561513357818101518382015260200161511b565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061550e57805160ff191683800117855561553b565b8280016001018555821561553b579182015b8281111561553b578251825591602001919060010190615520565b506155479291506155d7565b5090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106155aa578280017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0082351617855561553b565b8280016001018555821561553b579182015b8281111561553b5782358255916020019190600101906155bc565b5b8082111561554757600081556001016155d856fe46696174546f6b656e56325f323a20426c61636b6c697374696e672070726576696f75736c7920756e626c61636b6c6973746564206163636f756e742145524332303a207472616e7366657220746f20746865207a65726f20616464726573735061757361626c653a206e65772070617573657220697320746865207a65726f206164647265737346696174546f6b656e56323a20617574686f72697a6174696f6e206973206e6f74207965742076616c696446696174546f6b656e3a206275726e20616d6f756e74206e6f742067726561746572207468616e203046696174546f6b656e3a206d696e7420746f20746865207a65726f20616464726573734f776e61626c653a206e6577206f776e657220697320746865207a65726f206164647265737345524332303a20617070726f766520746f20746865207a65726f206164647265737346696174546f6b656e3a206e65772070617573657220697320746865207a65726f2061646472657373526573637561626c653a206e6577207265736375657220697320746865207a65726f206164647265737346696174546f6b656e56325f323a204163636f756e7420697320626c61636b6c697374656446696174546f6b656e3a206d696e7420616d6f756e74206e6f742067726561746572207468616e203045524332303a207472616e7366657220616d6f756e7420657863656564732062616c616e636546696174546f6b656e3a2063616c6c6572206973206e6f7420746865206d61737465724d696e746572426c61636b6c69737461626c653a2063616c6c6572206973206e6f742074686520626c61636b6c697374657246696174546f6b656e56325f323a2042616c616e636520657863656564732028325e323535202d20312946696174546f6b656e3a206275726e20616d6f756e7420657863656564732062616c616e636546696174546f6b656e3a2063616c6c6572206973206e6f742061206d696e74657246696174546f6b656e3a206e6577206d61737465724d696e74657220697320746865207a65726f2061646472657373526573637561626c653a2063616c6c6572206973206e6f7420746865207265736375657245524332303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e636546696174546f6b656e3a206e657720626c61636b6c697374657220697320746865207a65726f206164647265737346696174546f6b656e56323a2063616c6c6572206d7573742062652074686520706179656546696174546f6b656e3a20636f6e747261637420697320616c726561647920696e697469616c697a656445524332303a207472616e736665722066726f6d20746865207a65726f206164647265737345524332303a20617070726f76652066726f6d20746865207a65726f206164647265737346696174546f6b656e3a206d696e7420616d6f756e742065786365656473206d696e746572416c6c6f77616e63655061757361626c653a2063616c6c6572206973206e6f7420746865207061757365725361666545524332303a204552433230206f7065726174696f6e20646964206e6f74207375636365656446696174546f6b656e3a206e6577206f776e657220697320746865207a65726f206164647265737346696174546f6b656e56323a20617574686f72697a6174696f6e2069732075736564206f722063616e63656c6564426c61636b6c69737461626c653a206e657720626c61636b6c697374657220697320746865207a65726f2061646472657373426c61636b6c69737461626c653a206163636f756e7420697320626c61636b6c697374656446696174546f6b656e56323a20617574686f72697a6174696f6e206973206578706972656445524332303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726fa264697066735822122005677c3919f4b149e065a5983baa9e2fb099cab5463ccd06429f70b32d8d9bdf64736f6c634300060c0033&#39;;</span>
 8 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/src/contracts/L1OpUSDCBridgeAdapter.sol</b>
<code>
   1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
   2 |     | <span class='neutral'>pragma solidity 0.8.25;</span>
   3 |     | <span class='neutral'></span>
   4 |     | <span class='neutral'>import {SafeERC20} from &#39;@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol&#39;;</span>
   5 |     | <span class='neutral'>import {OpUSDCBridgeAdapter} from &#39;contracts/universal/OpUSDCBridgeAdapter.sol&#39;;</span>
   6 |     | <span class='neutral'>import {IL1OpUSDCBridgeAdapter} from &#39;interfaces/IL1OpUSDCBridgeAdapter.sol&#39;;</span>
   7 |     | <span class='neutral'>import {ICrossDomainMessenger} from &#39;interfaces/external/ICrossDomainMessenger.sol&#39;;</span>
   8 |     | <span class='neutral'>import {IUSDC} from &#39;interfaces/external/IUSDC.sol&#39;;</span>
   9 |     | <span class='neutral'></span>
  10 |     | <span class='neutral'>/**</span>
  11 |     | <span class='neutral'> * @title L1OpUSDCBridgeAdapter</span>
  12 |     | <span class='neutral'> * @notice L1OpUSDCBridgeAdapter is a contract that bridges Bridged USDC from L1 to L2 and and receives it from L2.</span>
  13 |     | <span class='neutral'> * It is also in charge of pausing and resuming messaging between the L1 and L2 adapters, and properly initiating the</span>
  14 |     | <span class='neutral'> * migration process to the for bridged USDC to native.</span>
  15 |     | <span class='neutral'> */</span>
  16 |     | <span class='unexecuted'>contract L1OpUSDCBridgeAdapter is IL1OpUSDCBridgeAdapter, OpUSDCBridgeAdapter {</span>
  17 |     | <span class='neutral'>  using SafeERC20 for IUSDC;</span>
  18 |     | <span class='neutral'></span>
  19 |     | <span class='neutral'>  /// @inheritdoc IL1OpUSDCBridgeAdapter</span>
  20 |     | <span class='unexecuted'>  uint256 public burnAmount;</span>
  21 |     | <span class='neutral'></span>
  22 |     | <span class='neutral'>  /// @inheritdoc IL1OpUSDCBridgeAdapter</span>
  23 |     | <span class='unexecuted'>  address public newOwner;</span>
  24 |     | <span class='neutral'></span>
  25 |     | <span class='neutral'>  /// @inheritdoc IL1OpUSDCBridgeAdapter</span>
  26 |     | <span class='unexecuted'>  Status public messengerStatus;</span>
  27 |     | <span class='neutral'></span>
  28 |     | <span class='neutral'>  /**</span>
  29 |     | <span class='neutral'>   * @notice Modifier to check if the sender is the linked adapter through the messenger</span>
  30 |     | <span class='neutral'>   */</span>
  31 |     | <span class='neutral'>  modifier checkSender() {</span>
  32 |     | <span class='unexecuted'>    if (msg.sender != MESSENGER || ICrossDomainMessenger(MESSENGER).xDomainMessageSender() != LINKED_ADAPTER) {</span>
  33 |     | <span class='unexecuted'>      revert IOpUSDCBridgeAdapter_InvalidSender();</span>
  34 |     | <span class='neutral'>    }</span>
  35 |     | <span class='neutral'>    _;</span>
  36 |     | <span class='neutral'>  }</span>
  37 |     | <span class='neutral'></span>
  38 |     | <span class='neutral'>  /**</span>
  39 |     | <span class='neutral'>   * @notice Construct the OpUSDCBridgeAdapter contract</span>
  40 |     | <span class='neutral'>   * @param _usdc The address of the USDC Contract to be used by the adapter</span>
  41 |     | <span class='neutral'>   * @param _messenger The address of the L1 messenger</span>
  42 |     | <span class='neutral'>   * @param _linkedAdapter The address of the linked adapter</span>
  43 |     | <span class='neutral'>   * @param _owner The address of the owner of the contract</span>
  44 |     | <span class='neutral'>   * @dev The constructor is only used to initialize the OpUSDCBridgeAdapter immutable variables</span>
  45 |     | <span class='neutral'>   */</span>
  46 |     | <span class='unexecuted'>  constructor(</span>
  47 |     | <span class='neutral'>    address _usdc,</span>
  48 |     | <span class='neutral'>    address _messenger,</span>
  49 |     | <span class='neutral'>    address _linkedAdapter,</span>
  50 |     | <span class='neutral'>    address _owner</span>
  51 |     | <span class='unexecuted'>  ) OpUSDCBridgeAdapter(_usdc, _messenger, _linkedAdapter, _owner) {}</span>
  52 |     | <span class='neutral'></span>
  53 |     | <span class='neutral'>  /*///////////////////////////////////////////////////////////////</span>
  54 |     | <span class='neutral'>                              MIGRATION</span>
  55 |     | <span class='neutral'>  ///////////////////////////////////////////////////////////////*/</span>
  56 |     | <span class='neutral'></span>
  57 |     | <span class='neutral'>  /**</span>
  58 |     | <span class='neutral'>   * @notice Initiates the process to migrate the bridged USDC to native USDC</span>
  59 |     | <span class='neutral'>   * @param _newOwner The address to transfer ownerships to</span>
  60 |     | <span class='neutral'>   * @param _minGasLimitReceiveOnL2 Minimum gas limit that the message can be executed with on L2</span>
  61 |     | <span class='neutral'>   * @param _minGasLimitSetBurnAmount Minimum gas limit that the message can be executed with to set the burn amount</span>
  62 |     | <span class='neutral'>   */</span>
  63 |     | <span class='unexecuted'>  function migrateToNative(</span>
  64 |     | <span class='neutral'>    address _newOwner,</span>
  65 |     | <span class='neutral'>    uint32 _minGasLimitReceiveOnL2,</span>
  66 |     | <span class='neutral'>    uint32 _minGasLimitSetBurnAmount</span>
  67 |     | <span class='neutral'>  ) external onlyOwner {</span>
  68 |     | <span class='neutral'>    // Leave this flow open to resend upgrading flow incase message fails on L2</span>
  69 |     | <span class='neutral'>    // Circle&#39;s USDC implementation of `transferOwnership` reverts on address(0)</span>
  70 |     | <span class='unexecuted'>    if (_newOwner == address(0)) revert IOpUSDCBridgeAdapter_InvalidAddress();</span>
  71 |     | <span class='neutral'></span>
  72 |     | <span class='neutral'>    // Ensure messaging is enabled</span>
  73 |     | <span class='unexecuted'>    if (messengerStatus != Status.Active &amp;&amp; messengerStatus != Status.Upgrading) {</span>
  74 |     | <span class='unexecuted'>      revert IOpUSDCBridgeAdapter_MessagingDisabled();</span>
  75 |     | <span class='neutral'>    }</span>
  76 |     | <span class='neutral'></span>
  77 |     | <span class='unexecuted'>    newOwner = _newOwner;</span>
  78 |     | <span class='unexecuted'>    messengerStatus = Status.Upgrading;</span>
  79 |     | <span class='neutral'></span>
  80 |     | <span class='unexecuted'>    ICrossDomainMessenger(MESSENGER).sendMessage(</span>
  81 |     | <span class='unexecuted'>      LINKED_ADAPTER,</span>
  82 |     | <span class='unexecuted'>      abi.encodeWithSignature(&#39;receiveMigrateToNative(address,uint32)&#39;, _newOwner, _minGasLimitSetBurnAmount),</span>
  83 |     | <span class='unexecuted'>      _minGasLimitReceiveOnL2</span>
  84 |     | <span class='neutral'>    );</span>
  85 |     | <span class='neutral'></span>
  86 |     | <span class='unexecuted'>    emit MigratingToNative(MESSENGER, _newOwner);</span>
  87 |     | <span class='neutral'>  }</span>
  88 |     | <span class='neutral'></span>
  89 |     | <span class='neutral'>  /**</span>
  90 |     | <span class='neutral'>   * @notice Sets the amount of USDC tokens that will be burned when the burnLockedUSDC function is called</span>
  91 |     | <span class='neutral'>   * @param _amount The amount of USDC tokens that will be burned</span>
  92 |     | <span class='neutral'>   * @dev Only callable by a whitelisted messenger during its migration process</span>
  93 |     | <span class='neutral'>   */</span>
  94 |     | <span class='unexecuted'>  function setBurnAmount(uint256 _amount) external checkSender {</span>
  95 |     | <span class='unexecuted'>    if (messengerStatus != Status.Upgrading) revert IOpUSDCBridgeAdapter_NotUpgrading();</span>
  96 |     | <span class='neutral'></span>
  97 |     | <span class='unexecuted'>    burnAmount = _amount;</span>
  98 |     | <span class='unexecuted'>    messengerStatus = Status.Deprecated;</span>
  99 |     | <span class='neutral'></span>
 100 |     | <span class='unexecuted'>    emit BurnAmountSet(_amount);</span>
 101 |     | <span class='neutral'>  }</span>
 102 |     | <span class='neutral'></span>
 103 |     | <span class='neutral'>  /**</span>
 104 |     | <span class='neutral'>   * @notice Burns the USDC tokens locked in the contract</span>
 105 |     | <span class='neutral'>   * @dev The amount is determined by the burnAmount variable, which is set in the setBurnAmount function</span>
 106 |     | <span class='neutral'>   */</span>
 107 |     | <span class='unexecuted'>  function burnLockedUSDC() external {</span>
 108 |     | <span class='unexecuted'>    if (msg.sender != newOwner) revert IOpUSDCBridgeAdapter_InvalidSender();</span>
 109 |     | <span class='neutral'></span>
 110 |     | <span class='neutral'>    // If the adapter is not deprecated the burn amount has not been set</span>
 111 |     | <span class='unexecuted'>    if (messengerStatus != Status.Deprecated) revert IOpUSDCBridgeAdapter_BurnAmountNotSet();</span>
 112 |     | <span class='neutral'></span>
 113 |     | <span class='neutral'>    // Burn the USDC tokens</span>
 114 |     | <span class='unexecuted'>    if (burnAmount != 0) {</span>
 115 |     | <span class='unexecuted'>      IUSDC(USDC).burn(burnAmount);</span>
 116 |     | <span class='neutral'></span>
 117 |     | <span class='neutral'>      // Set the burn amount to 0</span>
 118 |     | <span class='unexecuted'>      burnAmount = 0;</span>
 119 |     | <span class='neutral'>    }</span>
 120 |     | <span class='neutral'></span>
 121 |     | <span class='unexecuted'>    newOwner = address(0);</span>
 122 |     | <span class='neutral'></span>
 123 |     | <span class='unexecuted'>    emit MigrationComplete();</span>
 124 |     | <span class='neutral'>  }</span>
 125 |     | <span class='neutral'></span>
 126 |     | <span class='neutral'>  /*///////////////////////////////////////////////////////////////</span>
 127 |     | <span class='neutral'>                          MESSAGING CONTROL</span>
 128 |     | <span class='neutral'>  ///////////////////////////////////////////////////////////////*/</span>
 129 |     | <span class='neutral'></span>
 130 |     | <span class='neutral'>  /**</span>
 131 |     | <span class='neutral'>   * @notice Send a message to the linked adapter to call receiveStopMessaging() and stop outgoing messages.</span>
 132 |     | <span class='neutral'>   * @dev Only callable by the owner of the adapter</span>
 133 |     | <span class='neutral'>   * @dev Setting isMessagingDisabled to true is an irreversible operation</span>
 134 |     | <span class='neutral'>   * @param _minGasLimit Minimum gas limit that the message can be executed with</span>
 135 |     | <span class='neutral'>   */</span>
 136 |     | <span class='unexecuted'>  function stopMessaging(uint32 _minGasLimit) external onlyOwner {</span>
 137 |     | <span class='neutral'>    // Ensure messaging is enabled</span>
 138 |     | <span class='unexecuted'>    if (messengerStatus != Status.Active) revert IOpUSDCBridgeAdapter_MessagingDisabled();</span>
 139 |     | <span class='neutral'></span>
 140 |     | <span class='unexecuted'>    messengerStatus = Status.Paused;</span>
 141 |     | <span class='neutral'></span>
 142 |     | <span class='unexecuted'>    ICrossDomainMessenger(MESSENGER).sendMessage(</span>
 143 |     | <span class='unexecuted'>      LINKED_ADAPTER, abi.encodeWithSignature(&#39;receiveStopMessaging()&#39;), _minGasLimit</span>
 144 |     | <span class='neutral'>    );</span>
 145 |     | <span class='neutral'></span>
 146 |     | <span class='unexecuted'>    emit MessagingStopped(MESSENGER);</span>
 147 |     | <span class='neutral'>  }</span>
 148 |     | <span class='neutral'></span>
 149 |     | <span class='neutral'>  /**</span>
 150 |     | <span class='neutral'>   * @notice Resume messaging on the messenger</span>
 151 |     | <span class='neutral'>   * @dev Only callable by the owner</span>
 152 |     | <span class='neutral'>   * @dev Cant resume deprecated messengers</span>
 153 |     | <span class='neutral'>   * @param _minGasLimit Minimum gas limit that the message can be executed with</span>
 154 |     | <span class='neutral'>   */</span>
 155 |     | <span class='unexecuted'>  function resumeMessaging(uint32 _minGasLimit) external onlyOwner {</span>
 156 |     | <span class='neutral'>    // Ensure messaging is disabled</span>
 157 |     | <span class='unexecuted'>    if (messengerStatus != Status.Paused) revert IOpUSDCBridgeAdapter_MessagingEnabled();</span>
 158 |     | <span class='neutral'></span>
 159 |     | <span class='unexecuted'>    messengerStatus = Status.Active;</span>
 160 |     | <span class='neutral'></span>
 161 |     | <span class='unexecuted'>    ICrossDomainMessenger(MESSENGER).sendMessage(</span>
 162 |     | <span class='unexecuted'>      LINKED_ADAPTER, abi.encodeWithSignature(&#39;receiveResumeMessaging()&#39;), _minGasLimit</span>
 163 |     | <span class='neutral'>    );</span>
 164 |     | <span class='neutral'></span>
 165 |     | <span class='unexecuted'>    emit MessagingResumed(MESSENGER);</span>
 166 |     | <span class='neutral'>  }</span>
 167 |     | <span class='neutral'></span>
 168 |     | <span class='neutral'>  /*///////////////////////////////////////////////////////////////</span>
 169 |     | <span class='neutral'>                             MESSAGING</span>
 170 |     | <span class='neutral'>  ///////////////////////////////////////////////////////////////*/</span>
 171 |     | <span class='neutral'></span>
 172 |     | <span class='neutral'>  /**</span>
 173 |     | <span class='neutral'>   * @notice Send tokens to other chain through the linked adapter</span>
 174 |     | <span class='neutral'>   * @param _to The target address on the destination chain</span>
 175 |     | <span class='neutral'>   * @param _amount The amount of tokens to send</span>
 176 |     | <span class='neutral'>   * @param _minGasLimit Minimum gas limit that the message can be executed with</span>
 177 |     | <span class='neutral'>   */</span>
 178 |     | <span class='unexecuted'>  function sendMessage(address _to, uint256 _amount, uint32 _minGasLimit) external override {</span>
 179 |     | <span class='neutral'>    // Ensure messaging is enabled</span>
 180 |     | <span class='unexecuted'>    if (messengerStatus != Status.Active) revert IOpUSDCBridgeAdapter_MessagingDisabled();</span>
 181 |     | <span class='neutral'></span>
 182 |     | <span class='neutral'>    // Transfer the tokens to the contract</span>
 183 |     | <span class='unexecuted'>    IUSDC(USDC).safeTransferFrom(msg.sender, address(this), _amount);</span>
 184 |     | <span class='neutral'></span>
 185 |     | <span class='neutral'>    // Send the message to the linked adapter</span>
 186 |     | <span class='unexecuted'>    ICrossDomainMessenger(MESSENGER).sendMessage(</span>
 187 |     | <span class='unexecuted'>      LINKED_ADAPTER, abi.encodeWithSignature(&#39;receiveMessage(address,uint256)&#39;, _to, _amount), _minGasLimit</span>
 188 |     | <span class='neutral'>    );</span>
 189 |     | <span class='neutral'></span>
 190 |     | <span class='unexecuted'>    emit MessageSent(msg.sender, _to, _amount, MESSENGER, _minGasLimit);</span>
 191 |     | <span class='neutral'>  }</span>
 192 |     | <span class='neutral'></span>
 193 |     | <span class='neutral'>  /**</span>
 194 |     | <span class='neutral'>   * @notice Send tokens to other chain through the linked adapter</span>
 195 |     | <span class='neutral'>   * @param _signer The address of the user sending the message</span>
 196 |     | <span class='neutral'>   * @param _to The target address on the destination chain</span>
 197 |     | <span class='neutral'>   * @param _amount The amount of tokens to send</span>
 198 |     | <span class='neutral'>   * @param _signature The signature of the user</span>
 199 |     | <span class='neutral'>   * @param _deadline The deadline for the message to be executed</span>
 200 |     | <span class='neutral'>   * @param _minGasLimit Minimum gas limit that the message can be executed with</span>
 201 |     | <span class='neutral'>   */</span>
 202 |     | <span class='unexecuted'>  function sendMessage(</span>
 203 |     | <span class='neutral'>    address _signer,</span>
 204 |     | <span class='neutral'>    address _to,</span>
 205 |     | <span class='neutral'>    uint256 _amount,</span>
 206 |     | <span class='neutral'>    bytes calldata _signature,</span>
 207 |     | <span class='neutral'>    uint256 _deadline,</span>
 208 |     | <span class='neutral'>    uint32 _minGasLimit</span>
 209 |     | <span class='unexecuted'>  ) external override {</span>
 210 |     | <span class='neutral'>    // Ensure messaging is enabled</span>
 211 |     | <span class='unexecuted'>    if (messengerStatus != Status.Active) revert IOpUSDCBridgeAdapter_MessagingDisabled();</span>
 212 |     | <span class='neutral'></span>
 213 |     | <span class='neutral'>    // Ensure the deadline has not passed</span>
 214 |     | <span class='unexecuted'>    if (block.timestamp &gt; _deadline) revert IOpUSDCBridgeAdapter_MessageExpired();</span>
 215 |     | <span class='neutral'></span>
 216 |     | <span class='neutral'>    // Hash the message</span>
 217 |     | <span class='unexecuted'>    bytes32 _messageHash = keccak256(abi.encode(address(this), block.chainid, _to, _amount, userNonce[_signer]++));</span>
 218 |     | <span class='neutral'></span>
 219 |     | <span class='unexecuted'>    _checkSignature(_signer, _messageHash, _signature);</span>
 220 |     | <span class='neutral'></span>
 221 |     | <span class='neutral'>    // Transfer the tokens to the contract</span>
 222 |     | <span class='unexecuted'>    IUSDC(USDC).safeTransferFrom(_signer, address(this), _amount);</span>
 223 |     | <span class='neutral'></span>
 224 |     | <span class='neutral'>    // Send the message to the linked adapter</span>
 225 |     | <span class='unexecuted'>    ICrossDomainMessenger(MESSENGER).sendMessage(</span>
 226 |     | <span class='unexecuted'>      LINKED_ADAPTER, abi.encodeWithSignature(&#39;receiveMessage(address,uint256)&#39;, _to, _amount), _minGasLimit</span>
 227 |     | <span class='neutral'>    );</span>
 228 |     | <span class='neutral'></span>
 229 |     | <span class='unexecuted'>    emit MessageSent(_signer, _to, _amount, MESSENGER, _minGasLimit);</span>
 230 |     | <span class='neutral'>  }</span>
 231 |     | <span class='neutral'></span>
 232 |     | <span class='neutral'>  /**</span>
 233 |     | <span class='neutral'>   * @notice Receive the message from the other chain and transfer the tokens to the user</span>
 234 |     | <span class='neutral'>   * @dev This function should only be called when receiving a message to mint the bridged representation</span>
 235 |     | <span class='neutral'>   * @param _user The user to mint the bridged representation for</span>
 236 |     | <span class='neutral'>   * @param _amount The amount of tokens to mint</span>
 237 |     | <span class='neutral'>   */</span>
 238 |     | <span class='unexecuted'>  function receiveMessage(address _user, uint256 _amount) external override checkSender {</span>
 239 |     | <span class='neutral'>    // Transfer the tokens to the user</span>
 240 |     | <span class='unexecuted'>    IUSDC(USDC).safeTransfer(_user, _amount);</span>
 241 |     | <span class='unexecuted'>    emit MessageReceived(_user, _amount, MESSENGER);</span>
 242 |     | <span class='neutral'>  }</span>
 243 |     | <span class='neutral'>}</span>
 244 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/src/contracts/L1OpUSDCFactory.sol</b>
<code>
   1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
   2 |     | <span class='neutral'>pragma solidity 0.8.25;</span>
   3 |     | <span class='neutral'></span>
   4 |     | <span class='neutral'>import {L1OpUSDCBridgeAdapter} from &#39;contracts/L1OpUSDCBridgeAdapter.sol&#39;;</span>
   5 |     | <span class='neutral'>import {IL1OpUSDCFactory} from &#39;interfaces/IL1OpUSDCFactory.sol&#39;;</span>
   6 |     | <span class='neutral'>import {IL2OpUSDCFactory} from &#39;interfaces/IL2OpUSDCFactory.sol&#39;;</span>
   7 |     | <span class='neutral'></span>
   8 |     | <span class='neutral'>import {IUSDC} from &#39;interfaces/external/IUSDC.sol&#39;;</span>
   9 |     | <span class='neutral'>import {CrossChainDeployments} from &#39;libraries/CrossChainDeployments.sol&#39;;</span>
  10 |     | <span class='neutral'></span>
  11 |     | <span class='neutral'>/**</span>
  12 |     | <span class='neutral'> * @title L1OpUSDCFactory</span>
  13 |     | <span class='neutral'> * @notice Factory contract to deploy and setup the `L1OpUSDCBridgeAdapter` contract on L1, and</span>
  14 |     | <span class='neutral'> * triggers the deployment of the L2 factory, L2 adapter, and L2 USDC contracts.</span>
  15 |     | <span class='neutral'> * @dev The salt is always different for each deployed instance of this contract on the L1 Factory, and the L2 contracts</span>
  16 |     | <span class='neutral'> * are deployed with `CREATE` to guarantee that the addresses are unique among all the L2s, so we avoid a scenario where</span>
  17 |     | <span class='neutral'> * L2 contracts have the same address on different L2s when triggered by different owners.</span>
  18 |     | <span class='neutral'> */</span>
  19 |     | <span class='unexecuted'>contract L1OpUSDCFactory is IL1OpUSDCFactory {</span>
  20 |     | <span class='neutral'>  /// @inheritdoc IL1OpUSDCFactory</span>
  21 |     | <span class='unexecuted'>  address public constant L2_MESSENGER = 0x4200000000000000000000000000000000000007;</span>
  22 |     | <span class='neutral'></span>
  23 |     | <span class='neutral'>  /// @inheritdoc IL1OpUSDCFactory</span>
  24 |     | <span class='unexecuted'>  address public constant L2_CREATE2_DEPLOYER = 0x13b0D85CcB8bf860b6b79AF3029fCA081AE9beF2;</span>
  25 |     | <span class='neutral'></span>
  26 |     | <span class='neutral'>  /// @inheritdoc IL1OpUSDCFactory</span>
  27 |     | <span class='unexecuted'>  string public constant USDC_NAME = &#39;Bridged USDC&#39;;</span>
  28 |     | <span class='neutral'></span>
  29 |     | <span class='neutral'>  /// @inheritdoc IL1OpUSDCFactory</span>
  30 |     | <span class='unexecuted'>  string public constant USDC_SYMBOL = &#39;USDC.e&#39;;</span>
  31 |     | <span class='neutral'></span>
  32 |     | <span class='neutral'>  /// @notice The selector of the `initialize()` function.</span>
  33 |     | <span class='neutral'>  /// @dev Used to check the first init tx doesn&#39;t match it since it is already defined in the L2 factory contract</span>
  34 |     | <span class='neutral'>  bytes4 internal constant _INITIALIZE_SELECTOR = 0x07fbc6b5;</span>
  35 |     | <span class='neutral'></span>
  36 |     | <span class='neutral'>  /// @notice The L2 Adapter is the third contract to be deployed on the L2 factory so its nonce is 3</span>
  37 |     | <span class='unexecuted'>  uint256 internal constant _L2_ADAPTER_DEPLOYMENT_NONCE = 3;</span>
  38 |     | <span class='neutral'></span>
  39 |     | <span class='neutral'>  /// @inheritdoc IL1OpUSDCFactory</span>
  40 |     | <span class='unexecuted'>  IUSDC public immutable USDC;</span>
  41 |     | <span class='neutral'></span>
  42 |     | <span class='neutral'>  /// @inheritdoc IL1OpUSDCFactory</span>
  43 |     | <span class='unexecuted'>  uint256 public deploymentsSaltCounter;</span>
  44 |     | <span class='neutral'></span>
  45 |     | <span class='neutral'>  /**</span>
  46 |     | <span class='neutral'>   * @notice Constructs the L1 factory contract</span>
  47 |     | <span class='neutral'>   * @param _usdc The address of the USDC contract</span>
  48 |     | <span class='neutral'>   */</span>
  49 |     | <span class='unexecuted'>  constructor(address _usdc) {</span>
  50 |     | <span class='unexecuted'>    USDC = IUSDC(_usdc);</span>
  51 |     | <span class='neutral'>  }</span>
  52 |     | <span class='neutral'></span>
  53 |     | <span class='neutral'>  /**</span>
  54 |     | <span class='neutral'>   * @notice Deploys the L1 Adapter, and sends the deployment txs for the L2 factory, L2 adapter and the L2 USDC through</span>
  55 |     | <span class='neutral'>   * the L1 messenger</span>
  56 |     | <span class='neutral'>   * @param _l1Messenger The address of the L1 messenger for the L2 Op chain</span>
  57 |     | <span class='neutral'>   * @param _l1AdapterOwner The address of the owner of the L1 adapter</span>
  58 |     | <span class='neutral'>   * @param _l2Deployments The deployments data for the L2 adapter, and the L2 USDC contracts</span>
  59 |     | <span class='neutral'>   * @return _l1Adapter The address of the L1 adapter</span>
  60 |     | <span class='neutral'>   * @return _l2Factory The address of the L2 factory</span>
  61 |     | <span class='neutral'>   * @return _l2Adapter The address of the L2 adapter</span>
  62 |     | <span class='neutral'>   * @dev It can fail on L2 due to a gas miscalculation, but in that case the tx can be replayed. It only deploys 1 L2</span>
  63 |     | <span class='neutral'>   * factory per L2 deployments, to make sure the nonce is being tracked correctly while precalculating addresses</span>
  64 |     | <span class='neutral'>   * @dev There is one message for the L2 factory deployment and another for the L2 adapter deployment because if the L2</span>
  65 |     | <span class='neutral'>   * factory is already deployed, that message will fail but the other will be executed</span>
  66 |     | <span class='neutral'>   */</span>
  67 |     | <span class='unexecuted'>  function deploy(</span>
  68 |     | <span class='neutral'>    address _l1Messenger,</span>
  69 |     | <span class='neutral'>    address _l1AdapterOwner,</span>
  70 |     | <span class='neutral'>    L2Deployments calldata _l2Deployments</span>
  71 |     | <span class='unexecuted'>  ) external returns (address _l1Adapter, address _l2Factory, address _l2Adapter) {</span>
  72 |     | <span class='neutral'>    // Checks that the first init tx selector is not equal to the `initialize()` function since  we manually</span>
  73 |     | <span class='neutral'>    // construct this function on the L2 factory contract</span>
  74 |     | <span class='unexecuted'>    if (bytes4(_l2Deployments.usdcInitTxs[0]) == _INITIALIZE_SELECTOR) revert IL1OpUSDCFactory_NoInitializeTx();</span>
  75 |     | <span class='neutral'></span>
  76 |     | <span class='neutral'>    // Update the salt counter so the L2 factory is deployed with a different salt to a different address and get it</span>
  77 |     | <span class='unexecuted'>    uint256 _currentNonce = ++deploymentsSaltCounter;</span>
  78 |     | <span class='neutral'></span>
  79 |     | <span class='neutral'>    // Precalculate the l1 adapter</span>
  80 |     | <span class='unexecuted'>    _l1Adapter = CrossChainDeployments.precalculateCreateAddress(address(this), _currentNonce);</span>
  81 |     | <span class='neutral'></span>
  82 |     | <span class='neutral'>    // Get the L1 USDC naming and decimals to ensure they are the same on the L2, guaranteeing the same standard</span>
  83 |     | <span class='unexecuted'>    IL2OpUSDCFactory.USDCInitializeData memory _usdcInitializeData =</span>
  84 |     | <span class='unexecuted'>      IL2OpUSDCFactory.USDCInitializeData(USDC_NAME, USDC_SYMBOL, USDC.currency(), USDC.decimals());</span>
  85 |     | <span class='neutral'></span>
  86 |     | <span class='neutral'>    // Use the nonce as salt to ensure always a different salt since the nonce is always increasing</span>
  87 |     | <span class='unexecuted'>    bytes32 _salt = bytes32(_currentNonce);</span>
  88 |     | <span class='neutral'>    // Get the L2 factory init code and precalculate its address</span>
  89 |     | <span class='unexecuted'>    bytes memory _l2FactoryCArgs = abi.encode(</span>
  90 |     | <span class='unexecuted'>      _l1Adapter,</span>
  91 |     | <span class='unexecuted'>      _l2Deployments.l2AdapterOwner,</span>
  92 |     | <span class='unexecuted'>      _l2Deployments.usdcImplementationInitCode,</span>
  93 |     | <span class='unexecuted'>      _usdcInitializeData,</span>
  94 |     | <span class='unexecuted'>      _l2Deployments.usdcInitTxs</span>
  95 |     | <span class='neutral'>    );</span>
  96 |     | <span class='neutral'></span>
  97 |     | <span class='neutral'>    // Send the L2 factory deployment tx</span>
  98 |     | <span class='unexecuted'>    _l2Factory = CrossChainDeployments.deployL2Factory(</span>
  99 |     | <span class='unexecuted'>      _l2FactoryCArgs, _salt, _l1Messenger, L2_CREATE2_DEPLOYER, _l2Deployments.minGasLimitDeploy</span>
 100 |     | <span class='neutral'>    );</span>
 101 |     | <span class='neutral'></span>
 102 |     | <span class='neutral'>    // Precalculate the L2 adapter address</span>
 103 |     | <span class='unexecuted'>    _l2Adapter = CrossChainDeployments.precalculateCreateAddress(_l2Factory, _L2_ADAPTER_DEPLOYMENT_NONCE);</span>
 104 |     | <span class='neutral'>    // Deploy the L1 adapter</span>
 105 |     | <span class='unexecuted'>    address(new L1OpUSDCBridgeAdapter(address(USDC), _l1Messenger, _l2Adapter, _l1AdapterOwner));</span>
 106 |     | <span class='neutral'></span>
 107 |     | <span class='unexecuted'>    emit L1AdapterDeployed(_l1Adapter);</span>
 108 |     | <span class='neutral'>  }</span>
 109 |     | <span class='neutral'>}</span>
 110 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/src/contracts/L2OpUSDCBridgeAdapter.sol</b>
<code>
   1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
   2 |     | <span class='neutral'>pragma solidity 0.8.25;</span>
   3 |     | <span class='neutral'></span>
   4 |     | <span class='neutral'>import {SafeERC20} from &#39;@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol&#39;;</span>
   5 |     | <span class='neutral'>import {OpUSDCBridgeAdapter} from &#39;contracts/universal/OpUSDCBridgeAdapter.sol&#39;;</span>
   6 |     | <span class='neutral'>import {FallbackProxyAdmin} from &#39;contracts/utils/FallbackProxyAdmin.sol&#39;;</span>
   7 |     | <span class='neutral'>import {IL2OpUSDCBridgeAdapter} from &#39;interfaces/IL2OpUSDCBridgeAdapter.sol&#39;;</span>
   8 |     | <span class='neutral'>import {ICrossDomainMessenger} from &#39;interfaces/external/ICrossDomainMessenger.sol&#39;;</span>
   9 |     | <span class='neutral'>import {IUSDC} from &#39;interfaces/external/IUSDC.sol&#39;;</span>
  10 |     | <span class='neutral'></span>
  11 |     | <span class='neutral'>/**</span>
  12 |     | <span class='neutral'> * @title L2OpUSDCBridgeAdapter</span>
  13 |     | <span class='neutral'> * @notice L2OpUSDCBridgeAdapter is a contract that bridges Bridged USDC from L2 to L1 and and receives the it from L1.</span>
  14 |     | <span class='neutral'> * It finalizes the migration process of bridged USDC to native USDC on L2 after being triggered by the L1 adapter, and</span>
  15 |     | <span class='neutral'> * sends the amount to be burned back to the L1 adapter to finish the migration process.</span>
  16 |     | <span class='neutral'> * @dev The owner of this contract is capable of calling any USDC function, except the ownership or admin ones.</span>
  17 |     | <span class='neutral'> */</span>
  18 |     | <span class='unexecuted'>contract L2OpUSDCBridgeAdapter is IL2OpUSDCBridgeAdapter, OpUSDCBridgeAdapter {</span>
  19 |     | <span class='neutral'>  using SafeERC20 for IUSDC;</span>
  20 |     | <span class='neutral'></span>
  21 |     | <span class='neutral'>  ///@notice `transferOwnership(address)` USDC function selector</span>
  22 |     | <span class='neutral'>  bytes4 internal constant _TRANSFER_OWNERSHIP_SELECTOR = 0xf2fde38b;</span>
  23 |     | <span class='neutral'>  ///@notice `changeAdmin(address)` USDC function selector</span>
  24 |     | <span class='neutral'>  bytes4 internal constant _CHANGE_ADMIN_SELECTOR = 0x8f283970;</span>
  25 |     | <span class='neutral'>  ///@notice `upgradeTo(address)` USDC function selector</span>
  26 |     | <span class='neutral'>  bytes4 internal constant _UPGRADE_TO_SELECTOR = 0x3659cfe6;</span>
  27 |     | <span class='neutral'>  ///@notice `upgradeToAndCall(address,bytes)` USDC function selector</span>
  28 |     | <span class='neutral'>  bytes4 internal constant _UPGRADE_TO_AND_CALL_SELECTOR = 0x4f1ef286;</span>
  29 |     | <span class='neutral'></span>
  30 |     | <span class='neutral'>  /// @inheritdoc IL2OpUSDCBridgeAdapter</span>
  31 |     | <span class='unexecuted'>  FallbackProxyAdmin public immutable FALLBACK_PROXY_ADMIN;</span>
  32 |     | <span class='neutral'></span>
  33 |     | <span class='neutral'>  /// @inheritdoc IL2OpUSDCBridgeAdapter</span>
  34 |     | <span class='unexecuted'>  bool public isMessagingDisabled;</span>
  35 |     | <span class='neutral'></span>
  36 |     | <span class='neutral'>  /**</span>
  37 |     | <span class='neutral'>   * @notice Modifier to check if the sender is the linked adapter through the messenger</span>
  38 |     | <span class='neutral'>   */</span>
  39 |     | <span class='neutral'>  modifier checkSender() {</span>
  40 |     | <span class='unexecuted'>    if (msg.sender != MESSENGER || ICrossDomainMessenger(MESSENGER).xDomainMessageSender() != LINKED_ADAPTER) {</span>
  41 |     | <span class='unexecuted'>      revert IOpUSDCBridgeAdapter_InvalidSender();</span>
  42 |     | <span class='neutral'>    }</span>
  43 |     | <span class='neutral'>    _;</span>
  44 |     | <span class='neutral'>  }</span>
  45 |     | <span class='neutral'></span>
  46 |     | <span class='neutral'>  /**</span>
  47 |     | <span class='neutral'>   * @notice Construct the OpUSDCBridgeAdapter contract</span>
  48 |     | <span class='neutral'>   * @param _usdc The address of the USDC Contract to be used by the adapter</span>
  49 |     | <span class='neutral'>   * @param _messenger The address of the messenger contract</span>
  50 |     | <span class='neutral'>   * @param _linkedAdapter The address of the linked adapter</span>
  51 |     | <span class='neutral'>   * @dev The constructor is only used to initialize the OpUSDCBridgeAdapter immutable variables</span>
  52 |     | <span class='neutral'>   */</span>
  53 |     | <span class='neutral'>  /* solhint-disable no-unused-vars */</span>
  54 |     | <span class='unexecuted'>  constructor(</span>
  55 |     | <span class='neutral'>    address _usdc,</span>
  56 |     | <span class='neutral'>    address _messenger,</span>
  57 |     | <span class='neutral'>    address _linkedAdapter,</span>
  58 |     | <span class='neutral'>    address _owner</span>
  59 |     | <span class='unexecuted'>  ) OpUSDCBridgeAdapter(_usdc, _messenger, _linkedAdapter, _owner) {</span>
  60 |     | <span class='unexecuted'>    FALLBACK_PROXY_ADMIN = new FallbackProxyAdmin(_usdc);</span>
  61 |     | <span class='neutral'>  }</span>
  62 |     | <span class='neutral'>  /* solhint-enable no-unused-vars */</span>
  63 |     | <span class='neutral'></span>
  64 |     | <span class='neutral'>  /*///////////////////////////////////////////////////////////////</span>
  65 |     | <span class='neutral'>                              MIGRATION</span>
  66 |     | <span class='neutral'>  ///////////////////////////////////////////////////////////////*/</span>
  67 |     | <span class='neutral'></span>
  68 |     | <span class='neutral'>  /**</span>
  69 |     | <span class='neutral'>   * @notice Initiates the process to migrate the bridged USDC to native USDC</span>
  70 |     | <span class='neutral'>   * @dev Full migration cant finish until L1 receives the message for setting the burn amount</span>
  71 |     | <span class='neutral'>   * @param _newOwner The address to transfer ownerships to</span>
  72 |     | <span class='neutral'>   * @param _setBurnAmountMinGasLimit Minimum gas limit that the setBurnAmount message can be executed on L1</span>
  73 |     | <span class='neutral'>   */</span>
  74 |     | <span class='unexecuted'>  function receiveMigrateToNative(address _newOwner, uint32 _setBurnAmountMinGasLimit) external checkSender {</span>
  75 |     | <span class='unexecuted'>    isMessagingDisabled = true;</span>
  76 |     | <span class='neutral'>    // Transfer ownership of the USDC contract to circle</span>
  77 |     | <span class='unexecuted'>    IUSDC(USDC).transferOwnership(_newOwner);</span>
  78 |     | <span class='neutral'></span>
  79 |     | <span class='neutral'>    //Transfer proxy admin ownership to circle</span>
  80 |     | <span class='unexecuted'>    FALLBACK_PROXY_ADMIN.changeAdmin(_newOwner);</span>
  81 |     | <span class='neutral'></span>
  82 |     | <span class='unexecuted'>    uint256 _burnAmount = IUSDC(USDC).totalSupply();</span>
  83 |     | <span class='neutral'></span>
  84 |     | <span class='unexecuted'>    ICrossDomainMessenger(MESSENGER).sendMessage(</span>
  85 |     | <span class='unexecuted'>      LINKED_ADAPTER, abi.encodeWithSignature(&#39;setBurnAmount(uint256)&#39;, _burnAmount), _setBurnAmountMinGasLimit</span>
  86 |     | <span class='neutral'>    );</span>
  87 |     | <span class='neutral'></span>
  88 |     | <span class='unexecuted'>    emit MigratingToNative(MESSENGER, _newOwner);</span>
  89 |     | <span class='neutral'>  }</span>
  90 |     | <span class='neutral'></span>
  91 |     | <span class='neutral'>  /*///////////////////////////////////////////////////////////////</span>
  92 |     | <span class='neutral'>                          MESSAGING CONTROL</span>
  93 |     | <span class='neutral'>  ///////////////////////////////////////////////////////////////*/</span>
  94 |     | <span class='neutral'></span>
  95 |     | <span class='neutral'>  /**</span>
  96 |     | <span class='neutral'>   * @notice Receive the stop messaging message from the linked adapter and stop outgoing messages</span>
  97 |     | <span class='neutral'>   */</span>
  98 |     | <span class='unexecuted'>  function receiveStopMessaging() external checkSender {</span>
  99 |     | <span class='unexecuted'>    isMessagingDisabled = true;</span>
 100 |     | <span class='neutral'></span>
 101 |     | <span class='unexecuted'>    emit MessagingStopped(MESSENGER);</span>
 102 |     | <span class='neutral'>  }</span>
 103 |     | <span class='neutral'></span>
 104 |     | <span class='neutral'>  /**</span>
 105 |     | <span class='neutral'>   * @notice Resume messaging after it was stopped</span>
 106 |     | <span class='neutral'>   */</span>
 107 |     | <span class='unexecuted'>  function receiveResumeMessaging() external checkSender {</span>
 108 |     | <span class='neutral'>    // NOTE: This is safe because this message can only be received when messaging is not deprecated on the L1 messenger</span>
 109 |     | <span class='unexecuted'>    isMessagingDisabled = false;</span>
 110 |     | <span class='neutral'></span>
 111 |     | <span class='unexecuted'>    emit MessagingResumed(MESSENGER);</span>
 112 |     | <span class='neutral'>  }</span>
 113 |     | <span class='neutral'></span>
 114 |     | <span class='neutral'>  /*///////////////////////////////////////////////////////////////</span>
 115 |     | <span class='neutral'>                             MESSAGING</span>
 116 |     | <span class='neutral'>  ///////////////////////////////////////////////////////////////*/</span>
 117 |     | <span class='neutral'></span>
 118 |     | <span class='neutral'>  /**</span>
 119 |     | <span class='neutral'>   * @notice Send tokens to other chain through the linked adapter</span>
 120 |     | <span class='neutral'>   * @param _to The target address on the destination chain</span>
 121 |     | <span class='neutral'>   * @param _amount The amount of tokens to send</span>
 122 |     | <span class='neutral'>   * @param _minGasLimit Minimum gas limit that the message can be executed with</span>
 123 |     | <span class='neutral'>   */</span>
 124 |     | <span class='unexecuted'>  function sendMessage(address _to, uint256 _amount, uint32 _minGasLimit) external override {</span>
 125 |     | <span class='neutral'>    // Ensure messaging is enabled</span>
 126 |     | <span class='unexecuted'>    if (isMessagingDisabled) revert IOpUSDCBridgeAdapter_MessagingDisabled();</span>
 127 |     | <span class='neutral'></span>
 128 |     | <span class='unexecuted'>    IUSDC(USDC).safeTransferFrom(msg.sender, address(this), _amount);</span>
 129 |     | <span class='neutral'></span>
 130 |     | <span class='neutral'>    // Burn the tokens</span>
 131 |     | <span class='unexecuted'>    IUSDC(USDC).burn(_amount);</span>
 132 |     | <span class='neutral'></span>
 133 |     | <span class='neutral'>    // Send the message to the linked adapter</span>
 134 |     | <span class='unexecuted'>    ICrossDomainMessenger(MESSENGER).sendMessage(</span>
 135 |     | <span class='unexecuted'>      LINKED_ADAPTER, abi.encodeWithSignature(&#39;receiveMessage(address,uint256)&#39;, _to, _amount), _minGasLimit</span>
 136 |     | <span class='neutral'>    );</span>
 137 |     | <span class='neutral'></span>
 138 |     | <span class='unexecuted'>    emit MessageSent(msg.sender, _to, _amount, MESSENGER, _minGasLimit);</span>
 139 |     | <span class='neutral'>  }</span>
 140 |     | <span class='neutral'></span>
 141 |     | <span class='neutral'>  /**</span>
 142 |     | <span class='neutral'>   * @notice Send tokens to other chain through the linked adapter</span>
 143 |     | <span class='neutral'>   * @param _signer The address of the user sending the message</span>
 144 |     | <span class='neutral'>   * @param _to The target address on the destination chain</span>
 145 |     | <span class='neutral'>   * @param _amount The amount of tokens to send</span>
 146 |     | <span class='neutral'>   * @param _signature The signature of the user</span>
 147 |     | <span class='neutral'>   * @param _deadline The deadline for the message to be executed</span>
 148 |     | <span class='neutral'>   * @param _minGasLimit Minimum gas limit that the message can be executed with</span>
 149 |     | <span class='neutral'>   */</span>
 150 |     | <span class='unexecuted'>  function sendMessage(</span>
 151 |     | <span class='neutral'>    address _signer,</span>
 152 |     | <span class='neutral'>    address _to,</span>
 153 |     | <span class='neutral'>    uint256 _amount,</span>
 154 |     | <span class='neutral'>    bytes calldata _signature,</span>
 155 |     | <span class='neutral'>    uint256 _deadline,</span>
 156 |     | <span class='neutral'>    uint32 _minGasLimit</span>
 157 |     | <span class='unexecuted'>  ) external override {</span>
 158 |     | <span class='neutral'>    // Ensure messaging is enabled</span>
 159 |     | <span class='unexecuted'>    if (isMessagingDisabled) revert IOpUSDCBridgeAdapter_MessagingDisabled();</span>
 160 |     | <span class='neutral'></span>
 161 |     | <span class='neutral'>    // Ensure the deadline has not passed</span>
 162 |     | <span class='unexecuted'>    if (block.timestamp &gt; _deadline) revert IOpUSDCBridgeAdapter_MessageExpired();</span>
 163 |     | <span class='neutral'></span>
 164 |     | <span class='neutral'>    // Hash the message</span>
 165 |     | <span class='unexecuted'>    bytes32 _messageHash = keccak256(abi.encode(address(this), block.chainid, _to, _amount, userNonce[_signer]++));</span>
 166 |     | <span class='neutral'></span>
 167 |     | <span class='unexecuted'>    _checkSignature(_signer, _messageHash, _signature);</span>
 168 |     | <span class='neutral'></span>
 169 |     | <span class='unexecuted'>    IUSDC(USDC).safeTransferFrom(_signer, address(this), _amount);</span>
 170 |     | <span class='neutral'></span>
 171 |     | <span class='neutral'>    // Burn the tokens</span>
 172 |     | <span class='unexecuted'>    IUSDC(USDC).burn(_amount);</span>
 173 |     | <span class='neutral'></span>
 174 |     | <span class='neutral'>    // Send the message to the linked adapter</span>
 175 |     | <span class='unexecuted'>    ICrossDomainMessenger(MESSENGER).sendMessage(</span>
 176 |     | <span class='unexecuted'>      LINKED_ADAPTER, abi.encodeWithSignature(&#39;receiveMessage(address,uint256)&#39;, _to, _amount), _minGasLimit</span>
 177 |     | <span class='neutral'>    );</span>
 178 |     | <span class='neutral'></span>
 179 |     | <span class='unexecuted'>    emit MessageSent(_signer, _to, _amount, MESSENGER, _minGasLimit);</span>
 180 |     | <span class='neutral'>  }</span>
 181 |     | <span class='neutral'></span>
 182 |     | <span class='neutral'>  /**</span>
 183 |     | <span class='neutral'>   * @notice Receive the message from the other chain and mint the bridged representation for the user</span>
 184 |     | <span class='neutral'>   * @dev This function should only be called when receiving a message to mint the bridged representation</span>
 185 |     | <span class='neutral'>   * @param _user The user to mint the bridged representation for</span>
 186 |     | <span class='neutral'>   * @param _amount The amount of tokens to mint</span>
 187 |     | <span class='neutral'>   */</span>
 188 |     | <span class='unexecuted'>  function receiveMessage(address _user, uint256 _amount) external override checkSender {</span>
 189 |     | <span class='neutral'>    // Mint the tokens to the user</span>
 190 |     | <span class='unexecuted'>    IUSDC(USDC).mint(_user, _amount);</span>
 191 |     | <span class='unexecuted'>    emit MessageReceived(_user, _amount, MESSENGER);</span>
 192 |     | <span class='neutral'>  }</span>
 193 |     | <span class='neutral'></span>
 194 |     | <span class='neutral'>  /*///////////////////////////////////////////////////////////////</span>
 195 |     | <span class='neutral'>                        BRIDGED USDC FUNCTIONS</span>
 196 |     | <span class='neutral'>  ///////////////////////////////////////////////////////////////*/</span>
 197 |     | <span class='neutral'></span>
 198 |     | <span class='neutral'>  /**</span>
 199 |     | <span class='neutral'>   * @notice Call with abitrary calldata on USDC contract.</span>
 200 |     | <span class='neutral'>   * @dev can&#39;t execute the following list of transactions:</span>
 201 |     | <span class='neutral'>   *   transferOwnership (0xf2fde38b)</span>
 202 |     | <span class='neutral'>   *   changeAdmin (0x8f283970)</span>
 203 |     | <span class='neutral'>   * @dev UpgradeTo and UpgradeToAndCall go through the fallback admin</span>
 204 |     | <span class='neutral'>   * @param _data The calldata to execute on the USDC contract</span>
 205 |     | <span class='neutral'>   */</span>
 206 |     | <span class='unexecuted'>  function callUsdcTransaction(bytes calldata _data) external onlyOwner {</span>
 207 |     | <span class='unexecuted'>    bytes4 _selector = bytes4(_data);</span>
 208 |     | <span class='unexecuted'>    bool _success;</span>
 209 |     | <span class='neutral'></span>
 210 |     | <span class='unexecuted'>    if (_selector == _TRANSFER_OWNERSHIP_SELECTOR || _selector == _CHANGE_ADMIN_SELECTOR) {</span>
 211 |     | <span class='unexecuted'>      revert IOpUSDCBridgeAdapter_ForbiddenTransaction();</span>
 212 |     | <span class='unexecuted'>    } else if (_selector == _UPGRADE_TO_SELECTOR || _selector == _UPGRADE_TO_AND_CALL_SELECTOR) {</span>
 213 |     | <span class='unexecuted'>      (_success,) = address(FALLBACK_PROXY_ADMIN).call(_data);</span>
 214 |     | <span class='neutral'>    } else {</span>
 215 |     | <span class='unexecuted'>      (_success,) = USDC.call(_data);</span>
 216 |     | <span class='neutral'>    }</span>
 217 |     | <span class='neutral'></span>
 218 |     | <span class='unexecuted'>    if (!_success) {</span>
 219 |     | <span class='unexecuted'>      revert IOpUSDCBridgeAdapter_InvalidTransaction();</span>
 220 |     | <span class='neutral'>    }</span>
 221 |     | <span class='neutral'></span>
 222 |     | <span class='unexecuted'>    emit UsdcFunctionSent(_selector);</span>
 223 |     | <span class='neutral'>  }</span>
 224 |     | <span class='neutral'>}</span>
 225 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/src/contracts/L2OpUSDCFactory.sol</b>
<code>
   1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
   2 |     | <span class='neutral'>pragma solidity 0.8.25;</span>
   3 |     | <span class='neutral'></span>
   4 |     | <span class='neutral'>import {L2OpUSDCBridgeAdapter} from &#39;contracts/L2OpUSDCBridgeAdapter.sol&#39;;</span>
   5 |     | <span class='neutral'>import {USDC_PROXY_CREATION_CODE} from &#39;contracts/utils/USDCProxyCreationCode.sol&#39;;</span>
   6 |     | <span class='neutral'>import {IL2OpUSDCFactory} from &#39;interfaces/IL2OpUSDCFactory.sol&#39;;</span>
   7 |     | <span class='neutral'>import {IUSDC} from &#39;interfaces/external/IUSDC.sol&#39;;</span>
   8 |     | <span class='neutral'></span>
   9 |     | <span class='neutral'>/**</span>
  10 |     | <span class='neutral'> * @title L2OpUSDCFactory</span>
  11 |     | <span class='neutral'> * @notice Factory contract for deploying the L2 USDC implementation, proxy, and `L2OpUSDCBridgeAdapter` contract,</span>
  12 |     | <span class='neutral'> * all at once on the `deploy` function.</span>
  13 |     | <span class='neutral'> * @dev The salt is always different for each deployed instance of this contract on the L1 Factory, and the L2 contracts</span>
  14 |     | <span class='neutral'> * are deployed with `CREATE` to guarantee that the addresses are unique among all the L2s, so we avoid a scenario where</span>
  15 |     | <span class='neutral'> * L2 contracts have the same address on different L2s when triggered by different owners.</span>
  16 |     | <span class='neutral'> */</span>
  17 |     | <span class='unexecuted'>contract L2OpUSDCFactory is IL2OpUSDCFactory {</span>
  18 |     | <span class='neutral'>  /**</span>
  19 |     | <span class='neutral'>   * @notice Deploys the USDC implementation, proxy, and L2 adapter contracts all at once, and then initializes the USDC</span>
  20 |     | <span class='neutral'>   * @param _l1Adapter The address of the L1 adapter contract</span>
  21 |     | <span class='neutral'>   * @param _l2AdapterOwner The address of the L2 adapter owner</span>
  22 |     | <span class='neutral'>   * @param _usdcImplementationInitCode The creation code with the constructor arguments for the USDC implementation</span>
  23 |     | <span class='neutral'>   * @param _usdcInitializeData The USDC name, symbol, currency, and decimals used on the first `initialize()` call</span>
  24 |     | <span class='neutral'>   * @param _usdcInitTxs The initialization transactions for the USDC proxy and implementation contracts</span>
  25 |     | <span class='neutral'>   * @dev The USDC proxy owner needs to be set on the first init tx, and will be set to the L2 adapter address</span>
  26 |     | <span class='neutral'>   * @dev Using `CREATE` to guarantee that the addresses are unique among all the L2s</span>
  27 |     | <span class='neutral'>   */</span>
  28 |     | <span class='unexecuted'>  constructor(</span>
  29 |     | <span class='neutral'>    address _l1Adapter,</span>
  30 |     | <span class='neutral'>    address _l2AdapterOwner,</span>
  31 |     | <span class='neutral'>    bytes memory _usdcImplementationInitCode,</span>
  32 |     | <span class='neutral'>    USDCInitializeData memory _usdcInitializeData,</span>
  33 |     | <span class='neutral'>    bytes[] memory _usdcInitTxs</span>
  34 |     | <span class='unexecuted'>  ) {</span>
  35 |     | <span class='neutral'>    // Deploy USDC implementation</span>
  36 |     | <span class='unexecuted'>    (address _usdcImplementation) = _deployCreate(_usdcImplementationInitCode);</span>
  37 |     | <span class='unexecuted'>    emit USDCImplementationDeployed(_usdcImplementation);</span>
  38 |     | <span class='neutral'></span>
  39 |     | <span class='neutral'>    // Deploy USDC proxy</span>
  40 |     | <span class='unexecuted'>    bytes memory _usdcProxyCArgs = abi.encode(_usdcImplementation);</span>
  41 |     | <span class='unexecuted'>    bytes memory _usdcProxyInitCode = bytes.concat(USDC_PROXY_CREATION_CODE, _usdcProxyCArgs);</span>
  42 |     | <span class='unexecuted'>    (address _usdcProxy) = _deployCreate(_usdcProxyInitCode);</span>
  43 |     | <span class='unexecuted'>    emit USDCProxyDeployed(_usdcProxy);</span>
  44 |     | <span class='neutral'></span>
  45 |     | <span class='neutral'>    // Deploy L2 Adapter</span>
  46 |     | <span class='unexecuted'>    address _l2Messenger = 0x4200000000000000000000000000000000000007;</span>
  47 |     | <span class='unexecuted'>    bytes memory _l2AdapterCArgs = abi.encode(_usdcProxy, _l2Messenger, _l1Adapter, _l2AdapterOwner);</span>
  48 |     | <span class='unexecuted'>    bytes memory _l2AdapterInitCode = bytes.concat(type(L2OpUSDCBridgeAdapter).creationCode, _l2AdapterCArgs);</span>
  49 |     | <span class='unexecuted'>    (address _l2Adapter) = _deployCreate(_l2AdapterInitCode);</span>
  50 |     | <span class='unexecuted'>    emit L2AdapterDeployed(_l2Adapter);</span>
  51 |     | <span class='neutral'></span>
  52 |     | <span class='neutral'>    // Deploy the FallbackProxyAdmin internally in the L2 Adapter to keep it unique</span>
  53 |     | <span class='unexecuted'>    address _fallbackProxyAdmin = address(L2OpUSDCBridgeAdapter(_l2Adapter).FALLBACK_PROXY_ADMIN());</span>
  54 |     | <span class='neutral'>    // Change the USDC admin so the init txs can be executed over the proxy from this contract</span>
  55 |     | <span class='unexecuted'>    IUSDC(_usdcProxy).changeAdmin(_fallbackProxyAdmin);</span>
  56 |     | <span class='neutral'></span>
  57 |     | <span class='neutral'>    // Execute the USDC initialization transactions over the USDC contracts</span>
  58 |     | <span class='unexecuted'>    _executeInitTxs(_usdcImplementation, _usdcInitializeData, _l2Adapter, _usdcInitTxs);</span>
  59 |     | <span class='unexecuted'>    _executeInitTxs(_usdcProxy, _usdcInitializeData, _l2Adapter, _usdcInitTxs);</span>
  60 |     | <span class='neutral'>  }</span>
  61 |     | <span class='neutral'></span>
  62 |     | <span class='neutral'>  /**</span>
  63 |     | <span class='neutral'>   * @notice Executes the initialization transactions for a target contract</span>
  64 |     | <span class='neutral'>   * @param _usdc The address of the contract to execute the transactions on</span>
  65 |     | <span class='neutral'>   * @param _usdcInitializeData The USDC name, symbol, currency, and decimals used on the first `initialize()` call</span>
  66 |     | <span class='neutral'>   * @param _l2Adapter The address of the L2 adapter</span>
  67 |     | <span class='neutral'>   * @param _initTxs The initialization transactions to execute</span>
  68 |     | <span class='neutral'>   * @dev The first `initialize()` call is defined here to ensure it is properly done, granting the right permissions</span>
  69 |     | <span class='neutral'>   * to the L2 adapter contract. The L2 factory is set as master minter first so it can configure the l2 adapter as</span>
  70 |     | <span class='neutral'>   * unlimited minter and then the master minter is updated again to the l2 adapter</span>
  71 |     | <span class='neutral'>   */</span>
  72 |     | <span class='unexecuted'>  function _executeInitTxs(</span>
  73 |     | <span class='neutral'>    address _usdc,</span>
  74 |     | <span class='neutral'>    USDCInitializeData memory _usdcInitializeData,</span>
  75 |     | <span class='neutral'>    address _l2Adapter,</span>
  76 |     | <span class='neutral'>    bytes[] memory _initTxs</span>
  77 |     | <span class='neutral'>  ) internal {</span>
  78 |     | <span class='neutral'>    // Initialize the USDC contract</span>
  79 |     | <span class='unexecuted'>    IUSDC(_usdc).initialize(</span>
  80 |     | <span class='unexecuted'>      _usdcInitializeData._tokenName,</span>
  81 |     | <span class='unexecuted'>      _usdcInitializeData._tokenSymbol,</span>
  82 |     | <span class='unexecuted'>      _usdcInitializeData._tokenCurrency,</span>
  83 |     | <span class='unexecuted'>      _usdcInitializeData._tokenDecimals,</span>
  84 |     | <span class='unexecuted'>      address(this),</span>
  85 |     | <span class='unexecuted'>      _l2Adapter,</span>
  86 |     | <span class='unexecuted'>      _l2Adapter,</span>
  87 |     | <span class='unexecuted'>      address(this)</span>
  88 |     | <span class='neutral'>    );</span>
  89 |     | <span class='neutral'></span>
  90 |     | <span class='neutral'>    // Add l2 adapter as unlimited minter</span>
  91 |     | <span class='unexecuted'>    IUSDC(_usdc).configureMinter(_l2Adapter, type(uint256).max);</span>
  92 |     | <span class='neutral'>    // Set l2 adapter as new master minter</span>
  93 |     | <span class='unexecuted'>    IUSDC(_usdc).updateMasterMinter(_l2Adapter);</span>
  94 |     | <span class='neutral'>    // Transfer USDC ownership to the L2 adapter</span>
  95 |     | <span class='unexecuted'>    IUSDC(_usdc).transferOwnership(_l2Adapter);</span>
  96 |     | <span class='neutral'></span>
  97 |     | <span class='neutral'>    // Execute the input init txs, use `_i+1` as revert argument since the first tx is already executed on the contract</span>
  98 |     | <span class='unexecuted'>    for (uint256 _i; _i &lt; _initTxs.length; _i++) {</span>
  99 |     | <span class='unexecuted'>      (bool _success,) = _usdc.call(_initTxs[_i]);</span>
 100 |     | <span class='unexecuted'>      if (!_success) {</span>
 101 |     | <span class='unexecuted'>        revert IL2OpUSDCFactory_InitializationFailed(_i + 1);</span>
 102 |     | <span class='neutral'>      }</span>
 103 |     | <span class='neutral'>    }</span>
 104 |     | <span class='neutral'>  }</span>
 105 |     | <span class='neutral'></span>
 106 |     | <span class='neutral'>  /**</span>
 107 |     | <span class='neutral'>   * @notice Deploys a new contract via calling the `CREATE` opcode</span>
 108 |     | <span class='neutral'>   * @param _initCode The creation bytecode.</span>
 109 |     | <span class='neutral'>   * @return _newContract The 20-byte address where the contract was deployed.</span>
 110 |     | <span class='neutral'>   */</span>
 111 |     | <span class='unexecuted'>  function _deployCreate(bytes memory _initCode) internal returns (address _newContract) {</span>
 112 |     | <span class='neutral'>    assembly (&quot;memory-safe&quot;) {</span>
 113 |     | <span class='unexecuted'>      _newContract := create(0x0, add(_initCode, 0x20), mload(_initCode))</span>
 114 |     | <span class='neutral'>    }</span>
 115 |     | <span class='unexecuted'>    if (_newContract == address(0) || _newContract.code.length == 0) {</span>
 116 |     | <span class='unexecuted'>      revert IL2OpUSDCFactory_DeploymentFailed();</span>
 117 |     | <span class='neutral'>    }</span>
 118 |     | <span class='neutral'>  }</span>
 119 |     | <span class='neutral'>}</span>
 120 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/src/contracts/universal/OpUSDCBridgeAdapter.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>pragma solidity 0.8.25;</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>import {Ownable} from &#39;@openzeppelin/contracts/access/Ownable.sol&#39;;</span>
  5 |     | <span class='neutral'>import {MessageHashUtils} from &#39;@openzeppelin/contracts/utils/cryptography/MessageHashUtils.sol&#39;;</span>
  6 |     | <span class='neutral'>import {SignatureChecker} from &#39;@openzeppelin/contracts/utils/cryptography/SignatureChecker.sol&#39;;</span>
  7 |     | <span class='neutral'>import {IOpUSDCBridgeAdapter} from &#39;interfaces/IOpUSDCBridgeAdapter.sol&#39;;</span>
  8 |     | <span class='neutral'></span>
  9 |     | <span class='neutral'>abstract contract OpUSDCBridgeAdapter is IOpUSDCBridgeAdapter, Ownable {</span>
 10 |     | <span class='neutral'>  using MessageHashUtils for bytes32;</span>
 11 |     | <span class='neutral'>  using SignatureChecker for address;</span>
 12 |     | <span class='neutral'></span>
 13 |     | <span class='neutral'>  /// @inheritdoc IOpUSDCBridgeAdapter</span>
 14 |     | <span class='unexecuted'>  address public immutable USDC;</span>
 15 |     | <span class='neutral'></span>
 16 |     | <span class='neutral'>  /// @inheritdoc IOpUSDCBridgeAdapter</span>
 17 |     | <span class='unexecuted'>  address public immutable LINKED_ADAPTER;</span>
 18 |     | <span class='neutral'></span>
 19 |     | <span class='neutral'>  /// @inheritdoc IOpUSDCBridgeAdapter</span>
 20 |     | <span class='unexecuted'>  address public immutable MESSENGER;</span>
 21 |     | <span class='neutral'></span>
 22 |     | <span class='neutral'>  /// @inheritdoc IOpUSDCBridgeAdapter</span>
 23 |     | <span class='unexecuted'>  mapping(address _user =&gt; uint256 _nonce) public userNonce;</span>
 24 |     | <span class='neutral'></span>
 25 |     | <span class='neutral'>  /**</span>
 26 |     | <span class='neutral'>   * @notice Construct the OpUSDCBridgeAdapter contract</span>
 27 |     | <span class='neutral'>   * @param _usdc The address of the USDC Contract to be used by the adapter</span>
 28 |     | <span class='neutral'>   * @param _messenger The address of the messenger contract</span>
 29 |     | <span class='neutral'>   * @param _linkedAdapter The address of the linked adapter</span>
 30 |     | <span class='neutral'>   * @param _owner The address of the owner of the contract</span>
 31 |     | <span class='neutral'>   */</span>
 32 |     | <span class='neutral'>  // solhint-disable-next-line no-unused-vars</span>
 33 |     | <span class='neutral'>  constructor(address _usdc, address _messenger, address _linkedAdapter, address _owner) Ownable(_owner) {</span>
 34 |     | <span class='unexecuted'>    USDC = _usdc;</span>
 35 |     | <span class='unexecuted'>    MESSENGER = _messenger;</span>
 36 |     | <span class='unexecuted'>    LINKED_ADAPTER = _linkedAdapter;</span>
 37 |     | <span class='neutral'>  }</span>
 38 |     | <span class='neutral'></span>
 39 |     | <span class='neutral'>  /*///////////////////////////////////////////////////////////////</span>
 40 |     | <span class='neutral'>                             MESSAGING</span>
 41 |     | <span class='neutral'>  ///////////////////////////////////////////////////////////////*/</span>
 42 |     | <span class='neutral'></span>
 43 |     | <span class='neutral'>  /**</span>
 44 |     | <span class='neutral'>   * @notice Send tokens to other chain through the linked adapter</span>
 45 |     | <span class='neutral'>   * @param _to The target address on the destination chain</span>
 46 |     | <span class='neutral'>   * @param _amount The amount of tokens to send</span>
 47 |     | <span class='neutral'>   * @param _minGasLimit Minimum gas limit that the message can be executed with</span>
 48 |     | <span class='neutral'>   */</span>
 49 |     | <span class='neutral'>  function sendMessage(address _to, uint256 _amount, uint32 _minGasLimit) external virtual;</span>
 50 |     | <span class='neutral'></span>
 51 |     | <span class='neutral'>  /**</span>
 52 |     | <span class='neutral'>   * @notice Send tokens to other chain through the linked adapter</span>
 53 |     | <span class='neutral'>   * @param _signer The address of the user sending the message</span>
 54 |     | <span class='neutral'>   * @param _to The target address on the destination chain</span>
 55 |     | <span class='neutral'>   * @param _amount The amount of tokens to send</span>
 56 |     | <span class='neutral'>   * @param _signature The signature of the user</span>
 57 |     | <span class='neutral'>   * @param _deadline The deadline for the message to be executed</span>
 58 |     | <span class='neutral'>   * @param _minGasLimit Minimum gas limit that the message can be executed with</span>
 59 |     | <span class='neutral'>   */</span>
 60 |     | <span class='neutral'>  function sendMessage(</span>
 61 |     | <span class='neutral'>    address _signer,</span>
 62 |     | <span class='neutral'>    address _to,</span>
 63 |     | <span class='neutral'>    uint256 _amount,</span>
 64 |     | <span class='neutral'>    bytes calldata _signature,</span>
 65 |     | <span class='neutral'>    uint256 _deadline,</span>
 66 |     | <span class='neutral'>    uint32 _minGasLimit</span>
 67 |     | <span class='neutral'>  ) external virtual;</span>
 68 |     | <span class='neutral'></span>
 69 |     | <span class='neutral'>  /**</span>
 70 |     | <span class='neutral'>   * @notice Receive the message from the other chain and mint the bridged representation for the user</span>
 71 |     | <span class='neutral'>   * @dev This function should only be called when receiving a message to mint the bridged representation</span>
 72 |     | <span class='neutral'>   * @param _user The user to mint the bridged representation for</span>
 73 |     | <span class='neutral'>   * @param _amount The amount of tokens to mint</span>
 74 |     | <span class='neutral'>   */</span>
 75 |     | <span class='neutral'>  function receiveMessage(address _user, uint256 _amount) external virtual;</span>
 76 |     | <span class='neutral'></span>
 77 |     | <span class='neutral'>  /**</span>
 78 |     | <span class='neutral'>   * @notice Check the signature of a message</span>
 79 |     | <span class='neutral'>   * @param _signer the address that signed the message</span>
 80 |     | <span class='neutral'>   * @param _messageHash the hash of the message that was signed</span>
 81 |     | <span class='neutral'>   * @param _signature the signature of the message</span>
 82 |     | <span class='neutral'>   */</span>
 83 |     | <span class='unexecuted'>  function _checkSignature(address _signer, bytes32 _messageHash, bytes memory _signature) internal view {</span>
 84 |     | <span class='unexecuted'>    _messageHash = _messageHash.toEthSignedMessageHash();</span>
 85 |     | <span class='neutral'></span>
 86 |     | <span class='unexecuted'>    if (!_signer.isValidSignatureNow(_messageHash, _signature)) revert IOpUSDCBridgeAdapter_InvalidSignature();</span>
 87 |     | <span class='neutral'>  }</span>
 88 |     | <span class='neutral'>}</span>
 89 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/src/contracts/utils/FallbackProxyAdmin.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>pragma solidity 0.8.25;</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>import {Ownable} from &#39;@openzeppelin/contracts/access/Ownable.sol&#39;;</span>
  5 |     | <span class='neutral'>import {IUSDC} from &#39;interfaces/external/IUSDC.sol&#39;;</span>
  6 |     | <span class='neutral'></span>
  7 |     | <span class='neutral'>/**</span>
  8 |     | <span class='neutral'> * @title FallbackProxyAdmin</span>
  9 |     | <span class='neutral'> * @notice Middleware contract for the L2 Adapter to interact with the USDC proxy.</span>
 10 |     | <span class='neutral'> * @dev The admin can&#39;t call the fallback function of the USDC proxy, meaning it can&#39;t interact with the functions</span>
 11 |     | <span class='neutral'> * such as mint and burn between others. Because of this, the FallbackProxyAdmin contract is used as a middleware,</span>
 12 |     | <span class='neutral'> * being controlled by the L2OpUSDCBridgeAdapter contract and allowing to call the admin functions through it while</span>
 13 |     | <span class='neutral'> * also being able to call the fallback function of the USDC proxy.</span>
 14 |     | <span class='neutral'> */</span>
 15 |     | <span class='unexecuted'>contract FallbackProxyAdmin is Ownable {</span>
 16 |     | <span class='neutral'>  /// @notice USDC address</span>
 17 |     | <span class='unexecuted'>  address public immutable USDC;</span>
 18 |     | <span class='neutral'></span>
 19 |     | <span class='neutral'>  /**</span>
 20 |     | <span class='neutral'>   * @notice Construct the FallbackProxyAdmin contract</span>
 21 |     | <span class='neutral'>   */</span>
 22 |     | <span class='unexecuted'>  constructor(address _usdc) Ownable(msg.sender) {</span>
 23 |     | <span class='unexecuted'>    USDC = _usdc;</span>
 24 |     | <span class='neutral'>  }</span>
 25 |     | <span class='neutral'></span>
 26 |     | <span class='neutral'>  /**</span>
 27 |     | <span class='neutral'>   * @notice Changes the admin of the USDC proxy</span>
 28 |     | <span class='neutral'>   * @param _newAdmin Address to transfer proxy administration to</span>
 29 |     | <span class='neutral'>   * @dev Owner should always be the L2 Adapter</span>
 30 |     | <span class='neutral'>   * @dev USDC admin cant interact proxy with implementation so we use this contract as the middleman</span>
 31 |     | <span class='neutral'>   */</span>
 32 |     | <span class='unexecuted'>  function changeAdmin(address _newAdmin) external onlyOwner {</span>
 33 |     | <span class='unexecuted'>    IUSDC(USDC).changeAdmin(_newAdmin);</span>
 34 |     | <span class='neutral'>  }</span>
 35 |     | <span class='neutral'></span>
 36 |     | <span class='neutral'>  /**</span>
 37 |     | <span class='neutral'>   * @notice Function to upgrade the usdc proxy to a new implementation</span>
 38 |     | <span class='neutral'>   * @param _newImplementation Address of the new implementation</span>
 39 |     | <span class='neutral'>   */</span>
 40 |     | <span class='unexecuted'>  function upgradeTo(address _newImplementation) external onlyOwner {</span>
 41 |     | <span class='unexecuted'>    IUSDC(USDC).upgradeTo(_newImplementation);</span>
 42 |     | <span class='neutral'>  }</span>
 43 |     | <span class='neutral'></span>
 44 |     | <span class='neutral'>  /**</span>
 45 |     | <span class='neutral'>   * @notice Upgrades the USDC proxy to a new implementation and calls a function on the new implementation</span>
 46 |     | <span class='neutral'>   * @param _newImplementation Address of the new implementation</span>
 47 |     | <span class='neutral'>   * @param _data Data to call on the new implementation</span>
 48 |     | <span class='neutral'>   */</span>
 49 |     | <span class='unexecuted'>  function upgradeToAndCall(address _newImplementation, bytes calldata _data) external onlyOwner {</span>
 50 |     | <span class='unexecuted'>    IUSDC(USDC).upgradeToAndCall(_newImplementation, _data);</span>
 51 |     | <span class='neutral'>  }</span>
 52 |     | <span class='neutral'>}</span>
 53 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/src/contracts/utils/USDCInitTxs.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>pragma solidity 0.8.25;</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>/**</span>
  5 |     | <span class='neutral'> * @notice Library containing the initialization transactions constants (without the first one) for the USDC</span>
  6 |     | <span class='neutral'> *  implementation contract defined by Circle.</span>
  7 |     | <span class='neutral'> */</span>
  8 | *   | <span class='executed'>library USDCInitTxs {</span>
  9 |     | <span class='neutral'>  /**</span>
 10 |     | <span class='neutral'>   * @dev The `initializeV2()` transaction data for the USDC implementation contract.</span>
 11 |     | <span class='neutral'>   */</span>
 12 | *   | <span class='executed'>  bytes public constant INITIALIZEV2 = abi.encodeWithSignature(&#39;initializeV2(string)&#39;, &#39;Bridged USDC&#39;);</span>
 13 |     | <span class='neutral'></span>
 14 |     | <span class='neutral'>  /**</span>
 15 |     | <span class='neutral'>   * @dev The `initializeV2_1()` transaction data for the USDC implementation contract.</span>
 16 |     | <span class='neutral'>   */</span>
 17 | *   | <span class='executed'>  bytes public constant INITIALIZEV2_1 = abi.encodeWithSignature(&#39;initializeV2_1(address)&#39;, address(0));</span>
 18 |     | <span class='neutral'></span>
 19 |     | <span class='neutral'>  /**</span>
 20 |     | <span class='neutral'>   * @dev The `initializeV2_2()` transaction data for the USDC implementation contract.</span>
 21 |     | <span class='neutral'>   */</span>
 22 | *   | <span class='executed'>  bytes public constant INITIALIZEV2_2 =</span>
 23 | *   | <span class='executed'>    abi.encodeWithSignature(&#39;initializeV2_2(address[],string)&#39;, new address[](0), &#39;USDC.e&#39;);</span>
 24 |     | <span class='neutral'>}</span>
 25 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/src/contracts/utils/USDCProxyCreationCode.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>pragma solidity 0.8.25;</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>// Native USDC proxy contract bytecode on mainnet:</span>
  5 |     | <span class='neutral'>// https://optimistic.etherscan.io/token/0x0b2c639c533813f4aa9d7837caf62653d097ff85#code</span>
  6 |     | <span class='neutral'>bytes constant USDC_PROXY_CREATION_CODE =</span>
  7 |     | <span class='neutral'>// solhint-disable-next-line max-line-length</span>
  8 |     | <span class='neutral'>  hex&#39;608060405234801561001057600080fd5b506040516108a93803806108a98339818101604052602081101561003357600080fd5b5051808061004081610051565b5061004a336100c3565b5050610123565b610064816100e760201b61042a1760201c565b61009f5760405162461bcd60e51b815260040180806020018281038252603b81526020018061086e603b913960400191505060405180910390fd5b7f7050c9e0f4ca769c69bd3a8ef740bc37934f8e2c036e5a723fd8ee048ed3f8c355565b7f10d6a54a4754c8869d6886b5f5d7fbfa5b4522237ea5c60d11bc4e7a1ff9390b55565b6000813f7fc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a47081811480159061011b57508115155b949350505050565b61073c806101326000396000f3fe60806040526004361061005a5760003560e01c80635c60da1b116100435780635c60da1b146101315780638f2839701461016f578063f851a440146101af5761005a565b80633659cfe6146100645780634f1ef286146100a4575b6100626101c4565b005b34801561007057600080fd5b506100626004803603602081101561008757600080fd5b503573ffffffffffffffffffffffffffffffffffffffff166101de565b610062600480360360408110156100ba57600080fd5b73ffffffffffffffffffffffffffffffffffffffff82351691908101906040810160208201356401000000008111156100f257600080fd5b82018360208201111561010457600080fd5b8035906020019184600183028401116401000000008311171561012657600080fd5b509092509050610232565b34801561013d57600080fd5b50610146610309565b6040805173ffffffffffffffffffffffffffffffffffffffff9092168252519081900360200190f35b34801561017b57600080fd5b506100626004803603602081101561019257600080fd5b503573ffffffffffffffffffffffffffffffffffffffff16610318565b3480156101bb57600080fd5b50610146610420565b6101cc610466565b6101dc6101d76104fa565b61051f565b565b6101e6610543565b73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614156102275761022281610568565b61022f565b61022f6101c4565b50565b61023a610543565b73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614156102fc5761027683610568565b60003073ffffffffffffffffffffffffffffffffffffffff16348484604051808383808284376040519201945060009350909150508083038185875af1925050503d80600081146102e3576040519150601f19603f3d011682016040523d82523d6000602084013e6102e8565b606091505b50509050806102f657600080fd5b50610304565b6103046101c4565b505050565b60006103136104fa565b905090565b610320610543565b73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614156102275773ffffffffffffffffffffffffffffffffffffffff81166103bf576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260368152602001806106966036913960400191505060405180910390fd5b7f7e644d79422f17c01e4894b5f4f588d331ebfa28653d42ae832dc59e38c9798f6103e8610543565b6040805173ffffffffffffffffffffffffffffffffffffffff928316815291841660208301528051918290030190a1610222816105bd565b6000610313610543565b6000813f7fc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a47081811480159061045e57508115155b949350505050565b61046e610543565b73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614156104f2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260328152602001806106646032913960400191505060405180910390fd5b6101dc6101dc565b7f7050c9e0f4ca769c69bd3a8ef740bc37934f8e2c036e5a723fd8ee048ed3f8c35490565b3660008037600080366000845af43d6000803e80801561053e573d6000f35b3d6000fd5b7f10d6a54a4754c8869d6886b5f5d7fbfa5b4522237ea5c60d11bc4e7a1ff9390b5490565b610571816105e1565b6040805173ffffffffffffffffffffffffffffffffffffffff8316815290517fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b9181900360200190a150565b7f10d6a54a4754c8869d6886b5f5d7fbfa5b4522237ea5c60d11bc4e7a1ff9390b55565b6105ea8161042a565b61063f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252603b8152602001806106cc603b913960400191505060405180910390fd5b7f7050c9e0f4ca769c69bd3a8ef740bc37934f8e2c036e5a723fd8ee048ed3f8c35556fe43616e6e6f742063616c6c2066616c6c6261636b2066756e6374696f6e2066726f6d207468652070726f78792061646d696e43616e6e6f74206368616e6765207468652061646d696e206f6620612070726f787920746f20746865207a65726f206164647265737343616e6e6f742073657420612070726f787920696d706c656d656e746174696f6e20746f2061206e6f6e2d636f6e74726163742061646472657373a2646970667358221220046bec85a39556fa01d3014f9bbd881bf3dfd8a920836836698508b80c55e88964736f6c634300060c003343616e6e6f742073657420612070726f787920696d706c656d656e746174696f6e20746f2061206e6f6e2d636f6e74726163742061646472657373&#39;;</span>
  9 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/src/interfaces/IL1OpUSDCBridgeAdapter.sol</b>
<code>
   1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
   2 |     | <span class='neutral'>pragma solidity 0.8.25;</span>
   3 |     | <span class='neutral'></span>
   4 |     | <span class='neutral'>interface IL1OpUSDCBridgeAdapter {</span>
   5 |     | <span class='neutral'>  /*///////////////////////////////////////////////////////////////</span>
   6 |     | <span class='neutral'>                            ENUMS</span>
   7 |     | <span class='neutral'>  ///////////////////////////////////////////////////////////////*/</span>
   8 |     | <span class='neutral'></span>
   9 |     | <span class='neutral'>  /**</span>
  10 |     | <span class='neutral'>   * @notice The status of an L1 Messenger</span>
  11 |     | <span class='neutral'>   * @param Active The messenger is active</span>
  12 |     | <span class='neutral'>   * @param Paused The messenger is paused</span>
  13 |     | <span class='neutral'>   * @param Upgrading The messenger is upgrading</span>
  14 |     | <span class='neutral'>   * @param Deprecated The messenger is deprecated</span>
  15 |     | <span class='neutral'>   */</span>
  16 |     | <span class='neutral'>  enum Status {</span>
  17 |     | <span class='neutral'>    Active,</span>
  18 |     | <span class='neutral'>    Paused,</span>
  19 |     | <span class='neutral'>    Upgrading,</span>
  20 |     | <span class='neutral'>    Deprecated</span>
  21 |     | <span class='neutral'>  }</span>
  22 |     | <span class='neutral'></span>
  23 |     | <span class='neutral'>  /*///////////////////////////////////////////////////////////////</span>
  24 |     | <span class='neutral'>                            EVENTS</span>
  25 |     | <span class='neutral'>  ///////////////////////////////////////////////////////////////*/</span>
  26 |     | <span class='neutral'></span>
  27 |     | <span class='neutral'>  /**</span>
  28 |     | <span class='neutral'>   * @notice Emitted when the burn amount is set</span>
  29 |     | <span class='neutral'>   * @param _burnAmount The amount to be burned</span>
  30 |     | <span class='neutral'>   */</span>
  31 |     | <span class='neutral'>  event BurnAmountSet(uint256 _burnAmount);</span>
  32 |     | <span class='neutral'></span>
  33 |     | <span class='neutral'>  /**</span>
  34 |     | <span class='neutral'>   * @notice Emitted when the migration process is complete</span>
  35 |     | <span class='neutral'>   */</span>
  36 |     | <span class='neutral'>  event MigrationComplete();</span>
  37 |     | <span class='neutral'></span>
  38 |     | <span class='neutral'>  /*///////////////////////////////////////////////////////////////</span>
  39 |     | <span class='neutral'>                            LOGIC</span>
  40 |     | <span class='neutral'>  ///////////////////////////////////////////////////////////////*/</span>
  41 |     | <span class='neutral'></span>
  42 |     | <span class='neutral'>  /**</span>
  43 |     | <span class='neutral'>   * @notice Initiates the process to migrate the bridged USDC to native USDC</span>
  44 |     | <span class='neutral'>   * @param _circle The address to transfer ownerships to</span>
  45 |     | <span class='neutral'>   * @param _minGasLimitReceiveOnL2 Minimum gas limit that the message can be executed with on L2</span>
  46 |     | <span class='neutral'>   * @param _minGasLimitSetBurnAmount Minimum gas limit that the message can be executed with to set the burn amount</span>
  47 |     | <span class='neutral'>   */</span>
  48 |     | <span class='neutral'>  function migrateToNative(address _circle, uint32 _minGasLimitReceiveOnL2, uint32 _minGasLimitSetBurnAmount) external;</span>
  49 |     | <span class='neutral'></span>
  50 |     | <span class='neutral'>  /**</span>
  51 |     | <span class='neutral'>   * @notice Sets the amount of USDC tokens that will be burned when the burnLockedUSDC function is called</span>
  52 |     | <span class='neutral'>   * @param _amount The amount of USDC tokens that will be burned</span>
  53 |     | <span class='neutral'>   * @dev Only callable by a whitelisted messenger during its migration process</span>
  54 |     | <span class='neutral'>   */</span>
  55 |     | <span class='neutral'>  function setBurnAmount(uint256 _amount) external;</span>
  56 |     | <span class='neutral'></span>
  57 |     | <span class='neutral'>  /**</span>
  58 |     | <span class='neutral'>   * @notice Burns the USDC tokens locked in the contract</span>
  59 |     | <span class='neutral'>   * @dev The amount is determined by the burnAmount variable, which is set in the setBurnAmount function</span>
  60 |     | <span class='neutral'>   */</span>
  61 |     | <span class='neutral'>  function burnLockedUSDC() external;</span>
  62 |     | <span class='neutral'></span>
  63 |     | <span class='neutral'>  /**</span>
  64 |     | <span class='neutral'>   * @notice Send a message to the linked adapter to call receiveStopMessaging() and stop outgoing messages.</span>
  65 |     | <span class='neutral'>   * @dev Only callable by the owner of the adapter</span>
  66 |     | <span class='neutral'>   * @dev Setting isMessagingDisabled to true is an irreversible operation</span>
  67 |     | <span class='neutral'>   * @param _minGasLimit Minimum gas limit that the message can be executed with</span>
  68 |     | <span class='neutral'>   */</span>
  69 |     | <span class='neutral'>  function stopMessaging(uint32 _minGasLimit) external;</span>
  70 |     | <span class='neutral'></span>
  71 |     | <span class='neutral'>  /**</span>
  72 |     | <span class='neutral'>   * @notice Resume messaging on the messenger</span>
  73 |     | <span class='neutral'>   * @dev Only callable by the owner</span>
  74 |     | <span class='neutral'>   * @dev Cant resume deprecated messengers</span>
  75 |     | <span class='neutral'>   * @param _minGasLimit Minimum gas limit that the message can be executed with</span>
  76 |     | <span class='neutral'>   */</span>
  77 |     | <span class='neutral'>  function resumeMessaging(uint32 _minGasLimit) external;</span>
  78 |     | <span class='neutral'></span>
  79 |     | <span class='neutral'>  /*///////////////////////////////////////////////////////////////</span>
  80 |     | <span class='neutral'>                            VARIABLES</span>
  81 |     | <span class='neutral'>  ///////////////////////////////////////////////////////////////*/</span>
  82 |     | <span class='neutral'></span>
  83 |     | <span class='neutral'>  /**</span>
  84 |     | <span class='neutral'>   * @notice Fetches the amount of USDC tokens that will be burned when the burnLockedUSDC function is called</span>
  85 |     | <span class='neutral'>   * @return _burnAmount The amount of USDC tokens that will be burned</span>
  86 |     | <span class='neutral'>   */</span>
  87 |     | <span class='neutral'>  function burnAmount() external view returns (uint256 _burnAmount);</span>
  88 |     | <span class='neutral'></span>
  89 |     | <span class='neutral'>  /**</span>
  90 |     | <span class='neutral'>   * @notice Fetches the address of the new owner for the USDC tokens</span>
  91 |     | <span class='neutral'>   * @return _newOwner The address of the new owner for the USDC tokens</span>
  92 |     | <span class='neutral'>   */</span>
  93 |     | <span class='neutral'>  function newOwner() external view returns (address _newOwner);</span>
  94 |     | <span class='neutral'></span>
  95 |     | <span class='neutral'>  /**</span>
  96 |     | <span class='neutral'>   * @notice Fetches the status of the messenger</span>
  97 |     | <span class='neutral'>   * @return _status The status of the messenger</span>
  98 |     | <span class='neutral'>   */</span>
  99 |     | <span class='neutral'>  function messengerStatus() external view returns (Status _status);</span>
 100 |     | <span class='neutral'>}</span>
 101 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/src/interfaces/IL1OpUSDCFactory.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>pragma solidity 0.8.25;</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>import {IUSDC} from &#39;./external/IUSDC.sol&#39;;</span>
  5 |     | <span class='neutral'></span>
  6 |     | <span class='neutral'>// solhint-disable func-name-mixedcase</span>
  7 |     | <span class='neutral'>interface IL1OpUSDCFactory {</span>
  8 |     | <span class='neutral'>  /**</span>
  9 |     | <span class='neutral'>   * @notice The struct to hold the deployments data to deploy the L2 Factory, L2 adapter, and the L2 USDC contracts</span>
 10 |     | <span class='neutral'>   * @param l2AdapterOwner The address of the owner of the L2 adapter</span>
 11 |     | <span class='neutral'>   * @param minGasLimitCreate2Factory The minimum gas limit for the L2 factory deployment</span>
 12 |     | <span class='neutral'>   * @param usdcImplementationInitCode The creation code with the constructor arguments for the USDC implementation</span>
 13 |     | <span class='neutral'>   * @param usdcInitTxs The initialization transactions to be executed on the USDC contract. The `initialize()` first</span>
 14 |     | <span class='neutral'>   * init tx must not be included since it is defined in the L2 factory contract</span>
 15 |     | <span class='neutral'>   * @param minGasLimitDeploy The minimum gas limit for calling the deploying the L2 Factory, L2 adapter, and L2 USDC</span>
 16 |     | <span class='neutral'>   */</span>
 17 |     | <span class='neutral'>  struct L2Deployments {</span>
 18 |     | <span class='neutral'>    address l2AdapterOwner;</span>
 19 |     | <span class='neutral'>    bytes usdcImplementationInitCode;</span>
 20 |     | <span class='neutral'>    bytes[] usdcInitTxs;</span>
 21 |     | <span class='neutral'>    uint32 minGasLimitDeploy;</span>
 22 |     | <span class='neutral'>  }</span>
 23 |     | <span class='neutral'></span>
 24 |     | <span class='neutral'>  /*///////////////////////////////////////////////////////////////</span>
 25 |     | <span class='neutral'>                            EVENTS</span>
 26 |     | <span class='neutral'>  ///////////////////////////////////////////////////////////////*/</span>
 27 |     | <span class='neutral'></span>
 28 |     | <span class='neutral'>  /**</span>
 29 |     | <span class='neutral'>   * @notice Emitted when the `L1OpUSDCBridgeAdapter` is deployed</span>
 30 |     | <span class='neutral'>   * @param _l1Adapter The address of the L1 adapter</span>
 31 |     | <span class='neutral'>   */</span>
 32 |     | <span class='neutral'>  event L1AdapterDeployed(address _l1Adapter);</span>
 33 |     | <span class='neutral'></span>
 34 |     | <span class='neutral'>  /*///////////////////////////////////////////////////////////////</span>
 35 |     | <span class='neutral'>                            ERRORS</span>
 36 |     | <span class='neutral'>  ///////////////////////////////////////////////////////////////*/</span>
 37 |     | <span class='neutral'></span>
 38 |     | <span class='neutral'>  /**</span>
 39 |     | <span class='neutral'>   * @notice Thrown when the `initialize()` tx is provided as the first init tx for the USDC contract</span>
 40 |     | <span class='neutral'>   */</span>
 41 |     | <span class='neutral'>  error IL1OpUSDCFactory_NoInitializeTx();</span>
 42 |     | <span class='neutral'></span>
 43 |     | <span class='neutral'>  /*///////////////////////////////////////////////////////////////</span>
 44 |     | <span class='neutral'>                            LOGIC</span>
 45 |     | <span class='neutral'>  ///////////////////////////////////////////////////////////////*/</span>
 46 |     | <span class='neutral'></span>
 47 |     | <span class='neutral'>  /**</span>
 48 |     | <span class='neutral'>   * @notice Deploys the L1 Adapter, and sends the deployment txs for the L2 factory, L2 adapter and the L2 USDC through</span>
 49 |     | <span class='neutral'>   * the L1 messenger</span>
 50 |     | <span class='neutral'>   * @param _l1Messenger The address of the L1 messenger for the L2 Op chain</span>
 51 |     | <span class='neutral'>   * @param _l1AdapterOwner The address of the owner of the L1 adapter</span>
 52 |     | <span class='neutral'>   * @param _l2Deployments The deployments data for the L2 adapter, and the L2 USDC contracts</span>
 53 |     | <span class='neutral'>   * @return _l1Adapter The address of the L1 adapter</span>
 54 |     | <span class='neutral'>   * @return _l2Factory The address of the L2 factory</span>
 55 |     | <span class='neutral'>   * @return _l2Adapter The address of the L2 adapter</span>
 56 |     | <span class='neutral'>   */</span>
 57 |     | <span class='neutral'>  function deploy(</span>
 58 |     | <span class='neutral'>    address _l1Messenger,</span>
 59 |     | <span class='neutral'>    address _l1AdapterOwner,</span>
 60 |     | <span class='neutral'>    L2Deployments memory _l2Deployments</span>
 61 |     | <span class='neutral'>  ) external returns (address _l1Adapter, address _l2Factory, address _l2Adapter);</span>
 62 |     | <span class='neutral'></span>
 63 |     | <span class='neutral'>  /*///////////////////////////////////////////////////////////////</span>
 64 |     | <span class='neutral'>                            VARIABLES</span>
 65 |     | <span class='neutral'>  ///////////////////////////////////////////////////////////////*/</span>
 66 |     | <span class='neutral'></span>
 67 |     | <span class='neutral'>  /**</span>
 68 |     | <span class='neutral'>   * @return _l2Messenger The address of the L2 messenger</span>
 69 |     | <span class='neutral'>   */</span>
 70 |     | <span class='neutral'>  function L2_MESSENGER() external view returns (address _l2Messenger);</span>
 71 |     | <span class='neutral'></span>
 72 |     | <span class='neutral'>  /**</span>
 73 |     | <span class='neutral'>   * @return _l2Create2Deployer The address of the `create2Deployer` contract on L2</span>
 74 |     | <span class='neutral'>   */</span>
 75 |     | <span class='neutral'>  function L2_CREATE2_DEPLOYER() external view returns (address _l2Create2Deployer);</span>
 76 |     | <span class='neutral'></span>
 77 |     | <span class='neutral'>  /**</span>
 78 |     | <span class='neutral'>   * @return _usdc The address of USDC on L1</span>
 79 |     | <span class='neutral'>   */</span>
 80 |     | <span class='neutral'>  function USDC() external view returns (IUSDC _usdc);</span>
 81 |     | <span class='neutral'></span>
 82 |     | <span class='neutral'>  /**</span>
 83 |     | <span class='neutral'>   * @return _name The name of the USDC token</span>
 84 |     | <span class='neutral'>   * @dev If the 3rd party team wants to update the name, it can be done on the `initialize2()` 2nd init tx</span>
 85 |     | <span class='neutral'>   */</span>
 86 |     | <span class='neutral'>  function USDC_NAME() external view returns (string memory _name);</span>
 87 |     | <span class='neutral'></span>
 88 |     | <span class='neutral'>  /**</span>
 89 |     | <span class='neutral'>   * @return _symbol The symbol of the USDC token</span>
 90 |     | <span class='neutral'>   */</span>
 91 |     | <span class='neutral'>  function USDC_SYMBOL() external view returns (string memory _symbol);</span>
 92 |     | <span class='neutral'></span>
 93 |     | <span class='neutral'>  /**</span>
 94 |     | <span class='neutral'>   * @return _deploymentsSaltCounter The counter for the deployments salt to be used on the L2 factory deployment</span>
 95 |     | <span class='neutral'>   */</span>
 96 |     | <span class='neutral'>  function deploymentsSaltCounter() external view returns (uint256 _deploymentsSaltCounter);</span>
 97 |     | <span class='neutral'>}</span>
 98 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/src/interfaces/IL2OpUSDCBridgeAdapter.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>pragma solidity 0.8.25;</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>import {FallbackProxyAdmin} from &#39;contracts/utils/FallbackProxyAdmin.sol&#39;;</span>
  5 |     | <span class='neutral'></span>
  6 |     | <span class='neutral'>interface IL2OpUSDCBridgeAdapter {</span>
  7 |     | <span class='neutral'>  /*///////////////////////////////////////////////////////////////</span>
  8 |     | <span class='neutral'>                            EVENTS</span>
  9 |     | <span class='neutral'>  ///////////////////////////////////////////////////////////////*/</span>
 10 |     | <span class='neutral'></span>
 11 |     | <span class='neutral'>  /**</span>
 12 |     | <span class='neutral'>   * @notice Emitted when the owner message is sent</span>
 13 |     | <span class='neutral'>   * @param _functionSignature The signature of the function sent</span>
 14 |     | <span class='neutral'>   */</span>
 15 |     | <span class='neutral'>  event UsdcFunctionSent(bytes4 _functionSignature);</span>
 16 |     | <span class='neutral'></span>
 17 |     | <span class='neutral'>  /*///////////////////////////////////////////////////////////////</span>
 18 |     | <span class='neutral'>                            LOGIC</span>
 19 |     | <span class='neutral'>  ///////////////////////////////////////////////////////////////*/</span>
 20 |     | <span class='neutral'>  /**</span>
 21 |     | <span class='neutral'>   * @notice Initiates the process to migrate the bridged USDC to native USDC</span>
 22 |     | <span class='neutral'>   * @dev Full migration cant finish until L1 receives the message for setting the burn amount</span>
 23 |     | <span class='neutral'>   * @param _newOwner The address to transfer ownerships to</span>
 24 |     | <span class='neutral'>   * @param _setBurnAmountMinGasLimit Minimum gas limit that the setBurnAmount message can be executed on L1</span>
 25 |     | <span class='neutral'>   */</span>
 26 |     | <span class='neutral'>  function receiveMigrateToNative(address _newOwner, uint32 _setBurnAmountMinGasLimit) external;</span>
 27 |     | <span class='neutral'></span>
 28 |     | <span class='neutral'>  /**</span>
 29 |     | <span class='neutral'>   * @notice Receive the stop messaging message from the linked adapter and stop outgoing messages</span>
 30 |     | <span class='neutral'>   */</span>
 31 |     | <span class='neutral'>  function receiveStopMessaging() external;</span>
 32 |     | <span class='neutral'></span>
 33 |     | <span class='neutral'>  /**</span>
 34 |     | <span class='neutral'>   * @notice Resume messaging after it was stopped</span>
 35 |     | <span class='neutral'>   */</span>
 36 |     | <span class='neutral'>  function receiveResumeMessaging() external;</span>
 37 |     | <span class='neutral'></span>
 38 |     | <span class='neutral'>  /**</span>
 39 |     | <span class='neutral'>   * @notice Call with abitrary calldata on USDC contract.</span>
 40 |     | <span class='neutral'>   * @dev can&#39;t execute the following list of transactions:</span>
 41 |     | <span class='neutral'>   *   transferOwnership (0xf2fde38b)</span>
 42 |     | <span class='neutral'>   *   changeAdmin (0x8f283970)</span>
 43 |     | <span class='neutral'>   * @param _data The calldata to execute on the USDC contract</span>
 44 |     | <span class='neutral'>   */</span>
 45 |     | <span class='neutral'>  function callUsdcTransaction(bytes calldata _data) external;</span>
 46 |     | <span class='neutral'></span>
 47 |     | <span class='neutral'>  /*///////////////////////////////////////////////////////////////</span>
 48 |     | <span class='neutral'>                            VARIABLES</span>
 49 |     | <span class='neutral'>  ///////////////////////////////////////////////////////////////*/</span>
 50 |     | <span class='neutral'>  /**</span>
 51 |     | <span class='neutral'>   * @notice Fetches whether messaging is disabled</span>
 52 |     | <span class='neutral'>   * @return _isMessagingDisabled Whether messaging is disabled</span>
 53 |     | <span class='neutral'>   */</span>
 54 |     | <span class='neutral'>  function isMessagingDisabled() external view returns (bool _isMessagingDisabled);</span>
 55 |     | <span class='neutral'></span>
 56 |     | <span class='neutral'>  /**</span>
 57 |     | <span class='neutral'>   * @return _fallbackProxyAdmin The address of the fallback proxy admin</span>
 58 |     | <span class='neutral'>   * @dev The admin can&#39;t call the fallback function of the USDC proxy, meaning it can&#39;t interact with the functions</span>
 59 |     | <span class='neutral'>   * such as mint and burn between others. Because of this, the FallbackProxyAdmin contract is used as a middleware,</span>
 60 |     | <span class='neutral'>   * being controlled by the L2OpUSDCBridgeAdapter contract and allowing to call the admin functions through it while</span>
 61 |     | <span class='neutral'>   * also being able to call the fallback function of the USDC proxy.</span>
 62 |     | <span class='neutral'>   */</span>
 63 |     | <span class='neutral'>  // solhint-disable-next-line func-name-mixedcase</span>
 64 |     | <span class='neutral'>  function FALLBACK_PROXY_ADMIN() external view returns (FallbackProxyAdmin _fallbackProxyAdmin);</span>
 65 |     | <span class='neutral'>}</span>
 66 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/src/interfaces/IL2OpUSDCFactory.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>pragma solidity 0.8.25;</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>interface IL2OpUSDCFactory {</span>
  5 |     | <span class='neutral'>  /*///////////////////////////////////////////////////////////////</span>
  6 |     | <span class='neutral'>                            STRUCTS</span>
  7 |     | <span class='neutral'>  ///////////////////////////////////////////////////////////////*/</span>
  8 |     | <span class='neutral'></span>
  9 |     | <span class='neutral'>  /**</span>
 10 |     | <span class='neutral'>   * @notice The struct to hold the USDC data for the name, symbol, currency, and decimals when initializing</span>
 11 |     | <span class='neutral'>   * @param _tokenName The name of the USDC token</span>
 12 |     | <span class='neutral'>   * @param _tokenSymbol The symbol of the USDC token</span>
 13 |     | <span class='neutral'>   * @param _tokenCurrency The currency that the USDC token represents</span>
 14 |     | <span class='neutral'>   * @param _tokenDecimals The number of decimals that the USDC token uses</span>
 15 |     | <span class='neutral'>   */</span>
 16 |     | <span class='neutral'>  struct USDCInitializeData {</span>
 17 |     | <span class='neutral'>    string _tokenName;</span>
 18 |     | <span class='neutral'>    string _tokenSymbol;</span>
 19 |     | <span class='neutral'>    string _tokenCurrency;</span>
 20 |     | <span class='neutral'>    uint8 _tokenDecimals;</span>
 21 |     | <span class='neutral'>  }</span>
 22 |     | <span class='neutral'></span>
 23 |     | <span class='neutral'>  /*///////////////////////////////////////////////////////////////</span>
 24 |     | <span class='neutral'>                            EVENTS</span>
 25 |     | <span class='neutral'>  ///////////////////////////////////////////////////////////////*/</span>
 26 |     | <span class='neutral'></span>
 27 |     | <span class='neutral'>  /**</span>
 28 |     | <span class='neutral'>   * @notice Emitted when the USDC implementation is deployed</span>
 29 |     | <span class='neutral'>   * @param _l2UsdcImplementation The address of the L2 USDC implementation</span>
 30 |     | <span class='neutral'>   */</span>
 31 |     | <span class='neutral'>  event USDCImplementationDeployed(address _l2UsdcImplementation);</span>
 32 |     | <span class='neutral'></span>
 33 |     | <span class='neutral'>  /**</span>
 34 |     | <span class='neutral'>   * @notice Emitted when the USDC proxy is deployed</span>
 35 |     | <span class='neutral'>   * @param _l2UsdcProxy The address of the L2 USDC proxy</span>
 36 |     | <span class='neutral'>   */</span>
 37 |     | <span class='neutral'>  event USDCProxyDeployed(address _l2UsdcProxy);</span>
 38 |     | <span class='neutral'></span>
 39 |     | <span class='neutral'>  /**</span>
 40 |     | <span class='neutral'>   * @notice Emitted when the L2 adapter is deployed</span>
 41 |     | <span class='neutral'>   * @param _l2Adapter The address of the L2 adapter</span>
 42 |     | <span class='neutral'>   */</span>
 43 |     | <span class='neutral'>  event L2AdapterDeployed(address _l2Adapter);</span>
 44 |     | <span class='neutral'></span>
 45 |     | <span class='neutral'>  /*///////////////////////////////////////////////////////////////</span>
 46 |     | <span class='neutral'>                            ERRORS</span>
 47 |     | <span class='neutral'>  ///////////////////////////////////////////////////////////////*/</span>
 48 |     | <span class='neutral'></span>
 49 |     | <span class='neutral'>  /**</span>
 50 |     | <span class='neutral'>   * @notice Thrown when a contract deployment fails</span>
 51 |     | <span class='neutral'>   */</span>
 52 |     | <span class='neutral'>  error IL2OpUSDCFactory_DeploymentFailed();</span>
 53 |     | <span class='neutral'></span>
 54 |     | <span class='neutral'>  /**</span>
 55 |     | <span class='neutral'>   * @notice Thrown when an USDC initialization tx failed</span>
 56 |     | <span class='neutral'>   * @param _txIndex The index of the failed initialization tx</span>
 57 |     | <span class='neutral'>   */</span>
 58 |     | <span class='neutral'>  error IL2OpUSDCFactory_InitializationFailed(uint256 _txIndex);</span>
 59 |     | <span class='neutral'>}</span>
 60 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/src/interfaces/IOpUSDCBridgeAdapter.sol</b>
<code>
   1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
   2 |     | <span class='neutral'>pragma solidity 0.8.25;</span>
   3 |     | <span class='neutral'></span>
   4 |     | <span class='neutral'>interface IOpUSDCBridgeAdapter {</span>
   5 |     | <span class='neutral'>  /*///////////////////////////////////////////////////////////////</span>
   6 |     | <span class='neutral'>                            EVENTS</span>
   7 |     | <span class='neutral'>  ///////////////////////////////////////////////////////////////*/</span>
   8 |     | <span class='neutral'></span>
   9 |     | <span class='neutral'>  /**</span>
  10 |     | <span class='neutral'>   * @notice Emitted when messaging is stopped</span>
  11 |     | <span class='neutral'>   * @param _messenger The address of the messenger contract that was stopped</span>
  12 |     | <span class='neutral'>   */</span>
  13 |     | <span class='neutral'>  event MessagingStopped(address _messenger);</span>
  14 |     | <span class='neutral'></span>
  15 |     | <span class='neutral'>  /**</span>
  16 |     | <span class='neutral'>   * @notice Emitted when a message is sent to the linked adapter</span>
  17 |     | <span class='neutral'>   * @param _user The user that sent the message</span>
  18 |     | <span class='neutral'>   * @param _to The target address on the destination chain</span>
  19 |     | <span class='neutral'>   * @param _amount The amount of tokens to send</span>
  20 |     | <span class='neutral'>   * @param _messenger The address of the messenger contract that was sent through</span>
  21 |     | <span class='neutral'>   * @param _minGasLimit Minimum gas limit that the message can be executed with</span>
  22 |     | <span class='neutral'>   */</span>
  23 |     | <span class='neutral'>  event MessageSent(address _user, address _to, uint256 _amount, address _messenger, uint32 _minGasLimit);</span>
  24 |     | <span class='neutral'></span>
  25 |     | <span class='neutral'>  /**</span>
  26 |     | <span class='neutral'>   * @notice Emitted when a message as recieved</span>
  27 |     | <span class='neutral'>   * @param _user The user that recieved the message</span>
  28 |     | <span class='neutral'>   * @param _amount The amount of tokens recieved</span>
  29 |     | <span class='neutral'>   * @param _messenger The address of the messenger contract that was recieved through</span>
  30 |     | <span class='neutral'>   */</span>
  31 |     | <span class='neutral'>  event MessageReceived(address _user, uint256 _amount, address _messenger);</span>
  32 |     | <span class='neutral'></span>
  33 |     | <span class='neutral'>  /**</span>
  34 |     | <span class='neutral'>   * @notice Emitted when messaging is resumed</span>
  35 |     | <span class='neutral'>   * @param _messenger The address of the messenger that was resumed</span>
  36 |     | <span class='neutral'>   */</span>
  37 |     | <span class='neutral'>  event MessagingResumed(address _messenger);</span>
  38 |     | <span class='neutral'></span>
  39 |     | <span class='neutral'>  /**</span>
  40 |     | <span class='neutral'>   * @notice Emitted when the adapter is migrating usdc to native</span>
  41 |     | <span class='neutral'>   * @param _messenger The address of the messenger contract that is doing the migration</span>
  42 |     | <span class='neutral'>   * @param _newOwner The address of the new owner of bridged usdc</span>
  43 |     | <span class='neutral'>   */</span>
  44 |     | <span class='neutral'>  event MigratingToNative(address _messenger, address _newOwner);</span>
  45 |     | <span class='neutral'></span>
  46 |     | <span class='neutral'>  /*///////////////////////////////////////////////////////////////</span>
  47 |     | <span class='neutral'>                            ERRORS</span>
  48 |     | <span class='neutral'>  ///////////////////////////////////////////////////////////////*/</span>
  49 |     | <span class='neutral'>  /**</span>
  50 |     | <span class='neutral'>   * @notice Error when burnLockedUSDC is called before a burn amount is set</span>
  51 |     | <span class='neutral'>   */</span>
  52 |     | <span class='neutral'>  error IOpUSDCBridgeAdapter_BurnAmountNotSet();</span>
  53 |     | <span class='neutral'></span>
  54 |     | <span class='neutral'>  /**</span>
  55 |     | <span class='neutral'>   * @notice Error when address is not valid</span>
  56 |     | <span class='neutral'>   */</span>
  57 |     | <span class='neutral'>  error IOpUSDCBridgeAdapter_InvalidAddress();</span>
  58 |     | <span class='neutral'></span>
  59 |     | <span class='neutral'>  /**</span>
  60 |     | <span class='neutral'>   * @notice Error when the owner transaction is invalid</span>
  61 |     | <span class='neutral'>   */</span>
  62 |     | <span class='neutral'>  error IOpUSDCBridgeAdapter_InvalidTransaction();</span>
  63 |     | <span class='neutral'></span>
  64 |     | <span class='neutral'>  /**</span>
  65 |     | <span class='neutral'>   * @notice Error when signature is not valid</span>
  66 |     | <span class='neutral'>   */</span>
  67 |     | <span class='neutral'>  error IOpUSDCBridgeAdapter_ForbiddenTransaction();</span>
  68 |     | <span class='neutral'></span>
  69 |     | <span class='neutral'>  /**</span>
  70 |     | <span class='neutral'>   * @notice Error when messaging is disabled</span>
  71 |     | <span class='neutral'>   */</span>
  72 |     | <span class='neutral'>  error IOpUSDCBridgeAdapter_MessagingDisabled();</span>
  73 |     | <span class='neutral'></span>
  74 |     | <span class='neutral'>  /**</span>
  75 |     | <span class='neutral'>   * @notice Error when messaging is enabled</span>
  76 |     | <span class='neutral'>   */</span>
  77 |     | <span class='neutral'>  error IOpUSDCBridgeAdapter_MessagingEnabled();</span>
  78 |     | <span class='neutral'></span>
  79 |     | <span class='neutral'>  /**</span>
  80 |     | <span class='neutral'>   * @notice Error when the caller is not the linked adapter</span>
  81 |     | <span class='neutral'>   */</span>
  82 |     | <span class='neutral'>  error IOpUSDCBridgeAdapter_InvalidSender();</span>
  83 |     | <span class='neutral'></span>
  84 |     | <span class='neutral'>  /**</span>
  85 |     | <span class='neutral'>   * @notice Error when the signature is invalid</span>
  86 |     | <span class='neutral'>   */</span>
  87 |     | <span class='neutral'>  error IOpUSDCBridgeAdapter_InvalidSignature();</span>
  88 |     | <span class='neutral'></span>
  89 |     | <span class='neutral'>  /**</span>
  90 |     | <span class='neutral'>   * @notice Error when the deadline has passed</span>
  91 |     | <span class='neutral'>   */</span>
  92 |     | <span class='neutral'>  error IOpUSDCBridgeAdapter_MessageExpired();</span>
  93 |     | <span class='neutral'></span>
  94 |     | <span class='neutral'>  /**</span>
  95 |     | <span class='neutral'>   * @notice Error when the contract is not in the upgrading state</span>
  96 |     | <span class='neutral'>   */</span>
  97 |     | <span class='neutral'>  error IOpUSDCBridgeAdapter_NotUpgrading();</span>
  98 |     | <span class='neutral'></span>
  99 |     | <span class='neutral'>  /*///////////////////////////////////////////////////////////////</span>
 100 |     | <span class='neutral'>                            LOGIC</span>
 101 |     | <span class='neutral'>  ///////////////////////////////////////////////////////////////*/</span>
 102 |     | <span class='neutral'>  /**</span>
 103 |     | <span class='neutral'>   * @notice Send tokens to other chain through the linked adapter</span>
 104 |     | <span class='neutral'>   * @param _to The target address on the destination chain</span>
 105 |     | <span class='neutral'>   * @param _amount The amount of tokens to send</span>
 106 |     | <span class='neutral'>   * @param _minGasLimit Minimum gas limit that the message can be executed with</span>
 107 |     | <span class='neutral'>   */</span>
 108 |     | <span class='neutral'>  function sendMessage(address _to, uint256 _amount, uint32 _minGasLimit) external;</span>
 109 |     | <span class='neutral'></span>
 110 |     | <span class='neutral'>  /**</span>
 111 |     | <span class='neutral'>   * @notice Send tokens to other chain through the linked adapter</span>
 112 |     | <span class='neutral'>   * @param _signer The address of the user sending the message</span>
 113 |     | <span class='neutral'>   * @param _to The target address on the destination chain</span>
 114 |     | <span class='neutral'>   * @param _amount The amount of tokens to send</span>
 115 |     | <span class='neutral'>   * @param _signature The signature of the user</span>
 116 |     | <span class='neutral'>   * @param _deadline The deadline for the message to be executed</span>
 117 |     | <span class='neutral'>   * @param _minGasLimit Minimum gas limit that the message can be executed with</span>
 118 |     | <span class='neutral'>   */</span>
 119 |     | <span class='neutral'>  function sendMessage(</span>
 120 |     | <span class='neutral'>    address _signer,</span>
 121 |     | <span class='neutral'>    address _to,</span>
 122 |     | <span class='neutral'>    uint256 _amount,</span>
 123 |     | <span class='neutral'>    bytes calldata _signature,</span>
 124 |     | <span class='neutral'>    uint256 _deadline,</span>
 125 |     | <span class='neutral'>    uint32 _minGasLimit</span>
 126 |     | <span class='neutral'>  ) external;</span>
 127 |     | <span class='neutral'></span>
 128 |     | <span class='neutral'>  /**</span>
 129 |     | <span class='neutral'>   * @notice Receive the message from the other chain and mint the bridged representation for the user</span>
 130 |     | <span class='neutral'>   * @dev This function should only be called when receiving a message to mint the bridged representation</span>
 131 |     | <span class='neutral'>   * @param _user The user to mint the bridged representation for</span>
 132 |     | <span class='neutral'>   * @param _amount The amount of tokens to mint</span>
 133 |     | <span class='neutral'>   */</span>
 134 |     | <span class='neutral'>  function receiveMessage(address _user, uint256 _amount) external;</span>
 135 |     | <span class='neutral'></span>
 136 |     | <span class='neutral'>  /*///////////////////////////////////////////////////////////////</span>
 137 |     | <span class='neutral'>                            VARIABLES</span>
 138 |     | <span class='neutral'>  ///////////////////////////////////////////////////////////////*/</span>
 139 |     | <span class='neutral'></span>
 140 |     | <span class='neutral'>  /**</span>
 141 |     | <span class='neutral'>   * @notice Fetches address of the USDC token</span>
 142 |     | <span class='neutral'>   * @return _usdc Address of the USDC token</span>
 143 |     | <span class='neutral'>   */</span>
 144 |     | <span class='neutral'>  // solhint-disable-next-line func-name-mixedcase</span>
 145 |     | <span class='neutral'>  function USDC() external view returns (address _usdc);</span>
 146 |     | <span class='neutral'></span>
 147 |     | <span class='neutral'>  /**</span>
 148 |     | <span class='neutral'>   * @notice Fetches address of the linked adapter on L2 to send messages to and receive from</span>
 149 |     | <span class='neutral'>   * @return _linkedAdapter Address of the linked adapter</span>
 150 |     | <span class='neutral'>   */</span>
 151 |     | <span class='neutral'>  // solhint-disable-next-line func-name-mixedcase</span>
 152 |     | <span class='neutral'>  function LINKED_ADAPTER() external view returns (address _linkedAdapter);</span>
 153 |     | <span class='neutral'></span>
 154 |     | <span class='neutral'>  /**</span>
 155 |     | <span class='neutral'>   * @notice Fetches address of the CrossDomainMessenger to send messages to L1 &lt;-&gt; L2</span>
 156 |     | <span class='neutral'>   * @return _messenger Address of the messenger</span>
 157 |     | <span class='neutral'>   */</span>
 158 |     | <span class='neutral'>  // solhint-disable-next-line func-name-mixedcase</span>
 159 |     | <span class='neutral'>  function MESSENGER() external view returns (address _messenger);</span>
 160 |     | <span class='neutral'></span>
 161 |     | <span class='neutral'>  /**</span>
 162 |     | <span class='neutral'>   * @notice Returns the nonce of a given user to avoid replay attacks</span>
 163 |     | <span class='neutral'>   * @param _user The user to fetch the nonce for</span>
 164 |     | <span class='neutral'>   * @return _nonce The nonce of the user</span>
 165 |     | <span class='neutral'>   */</span>
 166 |     | <span class='neutral'>  function userNonce(address _user) external view returns (uint256 _nonce);</span>
 167 |     | <span class='neutral'>}</span>
 168 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/src/interfaces/external/ICreate2Deployer.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>pragma solidity 0.8.25;</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>interface ICreate2Deployer {</span>
  5 |     | <span class='neutral'>  /**</span>
  6 |     | <span class='neutral'>   * @notice Deploys a contract using the CREATE2 opcode</span>
  7 |     | <span class='neutral'>   * @param _value The value to send with the deployment</span>
  8 |     | <span class='neutral'>   * @param _salt The salt value to use for the deployment</span>
  9 |     | <span class='neutral'>   * @param _code The init code to deploy</span>
 10 |     | <span class='neutral'>   */</span>
 11 |     | <span class='neutral'>  function deploy(uint256 _value, bytes32 _salt, bytes memory _code) external;</span>
 12 |     | <span class='neutral'>}</span>
 13 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/src/interfaces/external/ICrossDomainMessenger.sol</b>
<code>
  1 |     | <span class='neutral'>pragma solidity 0.8.25;</span>
  2 |     | <span class='neutral'></span>
  3 |     | <span class='neutral'>interface ICrossDomainMessenger {</span>
  4 |     | <span class='neutral'>  /// @notice Sends a message to some target address on the other chain. Note that if the call</span>
  5 |     | <span class='neutral'>  ///         always reverts, then the message will be unrelayable, and any ETH sent will be</span>
  6 |     | <span class='neutral'>  ///         permanently locked. The same will occur if the target on the other chain is</span>
  7 |     | <span class='neutral'>  ///         considered unsafe (see the _isUnsafeTarget() function).</span>
  8 |     | <span class='neutral'>  /// @param _target      Target contract or wallet address.</span>
  9 |     | <span class='neutral'>  /// @param _message     Message to trigger the target address with.</span>
 10 |     | <span class='neutral'>  /// @param _minGasLimit Minimum gas limit that the message can be executed with.</span>
 11 |     | <span class='neutral'>  function sendMessage(address _target, bytes calldata _message, uint32 _minGasLimit) external;</span>
 12 |     | <span class='neutral'></span>
 13 |     | <span class='neutral'>  /// @notice Retrieves the address of the contract or wallet that initiated the currently</span>
 14 |     | <span class='neutral'>  ///         executing message on the other chain. Will throw an error if there is no message</span>
 15 |     | <span class='neutral'>  ///         currently being executed. Allows the recipient of a call to see who triggered it.</span>
 16 |     | <span class='neutral'>  /// @return _sender Address of the sender of the currently executing message on the other chain.</span>
 17 |     | <span class='neutral'>  function xDomainMessageSender() external view returns (address _sender);</span>
 18 |     | <span class='neutral'>}</span>
 19 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/src/interfaces/external/IUSDC.sol</b>
<code>
   1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
   2 |     | <span class='neutral'>pragma solidity 0.8.25;</span>
   3 |     | <span class='neutral'></span>
   4 |     | <span class='neutral'>import {IERC20} from &#39;@openzeppelin/contracts/token/ERC20/IERC20.sol&#39;;</span>
   5 |     | <span class='neutral'></span>
   6 |     | <span class='neutral'>interface IUSDC is IERC20 {</span>
   7 |     | <span class='neutral'>  /**</span>
   8 |     | <span class='neutral'>   * @notice Mints USDC tokens</span>
   9 |     | <span class='neutral'>   * @param _to Address to mint tokens to</span>
  10 |     | <span class='neutral'>   * @param _amount Amount of tokens to mint</span>
  11 |     | <span class='neutral'>   */</span>
  12 |     | <span class='neutral'>  function mint(address _to, uint256 _amount) external;</span>
  13 |     | <span class='neutral'></span>
  14 |     | <span class='neutral'>  /**</span>
  15 |     | <span class='neutral'>   * @notice allows a minter to burn some of its own tokens</span>
  16 |     | <span class='neutral'>   * Validates that caller is a minter and that sender is not blacklisted</span>
  17 |     | <span class='neutral'>   * amount is less than or equal to the minter&#39;s account balance</span>
  18 |     | <span class='neutral'>   * @param _amount uint256 the amount of tokens to be burned</span>
  19 |     | <span class='neutral'>   */</span>
  20 |     | <span class='neutral'>  function burn(uint256 _amount) external;</span>
  21 |     | <span class='neutral'></span>
  22 |     | <span class='neutral'>  /**</span>
  23 |     | <span class='neutral'>   * @notice Transfers USDC ownership  to another address</span>
  24 |     | <span class='neutral'>   * @param _newOwner Address to transfer ownership to</span>
  25 |     | <span class='neutral'>   */</span>
  26 |     | <span class='neutral'>  function transferOwnership(address _newOwner) external;</span>
  27 |     | <span class='neutral'></span>
  28 |     | <span class='neutral'>  /**</span>
  29 |     | <span class='neutral'>   * @dev Changes the admin of the proxy.</span>
  30 |     | <span class='neutral'>   * Only the current admin can call this function.</span>
  31 |     | <span class='neutral'>   * @param newAdmin Address to transfer proxy administration to.</span>
  32 |     | <span class='neutral'>   */</span>
  33 |     | <span class='neutral'>  function changeAdmin(address newAdmin) external;</span>
  34 |     | <span class='neutral'></span>
  35 |     | <span class='neutral'>  /**</span>
  36 |     | <span class='neutral'>   * @notice Initializes the fiat token contract.</span>
  37 |     | <span class='neutral'>   * @param _tokenName       The name of the fiat token.</span>
  38 |     | <span class='neutral'>   * @param _tokenSymbol     The symbol of the fiat token.</span>
  39 |     | <span class='neutral'>   * @param _tokenCurrency   The fiat currency that the token represents.</span>
  40 |     | <span class='neutral'>   * @param _tokenDecimals   The number of decimals that the token uses.</span>
  41 |     | <span class='neutral'>   * @param _newMasterMinter The masterMinter address for the fiat token.</span>
  42 |     | <span class='neutral'>   * @param _newPauser       The pauser address for the fiat token.</span>
  43 |     | <span class='neutral'>   * @param _newBlacklister  The blacklister address for the fiat token.</span>
  44 |     | <span class='neutral'>   * @param _newOwner        The owner of the fiat token.</span>
  45 |     | <span class='neutral'>   */</span>
  46 |     | <span class='neutral'>  function initialize(</span>
  47 |     | <span class='neutral'>    string memory _tokenName,</span>
  48 |     | <span class='neutral'>    string memory _tokenSymbol,</span>
  49 |     | <span class='neutral'>    string memory _tokenCurrency,</span>
  50 |     | <span class='neutral'>    uint8 _tokenDecimals,</span>
  51 |     | <span class='neutral'>    address _newMasterMinter,</span>
  52 |     | <span class='neutral'>    address _newPauser,</span>
  53 |     | <span class='neutral'>    address _newBlacklister,</span>
  54 |     | <span class='neutral'>    address _newOwner</span>
  55 |     | <span class='neutral'>  ) external;</span>
  56 |     | <span class='neutral'></span>
  57 |     | <span class='neutral'>  /**</span>
  58 |     | <span class='neutral'>   * @dev Function to add/update a new minter</span>
  59 |     | <span class='neutral'>   * @param _minter The address of the minter</span>
  60 |     | <span class='neutral'>   * @param _minterAllowedAmount The minting amount allowed for the minter</span>
  61 |     | <span class='neutral'>   * @return _result True if the operation was successful.</span>
  62 |     | <span class='neutral'>   */</span>
  63 |     | <span class='neutral'>  function configureMinter(address _minter, uint256 _minterAllowedAmount) external returns (bool _result);</span>
  64 |     | <span class='neutral'></span>
  65 |     | <span class='neutral'>  /**</span>
  66 |     | <span class='neutral'>   * @notice Updates the master minter address.</span>
  67 |     | <span class='neutral'>   * @param _newMasterMinter The address of the new master minter.</span>
  68 |     | <span class='neutral'>   */</span>
  69 |     | <span class='neutral'>  function updateMasterMinter(address _newMasterMinter) external;</span>
  70 |     | <span class='neutral'></span>
  71 |     | <span class='neutral'>  /**</span>
  72 |     | <span class='neutral'>   * @notice Function to upgrade the usdc proxy to a new implementation</span>
  73 |     | <span class='neutral'>   * @param _newImplementation Address of the new implementation</span>
  74 |     | <span class='neutral'>   */</span>
  75 |     | <span class='neutral'>  function upgradeTo(address _newImplementation) external;</span>
  76 |     | <span class='neutral'></span>
  77 |     | <span class='neutral'>  /**</span>
  78 |     | <span class='neutral'>   * @notice Upgrades the USDC proxy to a new implementation and calls a function on the new implementation</span>
  79 |     | <span class='neutral'>   * @param _newImplementation Address of the new implementation</span>
  80 |     | <span class='neutral'>   * @param _data Data to call on the new implementation</span>
  81 |     | <span class='neutral'>   */</span>
  82 |     | <span class='neutral'>  function upgradeToAndCall(address _newImplementation, bytes calldata _data) external;</span>
  83 |     | <span class='neutral'></span>
  84 |     | <span class='neutral'>  /**</span>
  85 |     | <span class='neutral'>   * @notice Returns the current implementation address</span>
  86 |     | <span class='neutral'>   * @return _implementation Address of the current implementation</span>
  87 |     | <span class='neutral'>   */</span>
  88 |     | <span class='neutral'>  function implementation() external view returns (address _implementation);</span>
  89 |     | <span class='neutral'></span>
  90 |     | <span class='neutral'>  /**</span>
  91 |     | <span class='neutral'>   * @notice Returns the current master minter address</span>
  92 |     | <span class='neutral'>   * @return _masterMinter Address of the current master minter</span>
  93 |     | <span class='neutral'>   */</span>
  94 |     | <span class='neutral'>  function masterMinter() external view returns (address _masterMinter);</span>
  95 |     | <span class='neutral'></span>
  96 |     | <span class='neutral'>  /**</span>
  97 |     | <span class='neutral'>   * @notice Returns the current owner address</span>
  98 |     | <span class='neutral'>   * @return _owner Address of the current owner</span>
  99 |     | <span class='neutral'>   */</span>
 100 |     | <span class='neutral'>  function owner() external view returns (address _owner);</span>
 101 |     | <span class='neutral'></span>
 102 |     | <span class='neutral'>  /**</span>
 103 |     | <span class='neutral'>   * @return _currency The currency of the token</span>
 104 |     | <span class='neutral'>   */</span>
 105 |     | <span class='neutral'>  function currency() external view returns (string memory _currency);</span>
 106 |     | <span class='neutral'></span>
 107 |     | <span class='neutral'>  /**</span>
 108 |     | <span class='neutral'>   * @return _decimals The decimals of the token</span>
 109 |     | <span class='neutral'>   */</span>
 110 |     | <span class='neutral'>  function decimals() external view returns (uint8 _decimals);</span>
 111 |     | <span class='neutral'></span>
 112 |     | <span class='neutral'>  /**</span>
 113 |     | <span class='neutral'>   * @return _name The name of the token</span>
 114 |     | <span class='neutral'>   */</span>
 115 |     | <span class='neutral'>  function name() external view returns (string memory _name);</span>
 116 |     | <span class='neutral'></span>
 117 |     | <span class='neutral'>  /**</span>
 118 |     | <span class='neutral'>   * @return _symbol The symbol of the token</span>
 119 |     | <span class='neutral'>   */</span>
 120 |     | <span class='neutral'>  function symbol() external view returns (string memory _symbol);</span>
 121 |     | <span class='neutral'></span>
 122 |     | <span class='neutral'>  /**</span>
 123 |     | <span class='neutral'>   * @notice Checks if an account is a minter.</span>
 124 |     | <span class='neutral'>   * @param _account The address to check.</span>
 125 |     | <span class='neutral'>   * @return _isMinter True if the account is a minter, false if the account is not a minter.</span>
 126 |     | <span class='neutral'>   */</span>
 127 |     | <span class='neutral'>  function isMinter(address _account) external view returns (bool _isMinter);</span>
 128 |     | <span class='neutral'></span>
 129 |     | <span class='neutral'>  /**</span>
 130 |     | <span class='neutral'>   * @notice Returns the allowance of a minter</span>
 131 |     | <span class='neutral'>   * @param _minter The address of the minter</span>
 132 |     | <span class='neutral'>   * @return _allowance The minting amount allowed for the minter</span>
 133 |     | <span class='neutral'>   */</span>
 134 |     | <span class='neutral'>  function minterAllowance(address _minter) external view returns (uint256 _allowance);</span>
 135 |     | <span class='neutral'></span>
 136 |     | <span class='neutral'>  /**</span>
 137 |     | <span class='neutral'>   * @notice Returns the address of the current pauser</span>
 138 |     | <span class='neutral'>   * @return _pauser Address of the current pauser</span>
 139 |     | <span class='neutral'>   */</span>
 140 |     | <span class='neutral'>  function pauser() external view returns (address _pauser);</span>
 141 |     | <span class='neutral'></span>
 142 |     | <span class='neutral'>  /**</span>
 143 |     | <span class='neutral'>   * @notice Returns the address of the current blacklister</span>
 144 |     | <span class='neutral'>   * @return _blacklister Address of the current blacklister</span>
 145 |     | <span class='neutral'>   */</span>
 146 |     | <span class='neutral'>  function blacklister() external view returns (address _blacklister);</span>
 147 |     | <span class='neutral'></span>
 148 |     | <span class='neutral'>  /**</span>
 149 |     | <span class='neutral'>   * @notice Returns the address of the current admin</span>
 150 |     | <span class='neutral'>   * @return _admin Address of the current admin</span>
 151 |     | <span class='neutral'>   */</span>
 152 |     | <span class='neutral'>  function admin() external view returns (address _admin);</span>
 153 |     | <span class='neutral'>}</span>
 154 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/src/libraries/CrossChainDeployments.sol</b>
<code>
   1 |     | <span class='neutral'>pragma solidity 0.8.25;</span>
   2 |     | <span class='neutral'></span>
   3 |     | <span class='neutral'>import {L2OpUSDCFactory} from &#39;contracts/L2OpUSDCFactory.sol&#39;;</span>
   4 |     | <span class='neutral'>import {ICreate2Deployer} from &#39;interfaces/external/ICreate2Deployer.sol&#39;;</span>
   5 |     | <span class='neutral'>import {ICrossDomainMessenger} from &#39;interfaces/external/ICrossDomainMessenger.sol&#39;;</span>
   6 |     | <span class='neutral'></span>
   7 |     | <span class='neutral'>/**</span>
   8 |     | <span class='neutral'> * @title CrossChainDeployments</span>
   9 |     | <span class='neutral'> * @notice Library containing logic needed on the L1 Factory to properly deploy contracts on the L2.</span>
  10 |     | <span class='neutral'> * @dev Logic splitted here to reduce code size on the L1 Factory contract.</span>
  11 |     | <span class='neutral'> */</span>
  12 | *r  | <span class='executed'>library CrossChainDeployments {</span>
  13 |     | <span class='neutral'>  /// @notice RLP encoding deployer length prefix for calculating the address of a contract deployed through `CREATE`</span>
  14 |     | <span class='neutral'>  bytes1 internal constant _LEN = bytes1(0x94);</span>
  15 |     | <span class='neutral'></span>
  16 |     | <span class='neutral'>  /**</span>
  17 |     | <span class='neutral'>   * @notice Deploys the L2 factory contract through the L1 messenger</span>
  18 |     | <span class='neutral'>   * @param _args The initialization arguments for the L2 factory</span>
  19 |     | <span class='neutral'>   * @param _salt The salt to be used to deploy the L2 factory</span>
  20 |     | <span class='neutral'>   * @param _messenger The address of the L1 messenger</span>
  21 |     | <span class='neutral'>   * @param _create2Deployer The address of the L2 create2 deployer</span>
  22 |     | <span class='neutral'>   * @param _minGasLimit The minimum gas limit that the message can be executed with</span>
  23 |     | <span class='neutral'>   * @return _l2Factory The address of the L2 factory</span>
  24 |     | <span class='neutral'>   */</span>
  25 |     | <span class='unexecuted'>  function deployL2Factory(</span>
  26 |     | <span class='neutral'>    bytes memory _args,</span>
  27 |     | <span class='neutral'>    bytes32 _salt,</span>
  28 |     | <span class='neutral'>    address _messenger,</span>
  29 |     | <span class='neutral'>    address _create2Deployer,</span>
  30 |     | <span class='neutral'>    uint32 _minGasLimit</span>
  31 |     | <span class='unexecuted'>  ) external returns (address _l2Factory) {</span>
  32 |     | <span class='unexecuted'>    bytes memory _l2FactoryInitCode = bytes.concat(type(L2OpUSDCFactory).creationCode, _args);</span>
  33 |     | <span class='unexecuted'>    _l2Factory = precalculateCreate2Address(_salt, keccak256(_l2FactoryInitCode), _create2Deployer);</span>
  34 |     | <span class='neutral'></span>
  35 |     | <span class='unexecuted'>    bytes memory _l2FactoryDeploymentsTx =</span>
  36 |     | <span class='unexecuted'>      abi.encodeWithSelector(ICreate2Deployer.deploy.selector, 0, _salt, _l2FactoryInitCode);</span>
  37 |     | <span class='unexecuted'>    ICrossDomainMessenger(_messenger).sendMessage(_create2Deployer, _l2FactoryDeploymentsTx, _minGasLimit);</span>
  38 |     | <span class='neutral'>  }</span>
  39 |     | <span class='neutral'></span>
  40 |     | <span class='neutral'>  /**</span>
  41 |     | <span class='neutral'>   * @notice Precalculate and address to be deployed using the `CREATE2` opcode</span>
  42 |     | <span class='neutral'>   * @param _salt The 32-byte random value used to create the contract address.</span>
  43 |     | <span class='neutral'>   * @param _initCodeHash The 32-byte bytecode digest of the contract creation bytecode.</span>
  44 |     | <span class='neutral'>   * @param _deployer The 20-byte _deployer address.</span>
  45 |     | <span class='neutral'>   * @return _precalculatedAddress The 20-byte address where a contract will be stored.</span>
  46 |     | <span class='neutral'>   */</span>
  47 |     | <span class='unexecuted'>  function precalculateCreate2Address(</span>
  48 |     | <span class='neutral'>    bytes32 _salt,</span>
  49 |     | <span class='neutral'>    bytes32 _initCodeHash,</span>
  50 |     | <span class='neutral'>    address _deployer</span>
  51 |     | <span class='unexecuted'>  ) internal pure returns (address _precalculatedAddress) {</span>
  52 |     | <span class='neutral'>    assembly (&quot;memory-safe&quot;) {</span>
  53 |     | <span class='unexecuted'>      let _ptr := mload(0x40)</span>
  54 |     | <span class='unexecuted'>      mstore(add(_ptr, 0x40), _initCodeHash)</span>
  55 |     | <span class='unexecuted'>      mstore(add(_ptr, 0x20), _salt)</span>
  56 |     | <span class='unexecuted'>      mstore(_ptr, _deployer)</span>
  57 |     | <span class='unexecuted'>      let _start := add(_ptr, 0x0b)</span>
  58 |     | <span class='unexecuted'>      mstore8(_start, 0xff)</span>
  59 |     | <span class='unexecuted'>      _precalculatedAddress := keccak256(_start, 85)</span>
  60 |     | <span class='neutral'>    }</span>
  61 |     | <span class='neutral'>  }</span>
  62 |     | <span class='neutral'></span>
  63 |     | <span class='neutral'>  /**</span>
  64 |     | <span class='neutral'>   * @notice Precalculates the address of a contract that will be deployed thorugh `CREATE` opcode</span>
  65 |     | <span class='neutral'>   * @param _deployer The deployer address</span>
  66 |     | <span class='neutral'>   * @param _nonce The next nonce of the deployer address</span>
  67 |     | <span class='neutral'>   * @return _precalculatedAddress The address where the contract will be stored</span>
  68 |     | <span class='neutral'>   * @dev Only works for nonces between 1 and (2 ** 64 - 2), which is enough for this use case</span>
  69 |     | <span class='neutral'>   */</span>
  70 |     | <span class='unexecuted'>  function precalculateCreateAddress(</span>
  71 |     | <span class='neutral'>    address _deployer,</span>
  72 |     | <span class='neutral'>    uint256 _nonce</span>
  73 |     | <span class='unexecuted'>  ) internal pure returns (address _precalculatedAddress) {</span>
  74 |     | <span class='unexecuted'>    bytes memory _data;</span>
  75 |     | <span class='neutral'></span>
  76 |     | <span class='neutral'>    // A one-byte integer in the [0x00, 0x7f] range uses its own value as a length prefix, there is no</span>
  77 |     | <span class='neutral'>    // additional &quot;0x80 + length&quot; prefix that precedes it.</span>
  78 |     | <span class='neutral'>    // A one-byte integer in the [0x00, 0x7f] range uses its own value as a length prefix, there is no</span>
  79 |     | <span class='neutral'>    // additional &quot;0x80 + length&quot; prefix that precedes it.</span>
  80 |     | <span class='unexecuted'>    if (_nonce &lt;= 0x7f) {</span>
  81 |     | <span class='unexecuted'>      _data = abi.encodePacked(bytes1(0xd6), _LEN, _deployer, uint8(_nonce));</span>
  82 |     | <span class='neutral'>    }</span>
  83 |     | <span class='neutral'>    // In the case of `_nonce &gt; 0x7f` and `_nonce &lt;= type(uint8).max`, we have the following encoding scheme</span>
  84 |     | <span class='neutral'>    // (the same calculation can be carried over for higher _nonce bytes):</span>
  85 |     | <span class='neutral'>    // 0xda = 0xc0 (short RLP prefix) + 0x1a (= the bytes length of: 0x94 + address + 0x84 + _nonce, in hex),</span>
  86 |     | <span class='neutral'>    // 0x94 = 0x80 + 0x14 (= the bytes length of an address, 20 bytes, in hex),</span>
  87 |     | <span class='neutral'>    // 0x84 = 0x80 + 0x04 (= the bytes length of the _nonce, 4 bytes, in hex).</span>
  88 |     | <span class='unexecuted'>    else if (_nonce &lt;= type(uint8).max) {</span>
  89 |     | <span class='unexecuted'>      _data = abi.encodePacked(bytes1(0xd7), _LEN, _deployer, bytes1(0x81), uint8(_nonce));</span>
  90 |     | <span class='unexecuted'>    } else if (_nonce &lt;= type(uint16).max) {</span>
  91 |     | <span class='unexecuted'>      _data = abi.encodePacked(bytes1(0xd8), _LEN, _deployer, bytes1(0x82), uint16(_nonce));</span>
  92 |     | <span class='unexecuted'>    } else if (_nonce &lt;= type(uint24).max) {</span>
  93 |     | <span class='unexecuted'>      _data = abi.encodePacked(bytes1(0xd9), _LEN, _deployer, bytes1(0x83), uint24(_nonce));</span>
  94 |     | <span class='unexecuted'>    } else if (_nonce &lt;= type(uint32).max) {</span>
  95 |     | <span class='unexecuted'>      _data = abi.encodePacked(bytes1(0xda), _LEN, _deployer, bytes1(0x84), uint32(_nonce));</span>
  96 |     | <span class='unexecuted'>    } else if (_nonce &lt;= type(uint40).max) {</span>
  97 |     | <span class='unexecuted'>      _data = abi.encodePacked(bytes1(0xdb), _LEN, _deployer, bytes1(0x85), uint40(_nonce));</span>
  98 |     | <span class='unexecuted'>    } else if (_nonce &lt;= type(uint48).max) {</span>
  99 |     | <span class='unexecuted'>      _data = abi.encodePacked(bytes1(0xdc), _LEN, _deployer, bytes1(0x86), uint48(_nonce));</span>
 100 |     | <span class='unexecuted'>    } else if (_nonce &lt;= type(uint56).max) {</span>
 101 |     | <span class='unexecuted'>      _data = abi.encodePacked(bytes1(0xdd), _LEN, _deployer, bytes1(0x87), uint56(_nonce));</span>
 102 |     | <span class='neutral'>    } else {</span>
 103 |     | <span class='unexecuted'>      _data = abi.encodePacked(bytes1(0xde), _LEN, _deployer, bytes1(0x88), uint64(_nonce));</span>
 104 |     | <span class='neutral'>    }</span>
 105 |     | <span class='neutral'></span>
 106 |     | <span class='unexecuted'>    _precalculatedAddress = address(uint160(uint256(keccak256(_data))));</span>
 107 |     | <span class='neutral'>  }</span>
 108 |     | <span class='neutral'>}</span>
 109 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/test/invariants/AdvancedTestsUtils.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: UNLICENSED</span>
  2 |     | <span class='neutral'>pragma solidity 0.8.25;</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>import {MockERC20} from &#39;forge-std/mocks/MockERC20.sol&#39;;</span>
  5 |     | <span class='neutral'>import {SymTest} from &#39;halmos-cheatcodes/SymTest.sol&#39;;</span>
  6 |     | <span class='neutral'></span>
  7 |     | <span class='neutral'>interface IHevm {</span>
  8 |     | <span class='neutral'>  // Set block.timestamp to newTimestamp</span>
  9 |     | <span class='neutral'>  function warp(uint256 newTimestamp) external;</span>
 10 |     | <span class='neutral'></span>
 11 |     | <span class='neutral'>  // Set block.number to newNumber</span>
 12 |     | <span class='neutral'>  function roll(uint256 newNumber) external;</span>
 13 |     | <span class='neutral'></span>
 14 |     | <span class='neutral'>  // Add the condition b to the assumption base for the current branch</span>
 15 |     | <span class='neutral'>  // This function is almost identical to require</span>
 16 |     | <span class='neutral'>  function assume(bool b) external;</span>
 17 |     | <span class='neutral'></span>
 18 |     | <span class='neutral'>  // Sets the eth balance of usr to amt</span>
 19 |     | <span class='neutral'>  function deal(address usr, uint256 amt) external;</span>
 20 |     | <span class='neutral'></span>
 21 |     | <span class='neutral'>  // Loads a storage slot from an address</span>
 22 |     | <span class='neutral'>  function load(address where, bytes32 slot) external returns (bytes32);</span>
 23 |     | <span class='neutral'></span>
 24 |     | <span class='neutral'>  // Stores a value to an address&#39; storage slot</span>
 25 |     | <span class='neutral'>  function store(address where, bytes32 slot, bytes32 value) external;</span>
 26 |     | <span class='neutral'></span>
 27 |     | <span class='neutral'>  // Signs data (privateKey, digest) =&gt; (v, r, s)</span>
 28 |     | <span class='neutral'>  function sign(uint256 privateKey, bytes32 digest) external returns (uint8 v, bytes32 r, bytes32 s);</span>
 29 |     | <span class='neutral'></span>
 30 |     | <span class='neutral'>  // Gets address for a given private key</span>
 31 |     | <span class='neutral'>  function addr(uint256 privateKey) external returns (address addr);</span>
 32 |     | <span class='neutral'></span>
 33 |     | <span class='neutral'>  // Performs a foreign function call via terminal</span>
 34 |     | <span class='neutral'>  function ffi(string[] calldata inputs) external returns (bytes memory result);</span>
 35 |     | <span class='neutral'></span>
 36 |     | <span class='neutral'>  // Performs the next smart contract call with specified `msg.sender`</span>
 37 |     | <span class='neutral'>  function prank(address newSender) external;</span>
 38 |     | <span class='neutral'></span>
 39 |     | <span class='neutral'>  // Creates a new fork with the given endpoint and the latest block and returns the identifier of the fork</span>
 40 |     | <span class='neutral'>  function createFork(string calldata urlOrAlias) external returns (uint256);</span>
 41 |     | <span class='neutral'></span>
 42 |     | <span class='neutral'>  // Takes a fork identifier created by createFork and sets the corresponding forked state as active</span>
 43 |     | <span class='neutral'>  function selectFork(uint256 forkId) external;</span>
 44 |     | <span class='neutral'></span>
 45 |     | <span class='neutral'>  // Returns the identifier of the current fork</span>
 46 |     | <span class='neutral'>  function activeFork() external returns (uint256);</span>
 47 |     | <span class='neutral'></span>
 48 |     | <span class='neutral'>  // Labels the address in traces</span>
 49 |     | <span class='neutral'>  function label(address addr, string calldata label) external;</span>
 50 |     | <span class='neutral'>}</span>
 51 |     | <span class='neutral'></span>
 52 |     | <span class='unexecuted'>contract FuzzERC20 is MockERC20 {</span>
 53 |     | <span class='unexecuted'>  function mint(address _to, uint256 _amount) public {</span>
 54 |     | <span class='unexecuted'>    _mint(_to, _amount);</span>
 55 |     | <span class='neutral'>  }</span>
 56 |     | <span class='neutral'></span>
 57 |     | <span class='unexecuted'>  function burn(address _from, uint256 _amount) public {</span>
 58 |     | <span class='unexecuted'>    _burn(_from, _amount);</span>
 59 |     | <span class='neutral'>  }</span>
 60 |     | <span class='neutral'>}</span>
 61 |     | <span class='neutral'></span>
 62 |     | <span class='unexecuted'>contract AgentsHandler {</span>
 63 |     | <span class='neutral'>  uint256 internal agentsIndex;</span>
 64 |     | <span class='neutral'>  address[] internal agents;</span>
 65 |     | <span class='neutral'></span>
 66 |     | <span class='neutral'>  address internal currentCaller;</span>
 67 |     | <span class='neutral'></span>
 68 |     | <span class='unexecuted'>  modifier AgentOrDeployer() {</span>
 69 | *   | <span class='executed'>    uint256 _currentAgentIndex = agentsIndex;</span>
 70 | *   | <span class='executed'>    currentCaller = _currentAgentIndex == 0 ? address(this) : agents[agentsIndex];</span>
 71 |     | <span class='neutral'>    _;</span>
 72 |     | <span class='neutral'>  }</span>
 73 |     | <span class='neutral'></span>
 74 |     | <span class='unexecuted'>  constructor(uint256 _numAgents) {</span>
 75 |     | <span class='unexecuted'>    for (uint256 i = 0; i &lt; _numAgents; i++) {</span>
 76 |     | <span class='unexecuted'>      agents.push(address(bytes20(keccak256(abi.encodePacked(i)))));</span>
 77 |     | <span class='neutral'>    }</span>
 78 |     | <span class='neutral'>  }</span>
 79 |     | <span class='neutral'></span>
 80 | *   | <span class='executed'>  function nextAgent() public {</span>
 81 | *   | <span class='executed'>    agentsIndex = (agentsIndex + 1) % agents.length;</span>
 82 |     | <span class='neutral'>  }</span>
 83 |     | <span class='neutral'></span>
 84 | *   | <span class='executed'>  function getCurrentAgent() public view returns (address) {</span>
 85 | *   | <span class='executed'>    return agents[agentsIndex];</span>
 86 |     | <span class='neutral'>  }</span>
 87 |     | <span class='neutral'>}</span>
 88 |     | <span class='neutral'></span>
 89 |     | <span class='unexecuted'>contract EchidnaTest is AgentsHandler {</span>
 90 |     | <span class='neutral'>  event AssertionFailed();</span>
 91 |     | <span class='neutral'></span>
 92 |     | <span class='unexecuted'>  IHevm hevm = IHevm(0x7109709ECfa91a80626fF3989D68f67F5b1DD12D);</span>
 93 |     | <span class='neutral'></span>
 94 |     | <span class='unexecuted'>  constructor() AgentsHandler(5) {}</span>
 95 |     | <span class='neutral'>}</span>
 96 |     | <span class='neutral'></span>
 97 |     | <span class='unexecuted'>contract HalmosTest is SymTest {}</span>
 98 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/test/invariants/fuzz/Create2Deployer.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: UNLICENSED</span>
  2 |     | <span class='neutral'>pragma solidity 0.8.25;</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>// Identical to the OZ implementation used</span>
  5 | *r  | <span class='executed'>contract Create2Deployer {</span>
  6 |     | <span class='neutral'>  // solhint-disable custom-errors</span>
  7 | *   | <span class='executed'>  function deploy(uint256 _value, bytes32 _salt, bytes memory _initCode) public returns (address) {</span>
  8 | *   | <span class='executed'>    address addr;</span>
  9 | *r  | <span class='executed'>    require(address(this).balance &gt;= _value, &#39;Create2: insufficient balance&#39;);</span>
 10 | *   | <span class='executed'>    require(_initCode.length != 0, &#39;Create2: bytecode length is zero&#39;);</span>
 11 |     | <span class='neutral'></span>
 12 |     | <span class='neutral'>    assembly {</span>
 13 | *   | <span class='executed'>      addr := create2(_value, add(_initCode, 0x20), mload(_initCode), _salt)</span>
 14 |     | <span class='neutral'>    }</span>
 15 | *   | <span class='executed'>    require(addr != address(0), &#39;Create2: Failed on deploy&#39;);</span>
 16 |     | <span class='neutral'></span>
 17 | *   | <span class='executed'>    return addr;</span>
 18 |     | <span class='neutral'>  }</span>
 19 |     | <span class='neutral'>}</span>
 20 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/test/invariants/fuzz/MockBridge.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: UNLICENSED</span>
  2 |     | <span class='neutral'>pragma solidity 0.8.25;</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>import {ITestCrossDomainMessenger} from &#39;test/utils/interfaces/ITestCrossDomainMessenger.sol&#39;;</span>
  5 |     | <span class='neutral'></span>
  6 |     | <span class='neutral'>// Relay any message</span>
  7 | *   | <span class='executed'>contract MockBridge is ITestCrossDomainMessenger {</span>
  8 | *   | <span class='executed'>  uint256 public messageNonce;</span>
  9 | *r  | <span class='executed'>  address public l1Adapter;</span>
 10 |     | <span class='neutral'></span>
 11 |     | <span class='neutral'>  address internal _currentXDomSender;</span>
 12 |     | <span class='neutral'></span>
 13 | *r  | <span class='executed'>  function OTHER_MESSENGER() external view returns (address) {</span>
 14 |     | <span class='neutral'>    return address(0);</span>
 15 |     | <span class='neutral'>  }</span>
 16 |     | <span class='neutral'></span>
 17 | *   | <span class='executed'>  function xDomainMessageSender() external view returns (address) {</span>
 18 | *   | <span class='executed'>    return _currentXDomSender;</span>
 19 |     | <span class='neutral'>  }</span>
 20 |     | <span class='neutral'></span>
 21 | *   | <span class='executed'>  function sendMessage(address _target, bytes calldata _message, uint32 _minGasLimit) external {</span>
 22 | *   | <span class='executed'>    _currentXDomSender = msg.sender;</span>
 23 | *   | <span class='executed'>    messageNonce++;</span>
 24 | *   | <span class='executed'>    _target.call(_message);</span>
 25 |     | <span class='neutral'>  }</span>
 26 |     | <span class='neutral'></span>
 27 | *   | <span class='executed'>  function relayMessage(</span>
 28 |     | <span class='neutral'>    uint256 _nonce,</span>
 29 |     | <span class='neutral'>    address _sender,</span>
 30 |     | <span class='neutral'>    address _target,</span>
 31 |     | <span class='neutral'>    uint256 _value,</span>
 32 |     | <span class='neutral'>    uint256 _minGasLimit,</span>
 33 |     | <span class='neutral'>    bytes calldata _message</span>
 34 | *   | <span class='executed'>  ) external payable {</span>
 35 | *   | <span class='executed'>    _currentXDomSender = msg.sender;</span>
 36 | *   | <span class='executed'>    messageNonce++;</span>
 37 | *   | <span class='executed'>    (bool succ, bytes memory ret) = _target.call{value: _value}(_message);</span>
 38 |     | <span class='neutral'></span>
 39 | *   | <span class='executed'>    if (!succ) {</span>
 40 | *r  | <span class='executed'>      revert(string(ret));</span>
 41 |     | <span class='neutral'>    }</span>
 42 |     | <span class='neutral'>  }</span>
 43 |     | <span class='neutral'>}</span>
 44 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/test/invariants/fuzz/OpUSDC.t.sol</b>
<code>
   1 |     | <span class='neutral'>// SPDX-License-Identifier: UNLICENSED</span>
   2 |     | <span class='neutral'>pragma solidity 0.8.25;</span>
   3 |     | <span class='neutral'></span>
   4 |     | <span class='neutral'>import {SetupOpUSDC} from &#39;./SetupOpUSDC.sol&#39;;</span>
   5 |     | <span class='neutral'>import {IL1OpUSDCBridgeAdapter} from &#39;interfaces/IL1OpUSDCBridgeAdapter.sol&#39;;</span>
   6 |     | <span class='neutral'></span>
   7 |     | <span class='neutral'>//solhint-disable custom-errors</span>
   8 | *r  | <span class='executed'>contract OpUsdcTest is SetupOpUSDC {</span>
   9 |     | <span class='neutral'>  /////////////////////////////////////////////////////////////////////</span>
  10 |     | <span class='neutral'>  //                         Ghost variables                         //</span>
  11 |     | <span class='neutral'>  /////////////////////////////////////////////////////////////////////</span>
  12 |     | <span class='neutral'></span>
  13 |     | <span class='neutral'>  uint256 internal _L1PreviousUserNonce;</span>
  14 |     | <span class='neutral'>  uint256 internal _L1CurrentUserNonce;</span>
  15 |     | <span class='neutral'>  address internal _xdomSenderDuringCall; // Who called a previous function (amongst the agents)</span>
  16 |     | <span class='neutral'></span>
  17 |     | <span class='neutral'>  /////////////////////////////////////////////////////////////////////</span>
  18 |     | <span class='neutral'>  //                           Properties                            //</span>
  19 |     | <span class='neutral'>  /////////////////////////////////////////////////////////////////////</span>
  20 |     | <span class='neutral'></span>
  21 |     | <span class='neutral'>  // debug: echidna debug setup</span>
  22 | *   | <span class='executed'>  function fuzz_testDeployments() public {</span>
  23 | *   | <span class='executed'>    assert(l2Adapter.LINKED_ADAPTER() == address(l1Adapter));</span>
  24 |     | <span class='unexecuted'>    assert(l2Adapter.MESSENGER() == address(mockMessenger));</span>
  25 |     | <span class='unexecuted'>    assert(l2Adapter.USDC() == address(usdcBridged));</span>
  26 |     | <span class='neutral'></span>
  27 |     | <span class='unexecuted'>    assert(l1Adapter.LINKED_ADAPTER() == address(l2Adapter));</span>
  28 |     | <span class='unexecuted'>    assert(l1Adapter.MESSENGER() == address(mockMessenger));</span>
  29 |     | <span class='unexecuted'>    assert(l1Adapter.USDC() == address(usdcMainnet));</span>
  30 |     | <span class='neutral'>  }</span>
  31 |     | <span class='neutral'></span>
  32 |     | <span class='neutral'>  // todo: craft valid signature for the overloaded send mnessage</span>
  33 |     | <span class='neutral'>  // New messages should not be sent if the state is not active 1</span>
  34 | *   | <span class='executed'>  function fuzz_noMessageIfNotActiveL1(address _to, uint256 _amount, uint32 _minGasLimit) public AgentOrDeployer {</span>
  35 |     | <span class='neutral'>    // Precondition</span>
  36 |     | <span class='neutral'>    // todo: clean this mess</span>
  37 |     | <span class='neutral'>    // todo: modifiers for balance of and mint/approval</span>
  38 |     | <span class='neutral'></span>
  39 |     | <span class='neutral'>    // Insure we&#39;re using the correct xdom sender</span>
  40 | *   | <span class='executed'>    require(mockMessenger.xDomainMessageSender() == address(l1Adapter));</span>
  41 |     | <span class='neutral'></span>
  42 |     | <span class='neutral'>    // Avoid balance overflow</span>
  43 |     | <span class='unexecuted'>    require(usdcMainnet.balanceOf(_to) &lt; 2 ** 255 - 1 - _amount);</span>
  44 |     | <span class='unexecuted'>    require(usdcBridged.balanceOf(_to) &lt; 2 ** 255 - 1 - _amount);</span>
  45 |     | <span class='unexecuted'>    require(usdcMainnet.balanceOf(address(l1Adapter)) &lt; 2 ** 255 - 1 - _amount);</span>
  46 |     | <span class='neutral'></span>
  47 |     | <span class='neutral'>    // usdc init v2 black list usdc address itself</span>
  48 |     | <span class='unexecuted'>    require(_to != address(0) &amp;&amp; _to != address(usdcMainnet) &amp;&amp; _to != address(usdcBridged));</span>
  49 |     | <span class='neutral'></span>
  50 |     | <span class='neutral'>    // provided enough usdc on l1</span>
  51 |     | <span class='unexecuted'>    require(_amount &gt; 0);</span>
  52 |     | <span class='unexecuted'>    hevm.prank(_usdcMinter);</span>
  53 |     | <span class='unexecuted'>    usdcMainnet.mint(currentCaller, _amount);</span>
  54 |     | <span class='neutral'></span>
  55 |     | <span class='unexecuted'>    hevm.prank(currentCaller);</span>
  56 |     | <span class='unexecuted'>    usdcMainnet.approve(address(l1Adapter), _amount);</span>
  57 |     | <span class='neutral'></span>
  58 |     | <span class='unexecuted'>    uint256 _toBalanceBefore = usdcBridged.balanceOf(_to);</span>
  59 |     | <span class='unexecuted'>    uint256 _fromBalanceBefore = usdcMainnet.balanceOf(currentCaller);</span>
  60 |     | <span class='neutral'></span>
  61 |     | <span class='unexecuted'>    hevm.prank(currentCaller);</span>
  62 |     | <span class='neutral'></span>
  63 |     | <span class='neutral'>    // Action</span>
  64 |     | <span class='unexecuted'>    try l1Adapter.sendMessage(_to, _amount, _minGasLimit) {</span>
  65 |     | <span class='neutral'>      // Postcondition</span>
  66 |     | <span class='unexecuted'>      assert(l1Adapter.messengerStatus() == IL1OpUSDCBridgeAdapter.Status.Active);</span>
  67 |     | <span class='unexecuted'>      assert(usdcBridged.balanceOf(_to) == _toBalanceBefore + _amount);</span>
  68 |     | <span class='unexecuted'>      assert(usdcMainnet.balanceOf(currentCaller) == _fromBalanceBefore - _amount);</span>
  69 |     | <span class='neutral'>    } catch {</span>
  70 |     | <span class='neutral'>      // fails either because of wrong xdom msg sender or because of the status, but xdom sender is constrained in precond</span>
  71 |     | <span class='unexecuted'>      assert(l1Adapter.messengerStatus() != IL1OpUSDCBridgeAdapter.Status.Active);</span>
  72 |     | <span class='unexecuted'>      assert(usdcBridged.balanceOf(_to) == _toBalanceBefore);</span>
  73 |     | <span class='unexecuted'>      assert(usdcMainnet.balanceOf(currentCaller) == _fromBalanceBefore);</span>
  74 |     | <span class='neutral'>    }</span>
  75 |     | <span class='neutral'>  }</span>
  76 |     | <span class='neutral'></span>
  77 |     | <span class='neutral'>  // todo: craft valid signature for the overloaded send mnessage</span>
  78 |     | <span class='neutral'>  // New messages should not be sent if the state is not active 1</span>
  79 |     | <span class='neutral'>  // User who bridges tokens should receive them on the destination chain 2</span>
  80 |     | <span class='neutral'>  // Amount locked on L1 == amount minted on L2 3</span>
  81 | *   | <span class='executed'>  function fuzz_noMessageIfNotActiveL2(address _to, uint256 _amount, uint32 _minGasLimit) public AgentOrDeployer {</span>
  82 |     | <span class='neutral'>    // Insure we&#39;re using the correct xdom sender</span>
  83 | *   | <span class='executed'>    require(mockMessenger.xDomainMessageSender() == address(l2Adapter));</span>
  84 |     | <span class='neutral'></span>
  85 |     | <span class='neutral'>    // Avoid balance overflow</span>
  86 |     | <span class='unexecuted'>    require(usdcMainnet.balanceOf(_to) &lt; 2 ** 255 - 1 - _amount);</span>
  87 |     | <span class='unexecuted'>    require(usdcBridged.balanceOf(_to) &lt; 2 ** 255 - 1 - _amount);</span>
  88 |     | <span class='neutral'></span>
  89 |     | <span class='neutral'>    // usdc init v2 black list usdc address itself</span>
  90 |     | <span class='unexecuted'>    require(!(_to == address(0) || _to == address(usdcBridged)));</span>
  91 |     | <span class='neutral'></span>
  92 |     | <span class='neutral'>    // provided enough usdc on l1</span>
  93 |     | <span class='unexecuted'>    require(_amount &gt; 0);</span>
  94 |     | <span class='unexecuted'>    require(usdcBridged.balanceOf(currentCaller) &gt;= _amount);</span>
  95 |     | <span class='neutral'></span>
  96 |     | <span class='unexecuted'>    hevm.prank(currentCaller);</span>
  97 |     | <span class='unexecuted'>    usdcBridged.approve(address(l2Adapter), _amount);</span>
  98 |     | <span class='neutral'></span>
  99 |     | <span class='unexecuted'>    uint256 _fromBalanceBefore = usdcBridged.balanceOf(currentCaller);</span>
 100 |     | <span class='unexecuted'>    uint256 _toBalanceBefore = usdcMainnet.balanceOf(_to);</span>
 101 |     | <span class='neutral'></span>
 102 |     | <span class='unexecuted'>    hevm.prank(currentCaller);</span>
 103 |     | <span class='neutral'></span>
 104 |     | <span class='neutral'>    // Action</span>
 105 |     | <span class='unexecuted'>    try l2Adapter.sendMessage(_to, _amount, _minGasLimit) {</span>
 106 |     | <span class='neutral'>      // Postcondition</span>
 107 |     | <span class='neutral'>      // 1</span>
 108 |     | <span class='unexecuted'>      assert(!l2Adapter.isMessagingDisabled());</span>
 109 |     | <span class='neutral'></span>
 110 |     | <span class='neutral'>      // 2</span>
 111 |     | <span class='unexecuted'>      assert(usdcBridged.balanceOf(currentCaller) == _fromBalanceBefore - _amount);</span>
 112 |     | <span class='unexecuted'>      assert(usdcMainnet.balanceOf(_to) == _toBalanceBefore + _amount);</span>
 113 |     | <span class='neutral'></span>
 114 |     | <span class='neutral'>      // 3</span>
 115 |     | <span class='unexecuted'>      assert(usdcMainnet.balanceOf(address(l1Adapter)) == usdcBridged.totalSupply());</span>
 116 |     | <span class='neutral'>    } catch {</span>
 117 |     | <span class='neutral'>      // 1</span>
 118 |     | <span class='unexecuted'>      assert(l2Adapter.isMessagingDisabled());</span>
 119 |     | <span class='neutral'></span>
 120 |     | <span class='neutral'>      // 2</span>
 121 |     | <span class='unexecuted'>      assert(usdcBridged.balanceOf(currentCaller) == _fromBalanceBefore);</span>
 122 |     | <span class='unexecuted'>      assert(usdcMainnet.balanceOf(_to) == _toBalanceBefore);</span>
 123 |     | <span class='neutral'>    }</span>
 124 |     | <span class='neutral'>  }</span>
 125 |     | <span class='neutral'></span>
 126 |     | <span class='neutral'>  // Both adapters state should match 4</span>
 127 | *   | <span class='executed'>  function fuzz_assertAdapterStateCongruency() public {</span>
 128 |     | <span class='neutral'>    // Precondition</span>
 129 |     | <span class='neutral'>    // Should be the correct cross dom message sender (the L1 Adapter) when L1 send a new state to L2</span>
 130 |     | <span class='neutral'></span>
 131 |     | <span class='neutral'>    // Postcondition</span>
 132 |     | <span class='neutral'>    // 4</span>
 133 |     | <span class='unexecuted'>    assert(</span>
 134 | *   | <span class='executed'>      l1Adapter.messengerStatus() != IL1OpUSDCBridgeAdapter.Status.Active</span>
 135 |     | <span class='unexecuted'>        ? l2Adapter.isMessagingDisabled()</span>
 136 |     | <span class='unexecuted'>        : !l2Adapter.isMessagingDisabled()</span>
 137 |     | <span class='neutral'>    );</span>
 138 |     | <span class='neutral'>  }</span>
 139 |     | <span class='neutral'></span>
 140 |     | <span class='neutral'>  // user nonce should be monotonically increasing  5</span>
 141 | *   | <span class='executed'>  function fuzz_L1NonceIncremental() public {</span>
 142 | *   | <span class='executed'>    if (_L1CurrentUserNonce == 0) {</span>
 143 | *   | <span class='executed'>      assert(l1Adapter.userNonce(currentCaller) == 0);</span>
 144 |     | <span class='neutral'>    } else {</span>
 145 |     | <span class='unexecuted'>      assert(_L1PreviousUserNonce == _L1CurrentUserNonce - 1);</span>
 146 |     | <span class='neutral'>    }</span>
 147 |     | <span class='neutral'>  }</span>
 148 |     | <span class='neutral'></span>
 149 |     | <span class='neutral'>  // Locked USDC on L1adapter should be able to be burned only if L1 adapter is deprecated</span>
 150 | *   | <span class='executed'>  function fuzz_BurnLockedUSDC() public {</span>
 151 |     | <span class='neutral'>    // Enable l1 adapter to burn locked usdc</span>
 152 | *   | <span class='executed'>    hevm.prank(usdcMainnet.masterMinter());</span>
 153 |     | <span class='unexecuted'>    usdcMainnet.configureMinter(address(l1Adapter), type(uint256).max);</span>
 154 |     | <span class='neutral'></span>
 155 |     | <span class='unexecuted'>    hevm.prank(l1Adapter.newOwner());</span>
 156 |     | <span class='unexecuted'>    try l1Adapter.burnLockedUSDC() {</span>
 157 |     | <span class='unexecuted'>      assert(l1Adapter.messengerStatus() == IL1OpUSDCBridgeAdapter.Status.Deprecated);</span>
 158 |     | <span class='neutral'>    } catch {</span>
 159 |     | <span class='unexecuted'>      assert(l1Adapter.messengerStatus() != IL1OpUSDCBridgeAdapter.Status.Deprecated);</span>
 160 |     | <span class='neutral'>    }</span>
 161 |     | <span class='neutral'>  }</span>
 162 |     | <span class='neutral'></span>
 163 |     | <span class='neutral'>  /////////////////////////////////////////////////////////////////////</span>
 164 |     | <span class='neutral'>  //                Expose target contract selectors                 //</span>
 165 |     | <span class='neutral'>  /////////////////////////////////////////////////////////////////////</span>
 166 |     | <span class='neutral'></span>
 167 |     | <span class='neutral'>  // Expose all selectors from the adapter, pranked and with ghost variables if needed</span>
 168 |     | <span class='neutral'>  // Caller is one of the agents (incl the deployer/initial owner)</span>
 169 | *   | <span class='executed'>  function generateCallAdapterL1(</span>
 170 |     | <span class='neutral'>    uint256 _selectorIndex,</span>
 171 |     | <span class='neutral'>    address _addressA,</span>
 172 |     | <span class='neutral'>    address _addressB,</span>
 173 |     | <span class='neutral'>    uint256 _uintA,</span>
 174 |     | <span class='neutral'>    uint256 _uintB,</span>
 175 |     | <span class='neutral'>    bytes calldata _bytesA,</span>
 176 |     | <span class='neutral'>    uint32 _uint32A,</span>
 177 |     | <span class='neutral'>    uint32 _uint32B</span>
 178 |     | <span class='neutral'>  ) public AgentOrDeployer {</span>
 179 | *   | <span class='executed'>    _selectorIndex = _selectorIndex % 8;</span>
 180 |     | <span class='neutral'></span>
 181 | *   | <span class='executed'>    hevm.prank(currentCaller);</span>
 182 |     | <span class='neutral'></span>
 183 | *   | <span class='executed'>    if (_selectorIndex == 0) {</span>
 184 |     | <span class='neutral'>      // Do not make assumption on nonce logic here, just collect them</span>
 185 | *   | <span class='executed'>      uint256 _initialNonce = l1Adapter.userNonce(currentCaller);</span>
 186 |     | <span class='neutral'></span>
 187 |     | <span class='unexecuted'>      hevm.prank(currentCaller);</span>
 188 |     | <span class='unexecuted'>      try l1Adapter.sendMessage(_addressA, _uintA, _uint32A) {</span>
 189 |     | <span class='unexecuted'>        _L1PreviousUserNonce = _initialNonce;</span>
 190 |     | <span class='unexecuted'>        _L1CurrentUserNonce = l1Adapter.userNonce(currentCaller);</span>
 191 |     | <span class='neutral'>      } catch {}</span>
 192 | *   | <span class='executed'>    } else if (_selectorIndex == 1) {</span>
 193 | *r  | <span class='executed'>      try l1Adapter.sendMessage(_addressA, _addressB, _uintA, _bytesA, _uintB, _uint32A) {} catch {}</span>
 194 | *   | <span class='executed'>    } else if (_selectorIndex == 2) {</span>
 195 | *   | <span class='executed'>      try l1Adapter.receiveMessage(_addressA, _uintA) {} catch {}</span>
 196 | *   | <span class='executed'>    } else if (_selectorIndex == 3) {</span>
 197 | *   | <span class='executed'>      try l1Adapter.migrateToNative(_addressA, _uint32A, _uint32B) {} catch {}</span>
 198 | *   | <span class='executed'>    } else if (_selectorIndex == 4) {</span>
 199 | *   | <span class='executed'>      try l1Adapter.setBurnAmount(_uintA) {} catch {}</span>
 200 | *   | <span class='executed'>    } else if (_selectorIndex == 5) {</span>
 201 | *r  | <span class='executed'>      try l1Adapter.burnLockedUSDC() {} catch {}</span>
 202 | *   | <span class='executed'>    } else if (_selectorIndex == 6) {</span>
 203 | *   | <span class='executed'>      try l1Adapter.stopMessaging(_uint32A) {} catch {}</span>
 204 |     | <span class='neutral'>    } else {</span>
 205 | *r  | <span class='executed'>      try l1Adapter.resumeMessaging(_uint32A) {} catch {}</span>
 206 |     | <span class='neutral'>    }</span>
 207 |     | <span class='neutral'>  }</span>
 208 |     | <span class='neutral'></span>
 209 | *   | <span class='executed'>  function generateCallAdapterL2(</span>
 210 |     | <span class='neutral'>    uint256 _selectorIndex,</span>
 211 |     | <span class='neutral'>    address _addressA,</span>
 212 |     | <span class='neutral'>    address _addressB,</span>
 213 |     | <span class='neutral'>    uint256 _uintA,</span>
 214 |     | <span class='neutral'>    uint256 _uintB,</span>
 215 |     | <span class='neutral'>    bytes calldata _bytesA,</span>
 216 |     | <span class='neutral'>    uint32 _uint32A</span>
 217 |     | <span class='neutral'>  ) public AgentOrDeployer {</span>
 218 | *   | <span class='executed'>    _selectorIndex = _selectorIndex % 7;</span>
 219 |     | <span class='neutral'></span>
 220 | *   | <span class='executed'>    hevm.prank(currentCaller);</span>
 221 |     | <span class='neutral'></span>
 222 | *   | <span class='executed'>    if (_selectorIndex == 0) {</span>
 223 | *r  | <span class='executed'>      try l2Adapter.sendMessage(_addressA, _uintA, _uint32A) {} catch {}</span>
 224 | *   | <span class='executed'>    } else if (_selectorIndex == 1) {</span>
 225 | *   | <span class='executed'>      try l2Adapter.sendMessage(_addressA, _addressB, _uintA, _bytesA, _uintB, _uint32A) {} catch {}</span>
 226 | *   | <span class='executed'>    } else if (_selectorIndex == 2) {</span>
 227 | *   | <span class='executed'>      try l2Adapter.receiveMessage(_addressA, _uintA) {} catch {}</span>
 228 | *   | <span class='executed'>    } else if (_selectorIndex == 3) {</span>
 229 | *   | <span class='executed'>      try l2Adapter.receiveMigrateToNative(_addressA, _uint32A) {} catch {}</span>
 230 | *   | <span class='executed'>    } else if (_selectorIndex == 4) {</span>
 231 | *r  | <span class='executed'>      try l2Adapter.receiveStopMessaging() {} catch {}</span>
 232 | *   | <span class='executed'>    } else if (_selectorIndex == 5) {</span>
 233 | *r  | <span class='executed'>      try l2Adapter.receiveResumeMessaging() {} catch {}</span>
 234 |     | <span class='neutral'>    } else {</span>
 235 | *r  | <span class='executed'>      try l2Adapter.callUsdcTransaction(_bytesA) {} catch {}</span>
 236 |     | <span class='neutral'>    }</span>
 237 |     | <span class='neutral'>  }</span>
 238 |     | <span class='neutral'></span>
 239 |     | <span class='neutral'>  // Send a call to the L1 or L2 adapter (simulating a direct interaction with the bridge to send the crosschain msg)</span>
 240 | *   | <span class='executed'>  function generateMessageToL1(</span>
 241 |     | <span class='neutral'>    uint256 _selectorIndex,</span>
 242 |     | <span class='neutral'>    address _addressA,</span>
 243 |     | <span class='neutral'>    address _addressB,</span>
 244 |     | <span class='neutral'>    uint256 _uintA,</span>
 245 |     | <span class='neutral'>    uint256 _uintB,</span>
 246 |     | <span class='neutral'>    bytes calldata _bytesA,</span>
 247 |     | <span class='neutral'>    uint32 _uint32A,</span>
 248 |     | <span class='neutral'>    uint32 _uint32B</span>
 249 |     | <span class='unexecuted'>  ) public AgentOrDeployer {</span>
 250 | *   | <span class='executed'>    _selectorIndex = _selectorIndex % 8;</span>
 251 | *   | <span class='executed'>    bytes memory _payload;</span>
 252 |     | <span class='neutral'></span>
 253 | *   | <span class='executed'>    if (_selectorIndex == 0) {</span>
 254 | *   | <span class='executed'>      _payload = abi.encodeWithSignature(&#39;sendMessage(address,uint256,uint32)&#39;, abi.encode(_addressA, _uintA, _uint32A));</span>
 255 | *   | <span class='executed'>    } else if (_selectorIndex == 1) {</span>
 256 | *   | <span class='executed'>      _payload = abi.encodeWithSignature(</span>
 257 |     | <span class='neutral'>        &#39;sendMessage(address,address,uint256,bytes,uint256,uint32)&#39;,</span>
 258 | *   | <span class='executed'>        abi.encode(_addressA, _addressB, _uintA, _bytesA, _uintB, _uint32A)</span>
 259 |     | <span class='neutral'>      );</span>
 260 | *   | <span class='executed'>    } else if (_selectorIndex == 2) {</span>
 261 | *   | <span class='executed'>      _payload = abi.encodeCall(l1Adapter.receiveMessage, (_addressA, _uintA));</span>
 262 | *   | <span class='executed'>    } else if (_selectorIndex == 3) {</span>
 263 | *   | <span class='executed'>      _payload = abi.encodeCall(l1Adapter.migrateToNative, (_addressA, _uint32A, _uint32B));</span>
 264 | *   | <span class='executed'>    } else if (_selectorIndex == 4) {</span>
 265 | *   | <span class='executed'>      _payload = abi.encodeCall(l1Adapter.setBurnAmount, (_uintA));</span>
 266 | *   | <span class='executed'>    } else if (_selectorIndex == 5) {</span>
 267 | *   | <span class='executed'>      _payload = abi.encodeCall(l1Adapter.burnLockedUSDC, ());</span>
 268 | *   | <span class='executed'>    } else if (_selectorIndex == 6) {</span>
 269 | *   | <span class='executed'>      _payload = abi.encodeCall(l1Adapter.stopMessaging, (_uint32A));</span>
 270 |     | <span class='neutral'>    } else {</span>
 271 | *   | <span class='executed'>      _payload = abi.encodeCall(l1Adapter.resumeMessaging, (_uint32A));</span>
 272 |     | <span class='neutral'>    }</span>
 273 |     | <span class='neutral'></span>
 274 | *   | <span class='executed'>    hevm.prank(currentCaller);</span>
 275 | *r  | <span class='executed'>    mockMessenger.sendMessage(currentCaller, _payload, _uint32A);</span>
 276 |     | <span class='neutral'>  }</span>
 277 |     | <span class='neutral'></span>
 278 | *   | <span class='executed'>  function generateMessageToL2(</span>
 279 |     | <span class='neutral'>    uint256 _selectorIndex,</span>
 280 |     | <span class='neutral'>    address _addressA,</span>
 281 |     | <span class='neutral'>    address _addressB,</span>
 282 |     | <span class='neutral'>    uint256 _uintA,</span>
 283 |     | <span class='neutral'>    uint256 _uintB,</span>
 284 |     | <span class='neutral'>    bytes calldata _bytesA,</span>
 285 |     | <span class='neutral'>    uint32 _uint32A</span>
 286 |     | <span class='unexecuted'>  ) public AgentOrDeployer {</span>
 287 | *   | <span class='executed'>    _selectorIndex = _selectorIndex % 7;</span>
 288 | *   | <span class='executed'>    bytes memory _payload;</span>
 289 |     | <span class='neutral'></span>
 290 | *   | <span class='executed'>    if (_selectorIndex == 0) {</span>
 291 | *   | <span class='executed'>      _payload = abi.encodeWithSignature(&#39;sendMessage(address,uint256,uint32)&#39;, abi.encode(_addressA, _uintA, _uint32A));</span>
 292 | *   | <span class='executed'>    } else if (_selectorIndex == 1) {</span>
 293 | *   | <span class='executed'>      _payload = abi.encodeWithSignature(</span>
 294 |     | <span class='neutral'>        &#39;sendMessage(address,address,uint256,bytes,uint256,uint32)&#39;,</span>
 295 | *   | <span class='executed'>        abi.encode(_addressA, _addressB, _uintA, _bytesA, _uintB, _uint32A)</span>
 296 |     | <span class='neutral'>      );</span>
 297 | *   | <span class='executed'>    } else if (_selectorIndex == 2) {</span>
 298 | *   | <span class='executed'>      _payload = abi.encodeWithSelector(l1Adapter.receiveMessage.selector, abi.encode(_addressA, _uintA));</span>
 299 | *   | <span class='executed'>    } else if (_selectorIndex == 3) {</span>
 300 | *   | <span class='executed'>      _payload = abi.encodeCall(l2Adapter.receiveMigrateToNative, (_addressA, _uint32A));</span>
 301 | *   | <span class='executed'>    } else if (_selectorIndex == 4) {</span>
 302 | *   | <span class='executed'>      _payload = abi.encodeCall(l2Adapter.receiveStopMessaging, ());</span>
 303 | *   | <span class='executed'>    } else if (_selectorIndex == 5) {</span>
 304 | *   | <span class='executed'>      _payload = abi.encodeCall(l2Adapter.receiveResumeMessaging, ());</span>
 305 |     | <span class='neutral'>    } else {</span>
 306 | *   | <span class='executed'>      _payload = abi.encodeCall(l2Adapter.callUsdcTransaction, (_bytesA));</span>
 307 |     | <span class='neutral'>    }</span>
 308 |     | <span class='neutral'></span>
 309 | *   | <span class='executed'>    hevm.prank(currentCaller);</span>
 310 | *r  | <span class='executed'>    mockMessenger.sendMessage(currentCaller, _payload, _uint32A);</span>
 311 |     | <span class='neutral'>  }</span>
 312 |     | <span class='neutral'></span>
 313 | *   | <span class='executed'>  function generateCallFactory() public AgentOrDeployer {}</span>
 314 |     | <span class='neutral'>}</span>
 315 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/test/invariants/fuzz/SetupOpUSDC.sol</b>
<code>
   1 |     | <span class='neutral'>// SPDX-License-Identifier: UNLICENSED</span>
   2 |     | <span class='neutral'>pragma solidity 0.8.25;</span>
   3 |     | <span class='neutral'></span>
   4 |     | <span class='neutral'>import {EchidnaTest} from &#39;../AdvancedTestsUtils.sol&#39;;</span>
   5 |     | <span class='neutral'></span>
   6 |     | <span class='neutral'>// https://github.com/crytic/building-secure-contracts/blob/master/program-analysis/echidna/advanced/testing-bytecode.mdq</span>
   7 |     | <span class='neutral'>import {USDC_IMPLEMENTATION_CREATION_CODE} from &#39;script/utils/USDCImplementationCreationCode.sol&#39;;</span>
   8 |     | <span class='neutral'></span>
   9 |     | <span class='neutral'>import {L1OpUSDCBridgeAdapter} from &#39;contracts/L1OpUSDCBridgeAdapter.sol&#39;;</span>
  10 |     | <span class='neutral'>import {IL1OpUSDCFactory, L1OpUSDCFactory} from &#39;contracts/L1OpUSDCFactory.sol&#39;;</span>
  11 |     | <span class='neutral'>import {L2OpUSDCBridgeAdapter} from &#39;contracts/L2OpUSDCBridgeAdapter.sol&#39;;</span>
  12 |     | <span class='neutral'>import {L2OpUSDCFactory} from &#39;contracts/L2OpUSDCFactory.sol&#39;;</span>
  13 |     | <span class='neutral'>import {USDCInitTxs} from &#39;contracts/utils/USDCInitTxs.sol&#39;;</span>
  14 |     | <span class='neutral'>import {IL2OpUSDCFactory} from &#39;interfaces/IL2OpUSDCFactory.sol&#39;;</span>
  15 |     | <span class='neutral'>import {IUSDC} from &#39;interfaces/external/IUSDC.sol&#39;;</span>
  16 |     | <span class='neutral'></span>
  17 |     | <span class='neutral'>import {Create2Deployer} from &#39;test/invariants/fuzz/Create2Deployer.sol&#39;;</span>
  18 |     | <span class='neutral'>import {MockBridge} from &#39;test/invariants/fuzz/MockBridge.sol&#39;;</span>
  19 |     | <span class='neutral'></span>
  20 |     | <span class='unexecuted'>contract SetupOpUSDC is EchidnaTest {</span>
  21 |     | <span class='neutral'>  IUSDC usdcMainnet;</span>
  22 |     | <span class='neutral'>  IUSDC usdcBridged;</span>
  23 |     | <span class='neutral'></span>
  24 | *   | <span class='executed'>  L1OpUSDCBridgeAdapter public l1Adapter;</span>
  25 | *   | <span class='executed'>  L1OpUSDCFactory public factory;</span>
  26 |     | <span class='neutral'></span>
  27 | *   | <span class='executed'>  L2OpUSDCBridgeAdapter public l2Adapter;</span>
  28 | *   | <span class='executed'>  L2OpUSDCFactory public l2Factory;</span>
  29 |     | <span class='neutral'></span>
  30 | *   | <span class='executed'>  MockBridge public mockMessenger;</span>
  31 | *   | <span class='executed'>  Create2Deployer public create2Deployer;</span>
  32 |     | <span class='unexecuted'>  address internal _usdcMinter = address(bytes20(uint160(uint256(keccak256(&#39;usdc.minter&#39;)))));</span>
  33 |     | <span class='neutral'></span>
  34 |     | <span class='neutral'>  /////////////////////////////////////////////////////////////////////</span>
  35 |     | <span class='neutral'>  //                          Initial setup                          //</span>
  36 |     | <span class='neutral'>  /////////////////////////////////////////////////////////////////////</span>
  37 |     | <span class='neutral'></span>
  38 |     | <span class='neutral'>  function _setupUsdc() internal {</span>
  39 |     | <span class='neutral'>    hevm.prank(usdcMainnet.masterMinter());</span>
  40 |     | <span class='neutral'>    usdcMainnet.configureMinter(address(_usdcMinter), type(uint256).max);</span>
  41 |     | <span class='neutral'>  }</span>
  42 |     | <span class='neutral'></span>
  43 |     | <span class='neutral'>  // Deploy: USDC L1, factory L1, L1 adapter</span>
  44 |     | <span class='neutral'>  function _mainnetSetup() internal returns (IL1OpUSDCFactory.L2Deployments memory _l2Deployments) {</span>
  45 |     | <span class='neutral'>    address targetAddress;</span>
  46 |     | <span class='neutral'>    uint256 size = USDC_IMPLEMENTATION_CREATION_CODE.length;</span>
  47 |     | <span class='neutral'>    bytes memory _usdcBytecode = USDC_IMPLEMENTATION_CREATION_CODE;</span>
  48 |     | <span class='neutral'></span>
  49 |     | <span class='neutral'>    assembly {</span>
  50 |     | <span class='neutral'>      targetAddress := create(0, add(_usdcBytecode, 0x20), size) // Skip the 32 bytes encoded length.</span>
  51 |     | <span class='neutral'>    }</span>
  52 |     | <span class='neutral'></span>
  53 |     | <span class='neutral'>    usdcMainnet = IUSDC(targetAddress);</span>
  54 |     | <span class='neutral'></span>
  55 |     | <span class='neutral'>    bytes[] memory usdcInitTxns = new bytes[](3);</span>
  56 |     | <span class='neutral'>    usdcInitTxns[0] = USDCInitTxs.INITIALIZEV2;</span>
  57 |     | <span class='neutral'>    usdcInitTxns[1] = USDCInitTxs.INITIALIZEV2_1;</span>
  58 |     | <span class='neutral'>    usdcInitTxns[2] = USDCInitTxs.INITIALIZEV2_2;</span>
  59 |     | <span class='neutral'></span>
  60 |     | <span class='neutral'>    factory = new L1OpUSDCFactory(address(usdcMainnet));</span>
  61 |     | <span class='neutral'></span>
  62 |     | <span class='neutral'>    mockMessenger = MockBridge(0x4200000000000000000000000000000000000007);</span>
  63 |     | <span class='neutral'></span>
  64 |     | <span class='neutral'>    // owner is this contract, as managed in the agents handler</span>
  65 |     | <span class='neutral'>    _l2Deployments =</span>
  66 |     | <span class='neutral'>      IL1OpUSDCFactory.L2Deployments(address(this), USDC_IMPLEMENTATION_CREATION_CODE, usdcInitTxns, 3_000_000);</span>
  67 |     | <span class='neutral'></span>
  68 |     | <span class='neutral'>    (address _l1Adapter, address _l2Factory, address _l2Adapter) =</span>
  69 |     | <span class='neutral'>      factory.deploy(address(mockMessenger), address(this), _l2Deployments);</span>
  70 |     | <span class='neutral'></span>
  71 |     | <span class='neutral'>    l2Factory = L2OpUSDCFactory(_l2Factory);</span>
  72 |     | <span class='neutral'>    l1Adapter = L1OpUSDCBridgeAdapter(_l1Adapter);</span>
  73 |     | <span class='neutral'>    l2Adapter = L2OpUSDCBridgeAdapter(_l2Adapter);</span>
  74 |     | <span class='neutral'>  }</span>
  75 |     | <span class='neutral'></span>
  76 |     | <span class='neutral'>  // Send a (mock) message to the L2 messenger to deploy the L2 factory and the L2 adapter (which deploys usdc L2 too)</span>
  77 |     | <span class='neutral'>  function _l2Setup(IL1OpUSDCFactory.L2Deployments memory _l2Deployments) internal {</span>
  78 |     | <span class='neutral'>    IL2OpUSDCFactory.USDCInitializeData memory usdcInitializeData = IL2OpUSDCFactory.USDCInitializeData(</span>
  79 |     | <span class='neutral'>      factory.USDC_NAME(), factory.USDC_SYMBOL(), usdcMainnet.currency(), usdcMainnet.decimals()</span>
  80 |     | <span class='neutral'>    );</span>
  81 |     | <span class='neutral'></span>
  82 |     | <span class='neutral'>    bytes memory _l2factoryConstructorArgs = abi.encode(</span>
  83 |     | <span class='neutral'>      address(l1Adapter),</span>
  84 |     | <span class='neutral'>      _l2Deployments.l2AdapterOwner,</span>
  85 |     | <span class='neutral'>      _l2Deployments.usdcImplementationInitCode,</span>
  86 |     | <span class='neutral'>      usdcInitializeData, // encode?</span>
  87 |     | <span class='neutral'>      _l2Deployments.usdcInitTxs // encodePacked?</span>
  88 |     | <span class='neutral'>    );</span>
  89 |     | <span class='neutral'></span>
  90 |     | <span class='neutral'>    bytes memory _l2FactoryInitCode = bytes.concat(type(L2OpUSDCFactory).creationCode, _l2factoryConstructorArgs);</span>
  91 |     | <span class='neutral'></span>
  92 |     | <span class='neutral'>    // !!!! Nonce incremented to avoid collision !!!</span>
  93 |     | <span class='neutral'>    mockMessenger.relayMessage(</span>
  94 |     | <span class='neutral'>      mockMessenger.messageNonce() + 1,</span>
  95 |     | <span class='neutral'>      address(factory),</span>
  96 |     | <span class='neutral'>      address(0x13b0D85CcB8bf860b6b79AF3029fCA081AE9beF2),</span>
  97 |     | <span class='neutral'>      0,</span>
  98 |     | <span class='neutral'>      3_000_000,</span>
  99 |     | <span class='neutral'>      abi.encodeWithSignature(</span>
 100 |     | <span class='neutral'>        &#39;deploy(uint256,bytes32,bytes)&#39;, 0, factory.deploymentsSaltCounter() + 1, _l2FactoryInitCode</span>
 101 |     | <span class='neutral'>      )</span>
 102 |     | <span class='neutral'>    );</span>
 103 |     | <span class='neutral'></span>
 104 |     | <span class='neutral'>    usdcBridged = IUSDC(l2Adapter.USDC());</span>
 105 |     | <span class='neutral'>  }</span>
 106 |     | <span class='neutral'>}</span>
 107 |     | <span class='neutral'></span>

</code>
<br />

<b>/home/hexshire/opUSDC/test/utils/interfaces/ITestCrossDomainMessenger.sol</b>
<code>
  1 |     | <span class='neutral'>pragma solidity 0.8.25;</span>
  2 |     | <span class='neutral'></span>
  3 |     | <span class='neutral'>import {ICrossDomainMessenger} from &#39;interfaces/external/ICrossDomainMessenger.sol&#39;;</span>
  4 |     | <span class='neutral'></span>
  5 |     | <span class='neutral'>/**</span>
  6 |     | <span class='neutral'> * @notice CrossDomainMessenger interface with defined methods only used for testing.</span>
  7 |     | <span class='neutral'> */</span>
  8 |     | <span class='neutral'>interface ITestCrossDomainMessenger is ICrossDomainMessenger {</span>
  9 |     | <span class='neutral'>  /// @notice Relays a message that was sent by the other CrossDomainMessenger contract. Can only</span>
 10 |     | <span class='neutral'>  ///         be executed via cross-chain call from the other messenger OR if the message was</span>
 11 |     | <span class='neutral'>  ///         already received once and is currently being replayed.</span>
 12 |     | <span class='neutral'>  /// @param _nonce       Nonce of the message being relayed.</span>
 13 |     | <span class='neutral'>  /// @param _sender      Address of the user who sent the message.</span>
 14 |     | <span class='neutral'>  /// @param _target      Address that the message is targeted at.</span>
 15 |     | <span class='neutral'>  /// @param _value       ETH value to send with the message.</span>
 16 |     | <span class='neutral'>  /// @param _minGasLimit Minimum amount of gas that the message can be executed with.</span>
 17 |     | <span class='neutral'>  /// @param _message     Message to send to the target.</span>
 18 |     | <span class='neutral'>  function relayMessage(</span>
 19 |     | <span class='neutral'>    uint256 _nonce,</span>
 20 |     | <span class='neutral'>    address _sender,</span>
 21 |     | <span class='neutral'>    address _target,</span>
 22 |     | <span class='neutral'>    uint256 _value,</span>
 23 |     | <span class='neutral'>    uint256 _minGasLimit,</span>
 24 |     | <span class='neutral'>    bytes calldata _message</span>
 25 |     | <span class='neutral'>  ) external payable;</span>
 26 |     | <span class='neutral'></span>
 27 |     | <span class='neutral'>  /**</span>
 28 |     | <span class='neutral'>   * @return _messageNonce The nonce of the last message sent by the other messenger.</span>
 29 |     | <span class='neutral'>   */</span>
 30 |     | <span class='neutral'>  function messageNonce() external view returns (uint256 _messageNonce);</span>
 31 |     | <span class='neutral'></span>
 32 |     | <span class='neutral'>  /**</span>
 33 |     | <span class='neutral'>   * @return _otherMessenger The address of the messenger contract on the other network</span>
 34 |     | <span class='neutral'>   */</span>
 35 |     | <span class='neutral'>  function OTHER_MESSENGER() external view returns (address _otherMessenger);</span>
 36 |     | <span class='neutral'>}</span>
 37 |     | <span class='neutral'></span>

</code>
<br />

